(function(b){function a(){}function d(){}function r(){}function z(){}function v(){}function w(a,e,f){var h=function(){},m=h.prototype=new a.constructor;e._scope=m;m.base=e;e._base_module=a.base;m.constructor=h;m.constants=[];f&&(e._orig_scope=a,a[f]=a.constructor[f]=e,a.constants.push(f))}function x(a,e){function f(){}var m=function(){};m.prototype=a.constructor.prototype;f.prototype=new m;m=new f;m._id=h++;m._alloc=e;m._isClass=!0;m.constructor=f;m._super=a;m._methods=[];m.__inc__=[];m.__parent=
a;m._proto=e.prototype;return e.prototype._klass=m}function u(){function a(){}var e=function(){};e.prototype=c.constructor.prototype;a.prototype=new e;e=new a;e._id=h++;e._isClass=!0;e.constructor=a;e._super=c;e._methods=[];e.__inc__=[];e.__parent=c;e._proto={};e.__mod__=!0;e.__dep__=[];return e}function t(a,e){var f=x(g,e);f._name=a;w(k,f,a);q.push(f);for(var h=p._methods.concat(g._methods),m=0,c=h.length;m<c;m++){var b=h[m];e.prototype[b]=g._proto[b]}return f}function l(a,e){function f(){this.$method_missing._p=
f._p;f._p=null;return this.$method_missing.apply(this,[e.slice(1)].concat(n.call(arguments)))}f.rb_stub=!0;a[e]=f}var k=this.Opal={},p,g,c,q=[];b=function(){};b.prototype=k;k.constructor=b;k.constants=[];k.global=this;var y=k.hasOwnProperty,n=k.slice=Array.prototype.slice,h=0;k.uid=function(){return h++};k.cvars={};k.gvars={};k.create_scope=w;k.klass=function(a,e,h,m){a._isClass||(a=a._klass);null===e&&(e=g);var c=a._scope[h];if(y.call(a._scope,h)&&c._orig_scope===a._scope){if(!c._isClass)throw k.TypeError.$new(h+
" is not a class");if(e!==c._super&&e!==g)throw k.TypeError.$new("superclass mismatch for class "+h);}else{if("function"===typeof e)return t(h,e);c=f(e,m);c._name=h;w(a._scope,c,h);a[h]=a._scope[h]=c;e!==g&&e!==p&&k.donate_constants(e,c);e.$inherited&&e.$inherited(c)}return c};var f=k.boot=function(a,e){var f=function(){};f.prototype=a._proto;e.prototype=new f;e.prototype.constructor=e;return x(a,e)};k.module=function(a,e){var f;a._isClass||(a=a._klass);if(y.call(a._scope,e)){if(f=a._scope[e],!f.__mod__&&
f!==g)throw k.TypeError.$new(e+" is not a module");}else f=u(),f._name=e,w(a._scope,f,e),a[e]=a._scope[e]=f;return f};b=function(a,e,f){f&&(a=function(){},a.prototype=f.prototype,e.prototype=new a);return e.prototype.constructor=e};var e=function(a,e,f){function m(){}var c=function(){};c.prototype=f.prototype;m.prototype=new c;c=new m;c._id=h++;c._alloc=e;c._isClass=!0;c._name=a;c._super=f;c.constructor=m;c._methods=[];c.__inc__=[];c.__parent=f;c._proto=e.prototype;e.prototype._klass=c;k[a]=c;k.constants.push(a);
return c};k.casgn=function(a,e,f){var h=a._scope;f._isClass&&f._name===m&&(f._name=e);f._isClass&&(f._base_module=a);h.constants.push(e);return h[e]=f};k.cdecl=function(a,e,f){a.constants.push(e);return a[e]=f};k.cget=function(a,e){null==e&&(e=a,a=k.Object);var f=a;for(e=e.split("::");0!=e.length;)f=f.$const_get(e.shift());return f};k.donate_constants=function(a,e){for(var f=a._scope.constants,h=e._scope,m=h.constants,c=0,q=f.length;c<q;c++)m.push(f[c]),h[f[c]]=a._scope[f[c]]};k.add_stubs=function(e){for(var f=
0,h=e.length;f<h;f++){var m=e[f];a.prototype[m]||(a.prototype[m]=!0,l(a.prototype,m))}};k.add_stub_for=l;k.cm=function(a){return this.base.$const_missing(a)};k.ac=function(a,e,f,h){throw k.ArgumentError.$new("["+((f._isClass?f._name+".":f._klass._name+"#")+h)+"] wrong number of arguments("+a+" for "+e+")");};k.find_super_dispatcher=function(a,e,f,h,m){if(m)f=a._isClass?m._super:a._klass._proto;else if(a._isClass)f=a._super;else{for(a=a.__meta__||a._klass;a&&a._proto["$"+e]!==f;)a=a.__parent;if(!a)throw Error("could not find current class for super()");
for(a=a.__parent;a&&(!(m=a._proto["$"+e])||m===f);)a=a.__parent;f=a._proto}f=f["$"+e];f._p=h;return f};k.find_iter_super_dispatcher=function(a,e,f,h,m){return f._def?k.find_super_dispatcher(a,f._jsid,f,h,m):k.find_super_dispatcher(a,e,f,h,m)};k.$return=function(a){k.returner.$v=a;throw k.returner;};k.$yield1=function(a,e){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");return 1<a.length?e._isArray?a.apply(null,e):a(e):a(e)};k.$yieldX=function(a,e){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");
if(1<a.length&&1==e.length&&e[0]._isArray)return a.apply(null,e[0]);e._isArray||(e=n.call(e));return a.apply(null,e)};k.$rescue=function(a,e){for(var f=0;f!=e.length;f++){var h=e[f];if(h._isArray){if(h=k.$rescue(a,h))return h}else if(h["$==="](a))return h}return null};k.is_a=function(a,e){if(a.__meta__===e)return!0;for(var f=a._klass;f;){if(f===e)return!0;for(var h=0,m=f.__inc__.length;h<m;h++)if(f.__inc__[h]==e)return!0;f=f._super}return!1};k.to_ary=function(a){return a._isArray?a:a.$to_ary&&!a.$to_ary.rb_stub?
a.$to_ary():[a]};k.send=function(a,e){var f=n.call(arguments,2),h=a["$"+e];return h?h.apply(a,f):a.$method_missing.apply(a,[e].concat(f))};k.block_send=function(a,e,f){var h=n.call(arguments,3),m=a["$"+e];return m?(m._p=f,m.apply(a,h)):a.$method_missing.apply(a,[e].concat(h))};k.donate=function(a,e,f){f=a.__dep__;a._methods=a._methods.concat(e);if(f)for(var h=0,m=f.length;h<m;h++){for(var c=f[h],q=c._proto,b=0,g=e.length;b<g;b++){var n=e[b];q[n]=a._proto[n];q[n]._donated=!0}c.__dep__&&k.donate(c,
e,!0)}};k.defn=function(a,e,f){if(a.__mod__)a._proto[e]=f,k.donate(a,[e]);else if(a._isClass)if(a._proto[e]=f,a===p){p._methods.push(e);a=0;for(var h=q.length;a<h;a++)q[a]._proto[e]=f}else a===g&&k.donate(a,[e]);else a[e]=f;return m};k.defs=function(a,e,f){a._isClass||a.__mod__?a.constructor.prototype[e]=f:a[e]=f};k.hash=function(){if(1==arguments.length&&arguments[0]._klass==k.Hash)return arguments[0];var a=new k.Hash._alloc,e=[],f={};a.map=f;a.keys=e;if(1==arguments.length)if(arguments[0]._isArray)for(var h=
arguments[0],m=0,c=h.length;m<c;m++){var q=h[m];if(2!==q.length)throw k.ArgumentError.$new("value not of length 2: "+q.$inspect());var b=q[0],q=q[1];null==f[b]&&e.push(b);f[b]=q}else for(b in q=arguments[0],q)f[b]=q[b],e.push(b);else{c=arguments.length;if(0!==c%2)throw k.ArgumentError.$new("odd number of arguments for Hash");for(m=0;m<c;m++)b=arguments[m],q=arguments[++m],null==f[b]&&e.push(b),f[b]=q}return a};k.hash2=function(a,e){var f=new k.Hash._alloc;f.keys=a;f.map=e;return f};k.range=function(a,
e,f){var h=new k.Range._alloc;h.begin=a;h.end=e;h.exclude=f;return h};b("BasicObject",a);b("Object",d,a);b("Module",z,d);b("Class",r,z);p=e("BasicObject",a,r);g=e("Object",d,p.constructor);c=e("Module",z,g.constructor);b=e("Class",r,c.constructor);p._klass=b;g._klass=b;c._klass=b;b._klass=b;p._super=null;g._super=p;c._super=g;b._super=c;g.__dep__=q;k.base=g;p._scope=g._scope=k;p._orig_scope=g._orig_scope=k;k.Kernel=g;c._scope=g._scope;b._scope=g._scope;c._orig_scope=g._orig_scope;b._orig_scope=g._orig_scope;
g._proto.toString=function(){return this.$to_s()};k.top=new g._alloc;k.klass(g,g,"NilClass",v);var m=k.nil=new v;m.call=m.apply=function(){throw k.LocalJumpError.$new("no block given");};k.breaker=Error("unexpected break");k.returner=Error("unexpected return");t("Array",Array);t("Boolean",Boolean);t("Numeric",Number);t("String",String);t("Proc",Function);t("Exception",Error);t("Regexp",RegExp);t("Time",Date);TypeError._super=Error}).call(this);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.module;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $name $inspect".split(" "));return function(a){a=z(a,"Opal");var w=a._scope;b.defs(a,"$type_error",function(a,b,t,l){var k,p;null==t&&(t=d);null==l&&(l=d);return(k=(p=!1!==t&&t!==d)?l:p)===d||k._isBoolean&&1!=k?w.TypeError.$new("no implicit conversion of "+a.$class()+" into "+b):w.TypeError.$new("can't convert "+a.$class()+" into "+b+" ("+a.$class()+"#"+
t+" gives "+l.$class())});b.defs(a,"$coerce_to",function(a,b,t){var l;if((l=b["$==="](a))!==d&&(!l._isBoolean||1==l))return a;((l=a["$respond_to?"](t))===d||l._isBoolean&&1!=l)&&this.$raise(this.$type_error(a,b));return a.$__send__(t)});b.defs(a,"$coerce_to!",function(a,b,t){var l,k=d,k=this.$coerce_to(a,b,t);((l=b["$==="](k))===d||l._isBoolean&&1!=l)&&this.$raise(this.$type_error(a,b,t,k));return k});b.defs(a,"$coerce_to?",function(a,b,t){var l,k=d;if((l=a["$respond_to?"](t))===d||l._isBoolean&&
1!=l)return d;k=this.$coerce_to(a,b,t);if((l=k["$nil?"]())!==d&&(!l._isBoolean||1==l))return d;((l=b["$==="](k))===d||l._isBoolean&&1!=l)&&this.$raise(this.$type_error(a,b,t,k));return k});b.defs(a,"$try_convert",function(a,b,t){var l;return(l=b["$==="](a))===d||l._isBoolean&&1!=l?(l=a["$respond_to?"](t))===d||l._isBoolean&&1!=l?d:a.$__send__(t):a});b.defs(a,"$compare",function(a,b){var t,l=d,l=a["$<=>"](b);(t=l===d)===d||t._isBoolean&&1!=t||this.$raise(w.ArgumentError,"comparison of "+a.$class().$name()+
" with "+b.$class().$name()+" failed");return l});b.defs(a,"$destructure",function(a){return 1==a.length?a[0]:a._isArray?a:r.call(a)});b.defs(a,"$respond_to?",function(a,b){return null!=a&&a._klass?a["$respond_to?"](b):!1});b.defs(a,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a._klass?a.$inspect():a.toString()})}(a)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs("$attr_reader $attr_writer $=~ $raise $const_missing $to_str $to_proc $append_features $included $name $new $to_s".split(" "));return function(a,$super){function x(){}var u=x=z(a,$super,"Module",x),t=u._proto,l=u._scope,k,p,g,c;b.defs(u,"$new",k=function(){var a=k._p||d;k._p=null;var c=Opal.boot(Opal.Module,function(){});c._name=d;c._klass=Opal.Module;c.__dep__=[];c.__mod__=!0;c._proto={};b.create_scope(Opal.Module._scope,c);if(a!==
d){var g=a._s;a._s=null;a.call(c);a._s=g}return c});t["$==="]=function(a){var c;return(c=null==a)===d||c._isBoolean&&1!=c?b.is_a(a,this):!1};t["$<"]=function(a){for(var c=this;c;){if(c===a)return!0;c=c.__parent}return!1};t.$alias_method=function(a,c){this._proto["$"+a]=this._proto["$"+c];this._methods&&b.donate(this,["$"+a]);return this};t.$alias_native=function(a,c){null==c&&(c=a);return this._proto["$"+a]=this._proto[c]};t.$ancestors=function(){for(var a=this,c=[];a;)c.push(a),c=c.concat(a.__inc__),
a=a._super;return c};t.$append_features=function(a){for(var c=a.__inc__,g=0,h=c.length;g<h;g++)if(c[g]===this)return;c.push(this);this.__dep__.push(a);a.__parent={name:this._name,_proto:this._proto,__parent:a.__parent,__iclass:!0};for(var c=this._proto,f=a._proto,e=this._methods,g=0,h=e.length;g<h;g++){var m=e[g];if(!f.hasOwnProperty(m)||f[m]._donated)f[m]=c[m],f[m]._donated=!0}a.__dep__&&b.donate(a,e.slice(),!0);b.donate_constants(this,a);return this};t.$attr_accessor=function(a){a=r.call(arguments,
0);this.$attr_reader.apply(this,[].concat(a));return this.$attr_writer.apply(this,[].concat(a))};t.$attr_reader=function(a){var c=this;a=r.call(arguments,0);for(var g=c._proto,h=c,f=0,e=a.length;f<e;f++)(function(a){g[a]=d;var e=function(){return this[a]};h._isSingleton?g.constructor.prototype["$"+a]=e:(g["$"+a]=e,b.donate(c,["$"+a]))})(a[f]);return d};t.$attr_writer=function(a){var c=this;a=r.call(arguments,0);for(var g=c._proto,h=c,f=0,e=a.length;f<e;f++)(function(a){g[a]=d;var e=function(e){return this[a]=
e};h._isSingleton?g.constructor.prototype["$"+a+"="]=e:(g["$"+a+"="]=e,b.donate(c,["$"+a+"="]))})(a[f]);return d};b.defn(u,"$attr",t.$attr_accessor);t.$constants=function(){return this._scope.constants};t["$const_defined?"]=function(a,c){var b;null==c&&(c=!0);((b=a["$=~"](/^[A-Z]\w*$/))===d||b._isBoolean&&1!=b)&&this.$raise(l.NameError,"wrong constant name "+a);scopes=[this._scope];if(c||this===Opal.Object)for(b=this._super;b!==Opal.BasicObject;)scopes.push(b._scope),b=b._super;b=0;for(var h=scopes.length;b<
h;b++)if(scopes[b].hasOwnProperty(a))return!0;return!1};t.$const_get=function(a,c){var b;null==c&&(c=!0);((b=a["$=~"](/^[A-Z]\w*$/))===d||b._isBoolean&&1!=b)&&this.$raise(l.NameError,"wrong constant name "+a);b=[this._scope];if(c||this==Opal.Object)for(var h=this._super;h!==Opal.BasicObject;)b.push(h._scope),h=h._super;for(var h=0,f=b.length;h<f;h++)if(b[h].hasOwnProperty(a))return b[h][a];return this.$const_missing(a)};t.$const_missing=function(a){var c=d,c=this._name;return this.$raise(l.NameError,
"uninitialized constant "+c+"::"+a)};t.$const_set=function(a,c){var g;((g=a["$=~"](/^[A-Z]\w*$/))===d||g._isBoolean&&1!=g)&&this.$raise(l.NameError,"wrong constant name "+a);try{a=a.$to_str()}catch(h){this.$raise(l.TypeError,"conversion with #to_str failed")}b.casgn(this,a,c);return c};t.$define_method=p=function(a,c){var g=p._p||d;p._p=null;c&&(g=c.$to_proc());if(g===d)throw Error("no block given");var h="$"+a;g._jsid=a;g._s=null;g._def=g;this._proto[h]=g;b.donate(this,[h]);return a};t.$remove_method=
function(a){delete this._proto["$"+a];return this};t.$include=function(a){a=r.call(arguments,0);for(var c=a.length-1;0<=c;c--){var b=a[c];b!==this&&(b.$append_features(this),b.$included(this))}return this};t["$include?"]=function(a){for(var c=this;c;c=c.parent)for(var b=0;b!=c.__inc__.length;b++)if(a===c.__inc__[b])return!0;return!1};t.$instance_method=function(a){var c=this._proto["$"+a];c&&!c.rb_stub||this.$raise(l.NameError,"undefined method `"+a+"' for class `"+this.$name()+"'");return l.UnboundMethod.$new(this,
c,a)};t.$instance_methods=function(a){null==a&&(a=!1);var c=[],b=this._proto,h;for(h in this._proto)if(a||b.hasOwnProperty(h))!a&&b[h]._donated||"$"!==h.charAt(0)||c.push(h.substr(1));return c};t.$included=function(a){return d};t.$extended=function(a){return d};t.$module_eval=g=function(){var a=g._p||d;g._p=null;!1!==a&&a!==d||this.$raise(l.ArgumentError,"no block given");var c=a._s,b;a._s=null;b=a.call(this);a._s=c;return b};b.defn(u,"$class_eval",t.$module_eval);t.$module_exec=c=function(){var a=
c._p||d;c._p=null;if(a===d)throw Error("no block given");var b=a._s,g;a._s=null;g=a.apply(this,r.call(arguments));a._s=b;return g};b.defn(u,"$class_exec",t.$module_exec);t["$method_defined?"]=function(a){a=this._proto["$"+a];return!!a&&!a.rb_stub};t.$module_function=function(a){a=r.call(arguments,0);for(var c=0,b=a.length;c<b;c++){var h=a[c];this.constructor.prototype["$"+h]=this._proto["$"+h]}return this};t.$name=function(){if(this._full_name)return this._full_name;for(var a=[],c=this;c;){if(c._name===
d)return 0===a.length?d:a.join("::");a.unshift(c._name);c=c._base_module;if(c===b.Object)break}return 0===a.length?d:this._full_name=a.join("::")};t.$public=function(){return d};t.$private_class_method=function(a){return this["$"+a]||d};b.defn(u,"$private",t.$public);b.defn(u,"$protected",t.$public);t["$private_method_defined?"]=function(a){return!1};t.$private_constant=function(){return d};b.defn(u,"$protected_method_defined?",t["$private_method_defined?"]);b.defn(u,"$public_instance_methods",t.$instance_methods);
b.defn(u,"$public_method_defined?",t["$method_defined?"]);t.$remove_class_variable=function(){return d};t.$remove_const=function(a){var c=this._scope[a];delete this._scope[a];return c};t.$to_s=function(){return this.$name().$to_s()};return(t.$undef_method=function(a){b.add_stub_for(this._proto,"$"+a);return this},d)&&"undef_method"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs(["$raise","$allocate"]);return function(a,$super){function x(){}var u=x=z(a,$super,"Class",x),t=u._proto,l=u._scope,k,p;b.defs(u,"$new",k=function(a){var c=k._p||d;null==a&&(a=l.Object);k._p=null;a._isClass&&!a.__mod__||this.$raise(l.TypeError,"superclass must be a Class");var q=Opal.boot(a,function(){});q._name=d;q.__parent=a;b.create_scope(a._scope,q);a.$inherited(q);c!==d&&(a=c._s,c._s=null,c.call(q),c._s=a);return q});t.$allocate=
function(){var a=new this._alloc;a._id=Opal.uid();return a};t.$inherited=function(a){return d};t.$new=p=function(a){var c=p._p||d;a=r.call(arguments,0);p._p=null;var b=this.$allocate();b.$initialize._p=c;b.$initialize.apply(b,a);return b};return(t.$superclass=function(){return this._super||d},d)&&"superclass"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs(["$raise"]);return function(a,$super){function x(){}var u=x=z(a,$super,"BasicObject",x),t=u._proto,l=u._scope,k,p,g,c;b.defn(u,"$initialize",function(){return d});b.defn(u,"$==",function(a){return this===a});b.defn(u,"$__id__",function(){return this._id||(this._id=Opal.uid())});b.defn(u,"$__send__",k=function(a,c){var b=k._p||d;c=r.call(arguments,1);k._p=null;var h=this["$"+a];if(h)return b!==d&&(h._p=b),h.apply(this,c);b!==d&&(this.$method_missing._p=
b);return this.$method_missing.apply(this,[a].concat(c))});b.defn(u,"$!",function(){return!1});b.defn(u,"$eql?",t["$=="]);b.defn(u,"$equal?",t["$=="]);b.defn(u,"$instance_eval",p=function(){var a=p._p||d;p._p=null;!1!==a&&a!==d||l.Kernel.$raise(l.ArgumentError,"no block given");var c=a._s,b;a._s=null;b=a.call(this,this);a._s=c;return b});b.defn(u,"$instance_exec",g=function(a){var c=g._p||d;a=r.call(arguments,0);g._p=null;!1!==c&&c!==d||l.Kernel.$raise(l.ArgumentError,"no block given");var b=c._s,
h;c._s=null;h=c.apply(this,a);c._s=b;return h});return(b.defn(u,"$method_missing",c=function(a,b){b=r.call(arguments,1);c._p=null;return l.Kernel.$raise(l.NoMethodError,"undefined method `"+a+"' for BasicObject instance")}),d)&&"method_missing"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.module,w=b.gvars;b.add_stubs("$raise $inspect $== $name $class $new $respond_to? $to_ary $to_a $allocate $copy_instance_variables $initialize_clone $initialize_copy $singleton_class $initialize_dup $for $to_proc $append_features $extended $to_i $to_s $to_f $* $=== $empty? $ArgumentError $nan? $infinite? $to_int $> $length $print $format $puts $each $<= $[] $nil? $is_a? $rand $coerce_to $respond_to_missing?".split(" "));return function(a){a=
v(a,"Kernel");var u=a._proto,t=a._scope,l,k,p,g,c,q,y,n;u.$method_missing=l=function(a,f){f=z.call(arguments,1);l._p=null;return this.$raise(t.NoMethodError,"undefined method `"+a+"' for "+this.$inspect())};u["$=~"]=function(a){return!1};u["$==="]=function(a){return this["$=="](a)};u["$<=>"]=function(a){return this["$=="](a)?0:d};u.$method=function(a){var f=this["$"+a];f&&!f.rb_stub||this.$raise(t.NameError,"undefined method `"+a+"' for class `"+this.$class().$name()+"'");return t.Method.$new(this,
f,a)};u.$methods=function(a){null==a&&(a=!0);var f=[],e;for(e in this)"$"==e[0]&&"function"===typeof this[e]&&(0!=a&&a!==d||b.hasOwnProperty.call(this,e))&&void 0===this[e].rb_stub&&f.push(e.substr(1));return f};u.$Array=k=function(a,f){f=z.call(arguments,1);k._p=null;return null==a||a===d?[]:a["$respond_to?"]("to_ary")?a.$to_ary():a["$respond_to?"]("to_a")?a.$to_a():[a]};u.$caller=function(){return[]};u.$class=function(){return this._klass};u.$copy_instance_variables=function(a){for(var f in a)"$"!==
f.charAt(0)&&"_id"!==f&&"_klass"!==f&&(this[f]=a[f])};u.$clone=function(){var a=d,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_clone(this);return a};u.$initialize_clone=function(a){return this.$initialize_copy(a)};u.$define_singleton_method=p=function(a){var f=p._p||d;p._p=null;!1!==f&&f!==d||this.$raise(t.ArgumentError,"tried to create Proc object without a block");var e="$"+a;f._jsid=a;f._s=null;f._def=f;this.$singleton_class()._proto[e]=f;return this};u.$dup=function(){var a=
d,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a};u.$initialize_dup=function(a){return this.$initialize_copy(a)};u.$enum_for=g=function(a,f){var e,c,b=g._p||d;f=z.call(arguments,1);null==a&&(a="each");g._p=null;return(e=(c=t.Enumerator).$for,e._p=b.$to_proc(),e).apply(c,[this,a].concat(f))};b.defn(a,"$to_enum",u.$enum_for);u["$equal?"]=function(a){return this===a};u.$extend=function(a){a=z.call(arguments,0);for(var f=this.$singleton_class(),e=a.length-
1;0<=e;e--){var c=a[e];c.$append_features(f);c.$extended(this)}return this};u.$format=function(a,f){f=z.call(arguments,1);var e=0;return a.replace(/%(\d+\$)?([-+ 0]*)(\d*|\*(\d+\$)?)(?:\.(\d*|\*(\d+\$)?))?([cspdiubBoxXfgeEG])|(%%)/g,function(a,c,h,b,g,q,n,y,d){if(d)return"%";var l=-1!="diubBoxX".indexOf(y),k=-1!="eEfgG".indexOf(y);d="";void 0===b?g=void 0:"*"==b.charAt(0)?(b=e++,g&&(b=parseInt(g,10)-1),g=f[b].$to_i()):g=parseInt(b,10);q?"*"==q.charAt(0)?(q=e++,n&&(q=parseInt(n,10)-1),n=f[q].$to_i()):
n=parseInt(q,10):n=k?6:void 0;c&&(e=parseInt(c,10)-1);switch(y){case "c":a=f[e];a=a._isString?a.charAt(0):String.fromCharCode(a.$to_i());break;case "s":a=f[e].$to_s();void 0!==n&&(a=a.substr(0,n));break;case "p":a=f[e].$inspect();void 0!==n&&(a=a.substr(0,n));break;case "d":case "i":case "u":a=f[e].$to_i().toString();break;case "b":case "B":a=f[e].$to_i().toString(2);break;case "o":a=f[e].$to_i().toString(8);break;case "x":case "X":a=f[e].$to_i().toString(16);break;case "e":case "E":a=f[e].$to_f().toExponential(n);
break;case "f":a=f[e].$to_f().toFixed(n);break;case "g":case "G":a=f[e].$to_f().toPrecision(n)}e++;if(l||k)"-"==a.charAt(0)?(d="-",a=a.substr(1)):-1!=h.indexOf("+")?d="+":-1!=h.indexOf(" ")&&(d=" ");l&&void 0!==n&&a.length<n&&(a="0"["$*"](n-a.length)+a);c=d.length+a.length;void 0!==g&&c<g&&(-1!=h.indexOf("-")?a+=" "["$*"](g-c):-1!=h.indexOf("0")?a="0"["$*"](g-c)+a:d=" "["$*"](g-c)+d);h=d+a;-1!="XEG".indexOf(y)&&(h=h.toUpperCase());return h})};u.$hash=function(){return this._id};u.$initialize_copy=
function(a){return d};u.$inspect=function(){return this.$to_s()};u["$instance_of?"]=function(a){return this._klass===a};u["$instance_variable_defined?"]=function(a){return b.hasOwnProperty.call(this,a.substr(1))};u.$instance_variable_get=function(a){a=this[a.substr(1)];return null==a?d:a};u.$instance_variable_set=function(a,f){return this[a.substr(1)]=f};u.$instance_variables=function(){var a=[],f;for(f in this)"$"!==f.charAt(0)&&"_klass"!==f&&"_id"!==f&&a.push("@"+f);return a};u.$Integer=function(a,
f){var e,c,b=this,g=d;null==f&&(f=d);if((e=t.String["$==="](a))!==d&&(!e._isBoolean||1==e))return(e=a["$empty?"]())===d||e._isBoolean&&1!=e||b.$raise(t.ArgumentError,"invalid value for Integer: (empty string)"),parseInt(a,!1!==(e=f)&&e!==d?e:void 0);!1!==f&&f!==d&&b.$raise(b.$ArgumentError("base is only valid for String values"));return function(){g=a;return t.Integer["$==="](g)?a:t.Float["$==="](g)?((e=!1!==(c=a["$nan?"]())&&c!==d?c:a["$infinite?"]())===d||e._isBoolean&&1!=e||b.$raise(t.FloatDomainError,
"unable to coerce "+a+" to Integer"),a.$to_int()):t.NilClass["$==="](g)?b.$raise(t.TypeError,"can't convert nil into Integer"):(e=a["$respond_to?"]("to_int"))===d||e._isBoolean&&1!=e?(e=a["$respond_to?"]("to_i"))===d||e._isBoolean&&1!=e?b.$raise(t.TypeError,"can't convert "+a.$class()+" into Integer"):a.$to_i():a.$to_int()}()};u.$Float=function(a){var f;return(f=t.String["$==="](a))===d||f._isBoolean&&1!=f?(f=a["$respond_to?"]("to_f"))===d||f._isBoolean&&1!=f?this.$raise(t.TypeError,"can't convert "+
a.$class()+" into Float"):a.$to_f():parseFloat(a)};u["$is_a?"]=function(a){return b.is_a(this,a)};b.defn(a,"$kind_of?",u["$is_a?"]);u.$lambda=c=function(){var a=c._p||d;c._p=null;a.is_lambda=!0;return a};u.$loop=q=function(){var a=q._p||d;for(q._p=null;;)if(a()===r)return r.$v};u["$nil?"]=function(){return!1};b.defn(a,"$object_id",u.$__id__);u.$printf=function(a){a=z.call(arguments,0);a.$length()["$>"](0)&&this.$print(this.$format.apply(this,[].concat(a)));return d};u.$private_methods=function(){return[]};
u.$proc=y=function(){var a=y._p||d;y._p=null;!1!==a&&a!==d||this.$raise(t.ArgumentError,"tried to create Proc object without a block");a.is_lambda=!1;return a};u.$puts=function(a){var f;null==w.stdout&&(w.stdout=d);a=z.call(arguments,0);return(f=w.stdout).$puts.apply(f,[].concat(a))};u.$p=function(a){var f,e,c;a=z.call(arguments,0);(f=(e=a).$each,f._p=(c=function(a){null==w.stdout&&(w.stdout=d);null==a&&(a=d);return w.stdout.$puts(a.$inspect())},c._s=this,c),f).call(e);return a.$length()["$<="](1)?
a["$[]"](0):a};u.$print=function(a){var f;null==w.stdout&&(w.stdout=d);a=z.call(arguments,0);return(f=w.stdout).$print.apply(f,[].concat(a))};u.$warn=function(a){var f,e;null==w.VERBOSE&&(w.VERBOSE=d);null==w.stderr&&(w.stderr=d);a=z.call(arguments,0);((f=!1!==(e=w.VERBOSE["$nil?"]())&&e!==d?e:a["$empty?"]())===d||f._isBoolean&&1!=f)&&(f=w.stderr).$puts.apply(f,[].concat(a));return d};u.$raise=function(a,f){null==w["!"]&&(w["!"]=d);null==a&&w["!"]?a=w["!"]:a._isString?a=t.RuntimeError.$new(a):a["$is_a?"](t.Exception)||
(a=a.$new(f));w["!"]=a;throw a;};b.defn(a,"$fail",u.$raise);u.$rand=function(a){return void 0===a?Math.random():a._isRange?(a=a.$to_a(),a[this.$rand(a.length)]):Math.floor(Math.random()*Math.abs(t.Opal.$coerce_to(a,t.Integer,"to_int")))};b.defn(a,"$srand",u.$rand);u["$respond_to?"]=function(a,f){var e;if((e=this["$respond_to_missing?"](a))!==d&&(!e._isBoolean||1==e))return!0;e=this["$"+a];return"function"!==typeof e||e.rb_stub?!1:!0};b.defn(a,"$send",u.$__send__);b.defn(a,"$public_send",u.$__send__);
u.$singleton_class=function(){if(this._isClass){if(this.__meta__)return this.__meta__;var a=new b.Class._alloc;a._klass=b.Class;this.__meta__=a;a._proto=this.constructor.prototype;a._isSingleton=!0;a.__inc__=[];a._methods=[];a._scope=this._scope;return a}if(this._isClass)return this._klass;if(this.__meta__)return this.__meta__;var f=this._klass,e="#<Class:#<"+f._name+":"+f._id+">>",a=Opal.boot(f,function(){});a._name=e;a._proto=this;this.__meta__=a;a._klass=f._klass;a._scope=f._scope;a.__parent=f;
return a};b.defn(a,"$sprintf",u.$format);u.$String=function(a){return String(a)};u.$tap=n=function(){var a=n._p||d;n._p=null;return b.$yield1(a,this)===r?r.$v:this};u.$to_proc=function(){return this};u.$to_s=function(){return"#<"+this.$class().$name()+":"+this._id+">"};u.$freeze=function(){this.___frozen___=!0;return this};u["$frozen?"]=function(){var a;null==this.___frozen___&&(this.___frozen___=d);return!1!==(a=this.___frozen___)&&a!==d?a:!1};u["$respond_to_missing?"]=function(a){return!1};b.donate(a,
"$method_missing $=~ $=== $<=> $method $methods $Array $caller $class $copy_instance_variables $clone $initialize_clone $define_singleton_method $dup $initialize_dup $enum_for $to_enum $equal? $extend $format $hash $initialize_copy $inspect $instance_of? $instance_variable_defined? $instance_variable_get $instance_variable_set $instance_variables $Integer $Float $is_a? $kind_of? $lambda $loop $nil? $object_id $printf $private_methods $proc $puts $p $print $warn $raise $fail $rand $srand $respond_to? $send $public_send $singleton_class $sprintf $String $tap $to_proc $to_s $freeze $frozen? $respond_to_missing?".split(" "))}(a)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.klass;b.add_stubs(["$raise"]);(function(a,$super){function w(){}var x=w=r(a,$super,"NilClass",w),u=x._proto,t=x._scope;u["$!"]=function(){return!0};u["$&"]=function(a){return!1};u["$|"]=function(a){return!1!==a&&a!==d};u["$^"]=function(a){return!1!==a&&a!==d};u["$=="]=function(a){return a===d};u.$dup=function(){return this.$raise(t.TypeError)};u.$inspect=function(){return"nil"};u["$nil?"]=function(){return!0};u.$singleton_class=function(){return t.NilClass};u.$to_a=
function(){return[]};u.$to_h=function(){return b.hash()};u.$to_i=function(){return 0};b.defn(x,"$to_f",u.$to_i);u.$to_s=function(){return""};u.$object_id=function(){return t.NilClass._id||(t.NilClass._id=b.uid())};return b.defn(x,"$hash",u.$object_id)})(a,null);return b.cdecl(b,"NIL",d)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.klass;b.add_stubs(["$undef_method"]);(function(a,$super){function w(){}var x=w=r(a,$super,"Boolean",w),u=x._proto;u._isBoolean=!0;(function(a){return a.$undef_method("new")})(x.$singleton_class());u["$!"]=function(){return 1!=this};u["$&"]=function(a){return 1==this?!1!==a&&a!==d:!1};u["$|"]=function(a){return 1==this?!0:!1!==a&&a!==d};u["$^"]=function(a){return 1==this?!1===a||a===d:!1!==a&&a!==d};u["$=="]=function(a){return 1==this===a.valueOf()};b.defn(x,"$equal?",
u["$=="]);b.defn(x,"$singleton_class",u.$class);return(u.$to_s=function(){return 1==this?"true":"false"},d)&&"to_s"})(a,null);b.cdecl(b,"TrueClass",b.Boolean);b.cdecl(b,"FalseClass",b.Boolean);b.cdecl(b,"TRUE",!0);return b.cdecl(b,"FALSE",!1)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.klass,z=b.module;b.add_stubs(["$attr_reader","$name","$class"]);(function(a,$super){function x(){}var u=x=r(a,$super,"Exception",x),t=u._proto;t.message=d;u.$attr_reader("message");b.defs(u,"$new",function(a){null==a&&(a="");a=Error(a);a._klass=this;a.name=this._name;return a});t.$backtrace=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]};t.$inspect=function(){return"#<"+this.$class().$name()+": '"+this.message+
"'>"};return b.defn(u,"$to_s",t.$message)})(a,null);(function(a,$super){function b(){}b=r(a,$super,"ScriptError",b);return d})(a,b.Exception);(function(a,$super){function b(){}b=r(a,$super,"SyntaxError",b);return d})(a,b.ScriptError);(function(a,$super){function b(){}b=r(a,$super,"LoadError",b);return d})(a,b.ScriptError);(function(a,$super){function b(){}b=r(a,$super,"NotImplementedError",b);return d})(a,b.ScriptError);(function(a,$super){function b(){}b=r(a,$super,"SystemExit",b);return d})(a,b.Exception);
(function(a,$super){function b(){}b=r(a,$super,"StandardError",b);return d})(a,b.Exception);(function(a,$super){function b(){}b=r(a,$super,"NameError",b);return d})(a,b.StandardError);(function(a,$super){function b(){}b=r(a,$super,"NoMethodError",b);return d})(a,b.NameError);(function(a,$super){function b(){}b=r(a,$super,"RuntimeError",b);return d})(a,b.StandardError);(function(a,$super){function b(){}b=r(a,$super,"LocalJumpError",b);return d})(a,b.StandardError);(function(a,$super){function b(){}
b=r(a,$super,"TypeError",b);return d})(a,b.StandardError);(function(a,$super){function b(){}b=r(a,$super,"ArgumentError",b);return d})(a,b.StandardError);(function(a,$super){function b(){}b=r(a,$super,"IndexError",b);return d})(a,b.StandardError);(function(a,$super){function b(){}b=r(a,$super,"StopIteration",b);return d})(a,b.IndexError);(function(a,$super){function b(){}b=r(a,$super,"KeyError",b);return d})(a,b.IndexError);(function(a,$super){function b(){}b=r(a,$super,"RangeError",b);return d})(a,
b.StandardError);(function(a,$super){function b(){}b=r(a,$super,"FloatDomainError",b);return d})(a,b.RangeError);(function(a,$super){function b(){}b=r(a,$super,"IOError",b);return d})(a,b.StandardError);(function(a,$super){function b(){}b=r(a,$super,"SystemCallError",b);return d})(a,b.StandardError);return function(a){a=z(a,"Errno");(function(a,$super){function u(){}var t=u=r(a,$super,"EINVAL",u),l;return(b.defs(t,"$new",l=function(){l._p=null;return b.find_super_dispatcher(this,"new",l,null,u).apply(this,
["Invalid argument"])}),d)&&"new"})(a,a._scope.SystemCallError)}(a)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass,v=b.gvars;b.add_stubs("$respond_to? $to_str $to_s $coerce_to $new $raise $class $call".split(" "));return function(a,$super){function u(){}var t=u=z(a,$super,"Regexp",u),l=t._proto,k=t._scope,p;l._isRegexp=!0;(function(a){a._proto.$escape=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};a._proto.$quote=a._proto.$escape;a._proto.$union=function(a){a=
r.call(arguments,0);return new RegExp(a.join(""))};return(a._proto.$new=function(a,b){return new RegExp(a,b)},d)&&"new"})(t.$singleton_class());l["$=="]=function(a){return a.constructor==RegExp&&this.toString()===a.toString()};l["$==="]=function(a){!a._isString&&a["$respond_to?"]("to_str")&&(a=a.$to_str());return a._isString?this.test(a):!1};l["$=~"]=function(a){var c;if((c=a===d)!==d&&(!c._isBoolean||1==c))return v["~"]=v["`"]=v["'"]=d;a=k.Opal.$coerce_to(a,k.String,"to_str").$to_s();c=this;c.global?
c.lastIndex=0:c=new RegExp(c.source,"g"+(c.multiline?"m":"")+(c.ignoreCase?"i":""));a=c.exec(a);v["~"]=a?k.MatchData.$new(c,a):v["`"]=v["'"]=d;return a?a.index:d};b.defn(t,"$eql?",l["$=="]);l.$inspect=function(){return this.toString()};l.$match=p=function(a,c){var b,y=p._p||d;p._p=null;if((b=a===d)!==d&&(!b._isBoolean||1==b))return v["~"]=v["`"]=v["'"]=d;(b=null==a._isString)===d||b._isBoolean&&1!=b||(((b=a["$respond_to?"]("to_str"))===d||b._isBoolean&&1!=b)&&this.$raise(k.TypeError,"no implicit conversion of "+
a.$class()+" into String"),a=a.$to_str());b=this;b.global?b.lastIndex=0:b=new RegExp(b.source,"g"+(b.multiline?"m":"")+(b.ignoreCase?"i":""));var n=b.exec(a);return n?(n=v["~"]=k.MatchData.$new(b,n),y===d?n:y.$call(n)):v["~"]=v["`"]=v["'"]=d};l.$source=function(){return this.source};return b.defn(t,"$to_s",l.$source)}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.module;b.add_stubs("$=== $> $< $equal? $<=> $== $normalize $raise $class $>= $<=".split(" "));return function(a){a=r(a,"Comparable");var v=a._proto,w=a._scope;b.defs(a,"$normalize",function(a){var b;return(b=w.Integer["$==="](a))===d||b._isBoolean&&1!=b?a["$>"](0)?1:a["$<"](0)?-1:0:a});v["$=="]=function(a){var r,t=d;try{return(r=this["$equal?"](a))===d||r._isBoolean&&1!=r?(r=t=this["$<=>"](a))===d||r._isBoolean&&1!=r?!1:w.Comparable.$normalize(t)["$=="](0):!0}catch(l){if(b.$rescue(l,
[w.StandardError]))return!1;throw l;}};v["$>"]=function(a){var b,t=d;((b=t=this["$<=>"](a))===d||b._isBoolean&&1!=b)&&this.$raise(w.ArgumentError,"comparison of "+this.$class()+" with "+a.$class()+" failed");return w.Comparable.$normalize(t)["$>"](0)};v["$>="]=function(a){var b,t=d;((b=t=this["$<=>"](a))===d||b._isBoolean&&1!=b)&&this.$raise(w.ArgumentError,"comparison of "+this.$class()+" with "+a.$class()+" failed");return w.Comparable.$normalize(t)["$>="](0)};v["$<"]=function(a){var b,t=d;((b=
t=this["$<=>"](a))===d||b._isBoolean&&1!=b)&&this.$raise(w.ArgumentError,"comparison of "+this.$class()+" with "+a.$class()+" failed");return w.Comparable.$normalize(t)["$<"](0)};v["$<="]=function(a){var b,t=d;((b=t=this["$<=>"](a))===d||b._isBoolean&&1!=b)&&this.$raise(w.ArgumentError,"comparison of "+this.$class()+" with "+a.$class()+" failed");return w.Comparable.$normalize(t)["$<="](0)};v["$between?"]=function(a,b){return this["$<"](a)||this["$>"](b)?!1:!0};b.donate(a,"$== $> $>= $< $<= $between?".split(" "))}(a)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.module;b.add_stubs("$raise $enum_for $flatten $map $== $destructure $nil? $coerce_to! $coerce_to $=== $new $<< $[] $[]= $inspect $__send__ $yield $enumerator_size $respond_to? $size $private $compare $<=> $dup $sort $call $first $zip $to_a".split(" "));return function(a){a=v(a,"Enumerable");var x=a._proto,u=a._scope,t,l,k,p,g,c,q,y,n,h,f,e,m,H,T,U,X,aa,V,G,K,E,Y,B,M,A,F,D,J,I,O,ca,P,Z,ba;x["$all?"]=t=function(){var a,e=t._p||d;t._p=null;var f=
!0;this.$each._p=e!==d?function(){var c=b.$yieldX(e,arguments);if(c===r)return f=r.$v,r;if((a=c)===d||a._isBoolean&&0==a)return f=!1,r}:function(e){if(1==arguments.length&&((a=e)===d||a._isBoolean&&0==a))return f=!1,r};this.$each();return f};x["$any?"]=l=function(){var a,e=l._p||d;l._p=null;var f=!1;this.$each._p=e!==d?function(){var c=b.$yieldX(e,arguments);if(c===r)return f=r.$v,r;if((a=c)!==d&&(!a._isBoolean||1==a))return f=!0,r}:function(e){if(1!=arguments.length||(a=e)!==d&&(!a._isBoolean||1==
a))return f=!0,r};this.$each();return f};x.$chunk=k=function(a){k._p=null;return this.$raise(u.NotImplementedError)};x.$collect=p=function(){var a=p._p||d;p._p=null;if(a===d)return this.$enum_for("collect");var e=[];this.$each._p=function(){var f=b.$yieldX(a,arguments);if(f===r)return e=r.$v,r;e.push(f)};this.$each();return e};x.$collect_concat=g=function(){var a,e,f=g._p||d;g._p=null;return f===d?this.$enum_for("collect_concat"):(a=this.$map,a._p=(e=function(a){var e;null==a&&(a=d);return e=b.$yield1(f,
a),e},e._s=this,e),a).call(this).$flatten(1)};x.$count=c=function(a){var e,f=c._p||d;c._p=null;var m=0;null!=a?f=function(){return u.Opal.$destructure(arguments)["$=="](a)}:f===d&&(f=function(){return!0});this.$each._p=function(){var a=b.$yieldX(f,arguments);if(a===r)return m=r.$v,r;(e=a)===d||e._isBoolean&&1!=e||m++};this.$each();return m};x.$cycle=q=function(a){var e,f=q._p||d;null==a&&(a=d);q._p=null;if(!1===f||f===d)return this.$enum_for("cycle",a);if((e=a["$nil?"]())===d||e._isBoolean&&1!=e)if(a=
u.Opal["$coerce_to!"](a,u.Integer,"to_int"),(e=0>=a)!==d&&(!e._isBoolean||1==e))return d;var c,m=[];this.$each._p=function(){var a=u.Opal.$destructure(arguments);if(b.$yield1(f,a)===r)return c=r.$v,r;m.push(a)};this.$each();if(void 0!==c)return c;if(0===m.length)return d;if((e=a["$nil?"]())===d||e._isBoolean&&1!=e)for(;1<a;){e=0;for(h=m.length;e<h;e++)if(g=b.$yield1(f,m[e]),g===r)return r.$v;a--}else for(;;){e=0;for(var h=m.length;e<h;e++){var g=b.$yield1(f,m[e]);if(g===r)return r.$v}}};x.$detect=
y=function(a){var e,f=y._p||d;y._p=null;if(f===d)return this.$enum_for("detect",a);var c=void 0;this.$each._p=function(){var a=u.Opal.$destructure(arguments),m=b.$yield1(f,a);if(m===r)return c=r.$v,r;if((e=m)!==d&&(!e._isBoolean||1==e))return c=a,r};this.$each();void 0===c&&void 0!==a&&(c="function"===typeof a?a():a);return void 0===c?d:c};x.$drop=function(a){var e;a=u.Opal.$coerce_to(a,u.Integer,"to_int");(e=0>a)===d||e._isBoolean&&1!=e||this.$raise(u.ArgumentError,"attempt to drop negative size");
var f=[],c=0;this.$each._p=function(){a<=c&&f.push(u.Opal.$destructure(arguments));c++};this.$each();return f};x.$drop_while=n=function(){var a,e=n._p||d;n._p=null;if(e===d)return this.$enum_for("drop_while");var f=[],c=!0;this.$each._p=function(){var m=u.Opal.$destructure(arguments);if(c){var h=b.$yield1(e,m);if(h===r)return f=r.$v,r;if((a=h)===d||a._isBoolean&&0==a)c=!1,f.push(m)}else f.push(m)};this.$each();return f};x.$each_cons=h=function(a){h._p=null;return this.$raise(u.NotImplementedError)};
x.$each_entry=f=function(){f._p=null;return this.$raise(u.NotImplementedError)};x.$each_slice=e=function(a){var f,c=e._p||d;e._p=null;a=u.Opal.$coerce_to(a,u.Integer,"to_int");(f=0>=a)===d||f._isBoolean&&1!=f||this.$raise(u.ArgumentError,"invalid slice size");if(c===d)return this.$enum_for("each_slice",a);var m,h=[];this.$each._p=function(){var e=u.Opal.$destructure(arguments);h.push(e);if(h.length===a){if(b.$yield1(c,h)===r)return m=r.$v,r;h=[]}};this.$each();return void 0!==m?m:0<h.length&&b.$yield1(c,
h)===r?r.$v:d};x.$each_with_index=m=function(a){var e=m._p||d;a=z.call(arguments,0);m._p=null;if(e===d)return this.$enum_for.apply(this,["each_with_index"].concat(a));var f,c=0;this.$each._p=function(){var a=u.Opal.$destructure(arguments);if(e(a,c)===r)return f=r.$v,r;c++};this.$each.apply(this,a);return void 0!==f?f:this};x.$each_with_object=H=function(a){var e=H._p||d;H._p=null;if(e===d)return this.$enum_for("each_with_object",a);var f;this.$each._p=function(){var c=u.Opal.$destructure(arguments);
if(e(c,a)===r)return f=r.$v,r};this.$each();return void 0!==f?f:a};x.$entries=function(a){a=z.call(arguments,0);var e=[];this.$each._p=function(){e.push(u.Opal.$destructure(arguments))};this.$each.apply(this,a);return e};b.defn(a,"$find",x.$detect);x.$find_all=T=function(){var a,e=T._p||d;T._p=null;if(e===d)return this.$enum_for("find_all");var f=[];this.$each._p=function(){var c=u.Opal.$destructure(arguments),m=b.$yield1(e,c);if(m===r)return f=r.$v,r;(a=m)===d||a._isBoolean&&1!=a||f.push(c)};this.$each();
return f};x.$find_index=U=function(a){var e,f=U._p||d;U._p=null;if((e=void 0===a&&f===d)!==d&&(!e._isBoolean||1==e))return this.$enum_for("find_index");var c=d,m=0;null!=a?this.$each._p=function(){if(u.Opal.$destructure(arguments)["$=="](a))return c=m,r;m+=1}:f!==d&&(this.$each._p=function(){var a=b.$yieldX(f,arguments);if(a===r)return c=r.$v,r;if((e=a)!==d&&(!e._isBoolean||1==e))return c=m,r;m+=1});this.$each();return c};x.$first=function(a){var e,f=d;if((e=void 0===a)===d||e._isBoolean&&1!=e){f=
[];a=u.Opal.$coerce_to(a,u.Integer,"to_int");(e=0>a)===d||e._isBoolean&&1!=e||this.$raise(u.ArgumentError,"attempt to take negative size");if((e=0==a)!==d&&(!e._isBoolean||1==e))return[];var c=0;a=u.Opal.$coerce_to(a,u.Integer,"to_int");this.$each._p=function(){f.push(u.Opal.$destructure(arguments));if(a<=++c)return r}}else f=d,this.$each._p=function(){f=u.Opal.$destructure(arguments);return r};this.$each();return f};b.defn(a,"$flat_map",x.$collect_concat);x.$grep=X=function(a){var e,f=X._p||d;X._p=
null;var c=[];this.$each._p=f!==d?function(){var m=u.Opal.$destructure(arguments),h=a["$==="](m);if((e=h)!==d&&(!e._isBoolean||1==e)){h=b.$yield1(f,m);if(h===r)return c=r.$v,r;c.push(h)}}:function(){var f=u.Opal.$destructure(arguments);(e=a["$==="](f))===d||e._isBoolean&&1!=e||c.push(f)};this.$each();return c};x.$group_by=aa=function(){var a,e,f,c=aa._p||d,m=d;aa._p=null;if(c===d)return this.$enum_for("group_by");var m=u.Hash.$new(),h;this.$each._p=function(){var g=u.Opal.$destructure(arguments),
q=b.$yield1(c,g);if(q===r)return h=r.$v,r;(a=q,e=m,!1!==(f=e["$[]"](a))&&f!==d?f:e["$[]="](a,[]))["$<<"](g)};this.$each();return void 0!==h?h:m};x["$include?"]=function(a){var e=!1;this.$each._p=function(){if(u.Opal.$destructure(arguments)["$=="](a))return e=!0,r};this.$each();return e};x.$inject=V=function(a,e){var f=V._p||d;V._p=null;var c=a;f!==d&&void 0===e?this.$each._p=function(){var a=u.Opal.$destructure(arguments);if(void 0!==c&&(a=b.$yieldX(f,[c,a]),a===r))return c=r.$v,r;c=a}:(void 0===
e&&(u.Symbol["$==="](a)||this.$raise(u.TypeError,""+a.$inspect()+" is not a Symbol"),e=a,c=void 0),this.$each._p=function(){var a=u.Opal.$destructure(arguments);c=void 0===c?a:c.$__send__(e,a)});this.$each();return void 0==c?d:c};x.$lazy=function(){var a,e,f;return(a=(e=u.Enumerator._scope.Lazy).$new,a._p=(f=function(a,e){var f;null==a&&(a=d);e=z.call(arguments,1);return(f=a).$yield.apply(f,[].concat(e))},f._s=this,f),a).call(e,this,this.$enumerator_size())};x.$enumerator_size=function(){var a;return(a=
this["$respond_to?"]("size"))===d||a._isBoolean&&1!=a?d:this.$size()};a.$private("enumerator_size");b.defn(a,"$map",x.$collect);x.$max=G=function(){var a=this,e=G._p||d;G._p=null;var f;a.$each._p=e!==d?function(){var c=u.Opal.$destructure(arguments);if(void 0===f)f=c;else{var b=e(c,f);if(b===r)return f=r.$v,r;b===d&&a.$raise(u.ArgumentError,"comparison failed");0<b&&(f=c)}}:function(){var a=u.Opal.$destructure(arguments);void 0===f?f=a:0<u.Opal.$compare(a,f)&&(f=a)};a.$each();return void 0===f?d:
f};x.$max_by=K=function(){var a=K._p||d;K._p=null;if(!1===a||a===d)return this.$enum_for("max_by");var e,f;this.$each._p=function(){var c=u.Opal.$destructure(arguments),m=b.$yield1(a,c);if(void 0===e)e=c,f=m;else{if(m===r)return e=r.$v,r;0<m["$<=>"](f)&&(e=c,f=m)}};this.$each();return void 0===e?d:e};b.defn(a,"$member?",x["$include?"]);x.$min=E=function(){var a=this,e=E._p||d;E._p=null;var f;a.$each._p=e!==d?function(){var c=u.Opal.$destructure(arguments);if(void 0===f)f=c;else{var b=e(c,f);if(b===
r)return f=r.$v,r;b===d&&a.$raise(u.ArgumentError,"comparison failed");0>b&&(f=c)}}:function(){var a=u.Opal.$destructure(arguments);void 0===f?f=a:0>u.Opal.$compare(a,f)&&(f=a)};a.$each();return void 0===f?d:f};x.$min_by=Y=function(){var a=Y._p||d;Y._p=null;if(!1===a||a===d)return this.$enum_for("min_by");var e,f;this.$each._p=function(){var c=u.Opal.$destructure(arguments),m=b.$yield1(a,c);if(void 0===e)e=c,f=m;else{if(m===r)return e=r.$v,r;0>m["$<=>"](f)&&(e=c,f=m)}};this.$each();return void 0===
e?d:e};x.$minmax=B=function(){B._p=null;return this.$raise(u.NotImplementedError)};x.$minmax_by=M=function(){M._p=null;return this.$raise(u.NotImplementedError)};x["$none?"]=A=function(){var a,e=A._p||d;A._p=null;var f=!0;this.$each._p=e!==d?function(){var c=b.$yieldX(e,arguments);if(c===r)return f=r.$v,r;if((a=c)!==d&&(!a._isBoolean||1==a))return f=!1,r}:function(){if((a=u.Opal.$destructure(arguments))!==d&&(!a._isBoolean||1==a))return f=!1,r};this.$each();return f};x["$one?"]=F=function(){var a,
e=F._p||d;F._p=null;var f=!1;this.$each._p=e!==d?function(){var c=b.$yieldX(e,arguments);if(c===r)return f=r.$v,r;if((a=c)!==d&&(!a._isBoolean||1==a)){if(!0===f)return f=!1,r;f=!0}}:function(){if((a=u.Opal.$destructure(arguments))!==d&&(!a._isBoolean||1==a)){if(!0===f)return f=!1,r;f=!0}};this.$each();return f};x.$partition=D=function(){var a,e=D._p||d;D._p=null;if(e===d)return this.$enum_for("partition");var f=[],c=[];this.$each._p=function(){var m=u.Opal.$destructure(arguments),h=b.$yield1(e,m);
if(h===r)return result=r.$v,r;(a=h)===d||a._isBoolean&&1!=a?c.push(m):f.push(m)};this.$each();return[f,c]};b.defn(a,"$reduce",x.$inject);x.$reject=J=function(){var a,e=J._p||d;J._p=null;if(e===d)return this.$enum_for("reject");var f=[];this.$each._p=function(){var c=u.Opal.$destructure(arguments),m=b.$yield1(e,c);if(m===r)return f=r.$v,r;((a=m)===d||a._isBoolean&&0==a)&&f.push(c)};this.$each();return f};x.$reverse_each=I=function(){var a=I._p||d;I._p=null;if(a===d)return this.$enum_for("reverse_each");
var e=[];this.$each._p=function(){e.push(arguments)};this.$each();for(var f=e.length-1;0<=f;f--)b.$yieldX(a,e[f]);return e};b.defn(a,"$select",x.$find_all);x.$slice_before=O=function(a){var e,f,c,m=O._p||d;O._p=null;(e=void 0===a&&m===d||1<arguments.length)===d||e._isBoolean&&1!=e||this.$raise(u.ArgumentError,"wrong number of arguments ("+arguments.length+" for 1)");return(e=(f=u.Enumerator).$new,e._p=(c=function(e){var f=c._s||this,h;null==e&&(e=d);var g=[];f.$each._p=m!==d?void 0===a?function(){var a=
u.Opal.$destructure(arguments);(h=b.$yield1(m,a))!==d&&(!h._isBoolean||1==h)&&0<g.length&&(e["$<<"](g),g=[]);g.push(a)}:function(){var f=u.Opal.$destructure(arguments);(h=m(f,a.$dup()))!==d&&(!h._isBoolean||1==h)&&0<g.length&&(e["$<<"](g),g=[]);g.push(f)}:function(){var f=u.Opal.$destructure(arguments);(h=a["$==="](f))!==d&&(!h._isBoolean||1==h)&&0<g.length&&(e["$<<"](g),g=[]);g.push(f)};f.$each();if(0<g.length)e["$<<"](g)},c._s=this,c),e).call(f)};x.$sort=ca=function(){ca._p=null;return this.$raise(u.NotImplementedError)};
x.$sort_by=P=function(){var a,e,f,c,b,m,h,g,q=P._p||d;P._p=null;return q===d?this.$enum_for("sort_by"):(a=(e=(c=(b=(h=this.$map,h._p=(g=function(){arg=u.Opal.$destructure(arguments);return[q.$call(arg),arg]},g._s=this,g),h).call(this)).$sort,c._p=(m=function(a,e){null==a&&(a=d);null==e&&(e=d);return a["$[]"](0)["$<=>"](e["$[]"](0))},m._s=this,m),c).call(b)).$map,a._p=(f=function(a){null==a&&(a=d);return a[1]},f._s=this,f),a).call(e)};x.$take=function(a){return this.$first(a)};x.$take_while=Z=function(){var a,
e=Z._p||d;Z._p=null;if(!1===e||e===d)return this.$enum_for("take_while");var f=[];this.$each._p=function(){var c=u.Opal.$destructure(arguments),m=b.$yield1(e,c);if(m===r)return f=r.$v,r;if((a=m)===d||a._isBoolean&&0==a)return r;f.push(c)};this.$each();return f};b.defn(a,"$to_a",x.$entries);x.$zip=ba=function(a){var e;a=z.call(arguments,0);ba._p=null;return(e=this.$to_a()).$zip.apply(e,[].concat(a))};b.donate(a,"$all? $any? $chunk $collect $collect_concat $count $cycle $detect $drop $drop_while $each_cons $each_entry $each_slice $each_with_index $each_with_object $entries $find $find_all $find_index $first $flat_map $grep $group_by $include? $inject $lazy $enumerator_size $map $max $max_by $member? $min $min_by $minmax $minmax_by $none? $one? $partition $reduce $reject $reverse_each $select $slice_before $sort $sort_by $take $take_while $to_a $zip".split(" "))}(a)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass;b.add_stubs("$include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $destructure $name $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));return function(a,$super){function u(){}var t=u=v(a,$super,"Enumerator",u),l=t._proto,k=t._scope,p,g,c,q;l.size=l.args=l.object=l.method=d;t.$include(k.Enumerable);b.defs(t,"$for",p=function(a,c,b){var f=p._p||
d;b=z.call(arguments,2);null==c&&(c="each");p._p=null;var e=this.$allocate();e.object=a;e.size=f;e.method=c;e.args=b;return e});l.$initialize=g=function(){var a,c,b=g._p||d;g._p=null;if(!1!==b&&b!==d)return this.object=(a=(c=k.Generator).$new,a._p=b.$to_proc(),a).call(c),this.method="each",this.args=[],this.size=arguments[0]||d,(a=this.size)===d||a._isBoolean&&1!=a?d:this.size=k.Opal.$coerce_to(this.size,k.Integer,"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=z.call(arguments,
2);return this.size=d};l.$each=c=function(a){var b,h,f,e=c._p||d;a=z.call(arguments,0);c._p=null;if((b=(h=e["$nil?"](),!1!==h&&h!==d?a["$empty?"]():h))!==d&&(!b._isBoolean||1==b))return this;a=this.args["$+"](a);return(b=e["$nil?"]())===d||b._isBoolean&&1!=b?(h=(f=this.object).$__send__,h._p=e.$to_proc(),h).apply(f,[this.method].concat(a)):(b=this.$class()).$new.apply(b,[this.object,this.method].concat(a))};l.$size=function(){var a;return(a=k.Proc["$==="](this.size))===d||a._isBoolean&&1!=a?this.size:
(a=this.size).$call.apply(a,[].concat(this.args))};l.$with_index=q=function(a){var c=q._p||d;null==a&&(a=0);q._p=null;a=!1!==a&&a!==d?k.Opal.$coerce_to(a,k.Integer,"to_int"):0;if(!1===c||c===d)return this.$enum_for("with_index",a);var b;this.$each._p=function(){var a=k.Opal.$destructure(arguments);if(c(a,index)===r)return b=r.$v,r;index++};this.$each();if(void 0!==b)return b};b.defn(t,"$with_object",l.$each_with_object);l.$inspect=function(){var a,c=d,c="#<"+this.$class().$name()+": "+this.object.$inspect()+
":"+this.method;if((a=this.args["$empty?"]())===d||a._isBoolean&&1!=a)c=c["$+"]("("+this.args.$inspect()["$[]"](k.Range.$new(1,-2))+")");return c["$+"](">")};(function(a,$super){function c(){}var f=c=v(a,$super,"Generator",c),e=f._proto,m=f._scope,g,q;e.block=d;f.$include(m.Enumerable);e.$initialize=g=function(){var a=g._p||d;g._p=null;!1!==a&&a!==d||this.$raise(m.LocalJumpError,"no block given");return this.block=a};return(e.$each=q=function(a){var e,f,c=q._p||d,h=d;a=z.call(arguments,0);q._p=null;
h=(e=(f=m.Yielder).$new,e._p=c.$to_proc(),e).call(f);try{if(a.unshift(h),b.$yieldX(this.block,a)===r)return r.$v}catch(g){if(g===r)return r.$v;throw g;}return this},d)&&"each"})(t,null);(function(a,$super){function c(){}var f=(c=v(a,$super,"Yielder",c))._proto,e;f.block=d;f.$initialize=e=function(){var a=e._p||d;e._p=null;return this.block=a};f.$yield=function(a){a=z.call(arguments,0);var e=b.$yieldX(this.block,a);if(e===r)throw r;return e};return(f["$<<"]=function(a){a=z.call(arguments,0);this.$yield.apply(this,
[].concat(a));return this},d)&&"<<"})(t,null);return function(a,$super){function c(){}var f=c=v(a,$super,"Lazy",c),e=f._proto,m=f._scope,g,q,l,k,p,V,G,t,E;e.enumerator=d;(function(a,$super){function e(){}e=v(a,$super,"StopLazyError",e);return d})(f,m.Exception);e.$initialize=g=function(a,e){var f,c=g._p||d;null==e&&(e=d);g._p=null;c===d&&this.$raise(m.ArgumentError,"tried to call lazy new without a block");this.enumerator=a;return b.find_super_dispatcher(this,"initialize",g,(f=function(e,h){var g=
f._s||this,q,y;null==e&&(e=d);h=z.call(arguments,1);try{return(q=a.$each,q._p=(y=function(a){a=z.call(arguments,0);a.unshift(e);if(b.$yieldX(c,a)===r)return r},y._s=g,y),q).apply(a,[].concat(h))}catch(H){if(b.$rescue(H,[m.Exception]))return d;throw H;}},f._s=this,f)).apply(this,[e])};b.defn(f,"$force",e.$to_a);e.$lazy=function(){return this};e.$collect=q=function(){var a,e,f,c=q._p||d;q._p=null;!1!==c&&c!==d||this.$raise(m.ArgumentError,"tried to call lazy map without a block");return(a=(e=m.Lazy).$new,
a._p=(f=function(a,e){null==a&&(a=d);e=z.call(arguments,1);var f=b.$yieldX(c,e);if(f===r)return r;a.$yield(f)},f._s=this,f),a).call(e,this,this.$enumerator_size())};e.$collect_concat=l=function(){var a,e,f,c=l._p||d;l._p=null;!1!==c&&c!==d||this.$raise(m.ArgumentError,"tried to call lazy map without a block");return(a=(e=m.Lazy).$new,a._p=(f=function(a,e){var h=f._s||this,g,q,y,H,l;null==a&&(a=d);e=z.call(arguments,1);var k=b.$yieldX(c,e);if(k===r)return r;k["$respond_to?"]("force")&&k["$respond_to?"]("each")?
(g=(q=k).$each,g._p=(y=function(e){null==e&&(e=d);return a.$yield(e)},y._s=h,y),g).call(q):m.Opal.$try_convert(k,m.Array,"to_ary")===d?a.$yield(k):(g=(H=k).$each,g._p=(l=function(e){null==e&&(e=d);return a.$yield(e)},l._s=h,l),g).call(H)},f._s=this,f),a).call(e,this,d)};e.$drop=function(a){var e,f,c,b=d,h=b=d;a=m.Opal.$coerce_to(a,m.Integer,"to_int");a["$<"](0)&&this.$raise(m.ArgumentError,"attempt to drop negative size");b=this.$enumerator_size();b=(e=m.Integer["$==="](b))===d||e._isBoolean&&1!=
e?b:a["$<"](b)?a:b;h=0;return(e=(f=m.Lazy).$new,e._p=(c=function(e,f){var c;null==e&&(e=d);f=z.call(arguments,1);return h["$<"](a)?h=h["$+"](1):(c=e).$yield.apply(c,[].concat(f))},c._s=this,c),e).call(f,this,b)};e.$drop_while=k=function(){var a,e,f,c=k._p||d,h=d;k._p=null;!1!==c&&c!==d||this.$raise(m.ArgumentError,"tried to call lazy drop_while without a block");h=!0;return(a=(e=m.Lazy).$new,a._p=(f=function(a,e){var f,m;null==a&&(a=d);e=z.call(arguments,1);if(!1!==h&&h!==d){m=b.$yieldX(c,e);if(m===
r)return r;if((f=m)===d||f._isBoolean&&0==f)h=!1,(f=a).$yield.apply(f,[].concat(e))}else return(m=a).$yield.apply(m,[].concat(e))},f._s=this,f),a).call(e,this,d)};e.$enum_for=p=function(a,e){var f,c,b=p._p||d;e=z.call(arguments,1);null==a&&(a="each");p._p=null;return(f=(c=this.$class()).$for,f._p=b.$to_proc(),f).apply(c,[this,a].concat(e))};e.$find_all=V=function(){var a,e,f,c=V._p||d;V._p=null;!1!==c&&c!==d||this.$raise(m.ArgumentError,"tried to call lazy select without a block");return(a=(e=m.Lazy).$new,
a._p=(f=function(a,e){var f;null==a&&(a=d);e=z.call(arguments,1);var m=b.$yieldX(c,e);if(m===r)return r;(f=m)===d||f._isBoolean&&1!=f||(f=a).$yield.apply(f,[].concat(e))},f._s=this,f),a).call(e,this,d)};b.defn(f,"$flat_map",e.$collect_concat);e.$grep=G=function(a){var e,f,c,h,g,q=G._p||d;G._p=null;return!1!==q&&q!==d?(e=(f=m.Lazy).$new,e._p=(c=function(e,f){var c;null==e&&(e=d);f=z.call(arguments,1);var h=m.Opal.$destructure(f),g=a["$==="](h);if((c=g)!==d&&(!c._isBoolean||1==c)){g=b.$yield1(q,h);
if(g===r)return r;e.$yield(b.$yield1(q,h))}},c._s=this,c),e).call(f,this,d):(e=(h=m.Lazy).$new,e._p=(g=function(e,f){var c;null==e&&(e=d);f=z.call(arguments,1);var b=m.Opal.$destructure(f);(c=a["$==="](b))===d||c._isBoolean&&1!=c||e.$yield(b)},g._s=this,g),e).call(h,this,d)};b.defn(f,"$map",e.$collect);b.defn(f,"$select",e.$find_all);e.$reject=t=function(){var a,e,f,c=t._p||d;t._p=null;!1!==c&&c!==d||this.$raise(m.ArgumentError,"tried to call lazy reject without a block");return(a=(e=m.Lazy).$new,
a._p=(f=function(a,e){var f;null==a&&(a=d);e=z.call(arguments,1);var m=b.$yieldX(c,e);if(m===r)return r;((f=m)===d||f._isBoolean&&0==f)&&(f=a).$yield.apply(f,[].concat(e))},f._s=this,f),a).call(e,this,d)};e.$take=function(a){var e,f,c,b=d,h=b=d;a=m.Opal.$coerce_to(a,m.Integer,"to_int");a["$<"](0)&&this.$raise(m.ArgumentError,"attempt to take negative size");b=this.$enumerator_size();b=(e=m.Integer["$==="](b))===d||e._isBoolean&&1!=e?b:a["$<"](b)?a:b;h=0;return(e=(f=m.Lazy).$new,e._p=(c=function(e,
f){var b=c._s||this,g;null==e&&(e=d);f=z.call(arguments,1);return h["$<"](a)?((g=e).$yield.apply(g,[].concat(f)),h=h["$+"](1)):b.$raise(m.StopLazyError)},c._s=this,c),e).call(f,this,b)};e.$take_while=E=function(){var a,e,f,c=E._p||d;E._p=null;!1!==c&&c!==d||this.$raise(m.ArgumentError,"tried to call lazy take_while without a block");return(a=(e=m.Lazy).$new,a._p=(f=function(a,e){var h=f._s||this,g;null==a&&(a=d);e=z.call(arguments,1);var q=b.$yieldX(c,e);if(q===r)return r;(g=q)===d||g._isBoolean&&
1!=g?h.$raise(m.StopLazyError):(g=a).$yield.apply(g,[].concat(e))},f._s=this,f),a).call(e,this,d)};b.defn(f,"$to_enum",e.$enum_for);return(e.$inspect=function(){return"#<"+this.$class().$name()+": "+this.enumerator.$inspect()+">"},d)&&"inspect"}(t,t)}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass,w=b.gvars,x=b.range;b.add_stubs("$include $new $class $raise $=== $to_a $respond_to? $to_ary $coerce_to $coerce_to? $== $to_str $clone $hash $<=> $inspect $empty? $enum_for $nil? $coerce_to! $initialize_clone $initialize_dup $replace $eql? $length $begin $end $exclude_end? $flatten $object_id $[] $to_s $join $delete_if $to_proc $each $reverse $! $map $rand $keep_if $shuffle! $> $< $sort $times $[]= $<< $at".split(" "));return function(a,
$super){function l(){}var k=l=v(a,$super,"Array",l),p=k._proto,g=k._scope,c,q,y,n,h,f,e,m,H,T,U,X,aa,V,G,K,E,Y,B,M,A;p.length=d;k.$include(g.Enumerable);p._isArray=!0;b.defs(k,"$[]",function(a){return a=z.call(arguments,0)});p.$initialize=function(a){var e;a=z.call(arguments,0);return(e=this.$class()).$new.apply(e,[].concat(a))};b.defs(k,"$new",c=function(a,e){var f,b=c._p||d;null==a&&(a=d);null==e&&(e=d);c._p=null;(f=2<arguments.length)===d||f._isBoolean&&1!=f||this.$raise(g.ArgumentError,"wrong number of arguments ("+
arguments.length+" for 0..2)");if((f=0===arguments.length)!==d&&(!f._isBoolean||1==f))return[];if((f=1===arguments.length)!==d&&(!f._isBoolean||1==f)){if((f=g.Array["$==="](a))!==d&&(!f._isBoolean||1==f))return a.$to_a();if((f=a["$respond_to?"]("to_ary"))!==d&&(!f._isBoolean||1==f))return a.$to_ary()}a=g.Opal.$coerce_to(a,g.Integer,"to_int");(f=0>a)===d||f._isBoolean&&1!=f||this.$raise(g.ArgumentError,"negative array size");f=[];if(b===d)for(var m=0;m<a;m++)f.push(e);else for(var m=0,h;m<a;m++){h=
b(m);if(h===r)return r.$v;f[m]=h}return f});b.defs(k,"$try_convert",function(a){return g.Opal["$coerce_to?"](a,g.Array,"to_ary")});p["$&"]=function(a){var e;a=(e=g.Array["$==="](a))===d||e._isBoolean&&1!=e?g.Opal.$coerce_to(a,g.Array,"to_ary").$to_a():a.$to_a();e=[];for(var f={},c=0,b=this.length;c<b;c++){var m=this[c];if(!f[m])for(var h=0,q=a.length;h<q;h++){var n=a[h];!f[n]&&m["$=="](n)&&(f[m]=!0,e.push(m))}}return e};p["$*"]=function(a){var e;if((e=a["$respond_to?"]("to_str"))!==d&&(!e._isBoolean||
1==e))return this.join(a.$to_str());((e=a["$respond_to?"]("to_int"))===d||e._isBoolean&&1!=e)&&this.$raise(g.TypeError,"no implicit conversion of "+a.$class()+" into Integer");a=g.Opal.$coerce_to(a,g.Integer,"to_int");(e=0>a)===d||e._isBoolean&&1!=e||this.$raise(g.ArgumentError,"negative argument");e=[];for(var f=0;f<a;f++)e=e.concat(this);return e};p["$+"]=function(a){var e;a=(e=g.Array["$==="](a))===d||e._isBoolean&&1!=e?g.Opal.$coerce_to(a,g.Array,"to_ary").$to_a():a.$to_a();return this.concat(a)};
p["$-"]=function(a){var e;a=(e=g.Array["$==="](a))===d||e._isBoolean&&1!=e?g.Opal.$coerce_to(a,g.Array,"to_ary").$to_a():a.$to_a();if((e=0===this.length)!==d&&(!e._isBoolean||1==e))return[];if((e=0===a.length)!==d&&(!e._isBoolean||1==e))return this.$clone();e={};for(var f=[],c=0,b=a.length;c<b;c++)e[a[c]]=!0;c=0;for(b=this.length;c<b;c++)a=this[c],e[a]||f.push(a);return f};p["$<<"]=function(a){this.push(a);return this};p["$<=>"]=function(a){var e;if((e=g.Array["$==="](a))===d||e._isBoolean&&1!=e){if((e=
a["$respond_to?"]("to_ary"))===d||e._isBoolean&&1!=e)return d;a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;if(this.length!=a.length)return this.length>a.length?1:-1;e=0;for(var f=this.length;e<f;e++){var c=this[e]["$<=>"](a[e]);if(0!==c)return c}return 0};p["$=="]=function(a){var e;if((e=this===a)!==d&&(!e._isBoolean||1==e))return!0;if((e=g.Array["$==="](a))===d||e._isBoolean&&1!=e)return(e=a["$respond_to?"]("to_ary"))===d||e._isBoolean&&1!=e?!1:a["$=="](this);a=a.$to_a();
if((e=this.length===a.length)===d||e._isBoolean&&1!=e)return!1;e=0;for(var f=this.length;e<f;e++){var c=this[e],b=a[e];if(!(c._isArray&&b._isArray&&c===this||c["$=="](b)))return!1}return!0};p["$[]"]=function(a,e){var f;if((f=g.Range["$==="](a))===d||f._isBoolean&&1!=f){a=g.Opal.$coerce_to(a,g.Integer,"to_int");f=this.length;if(0>a&&(a+=f,0>a))return d;if(void 0===e)return a>=f||0>a?d:this[a];e=g.Opal.$coerce_to(e,g.Integer,"to_int");return 0>e||a>f||0>a?d:this.slice(a,a+e)}f=this.length;var c=a.exclude,
b=g.Opal.$coerce_to(a.begin,g.Integer,"to_int"),m=g.Opal.$coerce_to(a.end,g.Integer,"to_int");if(0>b&&(b+=f,0>b)||b>f)return d;if(0>m&&(m+=f,0>m))return[];c||(m+=1);return this.slice(b,m)};p["$[]="]=function(a,e,f){var c,b=d,m=d;if((c=g.Range["$==="](a))===d||c._isBoolean&&1!=c){(c=void 0===f)===d||c._isBoolean&&1!=c?(m=e,e=f,b=(c=g.Array["$==="](e))===d||c._isBoolean&&1!=c?(c=e["$respond_to?"]("to_ary"))===d||c._isBoolean&&1!=c?[e]:e.$to_ary().$to_a():e.$to_a()):m=1;c=this.length;a=g.Opal.$coerce_to(a,
g.Integer,"to_int");var m=g.Opal.$coerce_to(m,g.Integer,"to_int"),h;0>a&&(h=a,a+=c,0>a&&this.$raise(g.IndexError,"index "+h+" too small for array; minimum "+-this.length));0>m&&this.$raise(g.IndexError,"negative length ("+m+")");if(a>c)for(;c<a;c++)this[c]=d;void 0===f?this[a]=e:this.splice.apply(this,[a,m].concat(b))}else{b=(c=g.Array["$==="](e))===d||c._isBoolean&&1!=c?(c=e["$respond_to?"]("to_ary"))===d||c._isBoolean&&1!=c?[e]:e.$to_ary().$to_a():e.$to_a();c=this.length;h=a.exclude;f=g.Opal.$coerce_to(a.begin,
g.Integer,"to_int");m=g.Opal.$coerce_to(a.end,g.Integer,"to_int");0>f&&(f+=c,0>f&&this.$raise(g.RangeError,""+a.$inspect()+" out of range"));0>m&&(m+=c);h||(m+=1);if(f>c)for(;c<f;c++)this[c]=d;0>m?this.splice.apply(this,[f,0].concat(b)):this.splice.apply(this,[f,m-f].concat(b))}return e};p.$assoc=function(a){for(var e=0,f=this.length,c;e<f;e++)if(c=this[e],c.length&&c[0]["$=="](a))return c;return d};p.$at=function(a){a=g.Opal.$coerce_to(a,g.Integer,"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?
d:this[a]};p.$cycle=q=function(a){var e,f,c=q._p||d;null==a&&(a=d);q._p=null;if((e=!1!==(f=this["$empty?"]())&&f!==d?f:a["$=="](0))!==d&&(!e._isBoolean||1==e))return d;if(!1===c||c===d)return this.$enum_for("cycle",a);if((e=a["$nil?"]())===d||e._isBoolean&&1!=e){a=g.Opal["$coerce_to!"](a,g.Integer,"to_int");if(0>=a)return this;for(;0<a;){e=0;for(f=this.length;e<f;e++)if(m=b.$yield1(c,this[e]),m===r)return r.$v;a--}}else for(;;)for(e=0,f=this.length;e<f;e++){var m=b.$yield1(c,this[e]);if(m===r)return r.$v}return this};
p.$clear=function(){this.splice(0,this.length);return this};p.$clone=function(){var a=d,a=[];a.$initialize_clone(this);return a};p.$dup=function(){var a=d,a=[];a.$initialize_dup(this);return a};p.$initialize_copy=function(a){return this.$replace(a)};p.$collect=y=function(){var a=y._p||d;y._p=null;if(a===d)return this.$enum_for("collect");for(var e=[],f=0,c=this.length;f<c;f++){var b=Opal.$yield1(a,this[f]);if(b===r)return r.$v;e.push(b)}return e};p["$collect!"]=n=function(){var a=n._p||d;n._p=null;
if(a===d)return this.$enum_for("collect!");for(var e=0,f=this.length;e<f;e++){var c=Opal.$yield1(a,this[e]);if(c===r)return r.$v;this[e]=c}return this};p.$compact=function(){for(var a=[],e=0,f=this.length,c;e<f;e++)(c=this[e])!==d&&a.push(c);return a};p["$compact!"]=function(){for(var a=this.length,e=0,f=this.length;e<f;e++)this[e]===d&&(this.splice(e,1),f--,e--);return this.length===a?d:this};p.$concat=function(a){var e;a=(e=g.Array["$==="](a))===d||e._isBoolean&&1!=e?g.Opal.$coerce_to(a,g.Array,
"to_ary").$to_a():a.$to_a();e=0;for(var f=a.length;e<f;e++)this.push(a[e]);return this};p.$delete=function(a){for(var e=this.length,f=0,c=e;f<c;f++)this[f]["$=="](a)&&(this.splice(f,1),c--,f--);return this.length===e?d:a};p.$delete_at=function(a){a=g.Opal.$coerce_to(a,g.Integer,"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return d;var e=this[a];this.splice(a,1);return e};p.$delete_if=h=function(){var a=h._p||d;h._p=null;if(a===d)return this.$enum_for("delete_if");for(var e=0,f=this.length,
c;e<f;e++){if((c=a(this[e]))===r)return r.$v;!1!==c&&c!==d&&(this.splice(e,1),f--,e--)}return this};p.$drop=function(a){0>a&&this.$raise(g.ArgumentError);return this.slice(a)};b.defn(k,"$dup",p.$clone);p.$each=f=function(){var a=f._p||d;f._p=null;if(a===d)return this.$enum_for("each");for(var e=0,c=this.length;e<c;e++)if(b.$yield1(a,this[e])==r)return r.$v;return this};p.$each_index=e=function(){var a=e._p||d;e._p=null;if(a===d)return this.$enum_for("each_index");for(var f=0,c=this.length;f<c;f++)if(b.$yield1(a,
f)===r)return r.$v;return this};p["$empty?"]=function(){return 0===this.length};p["$eql?"]=function(a){var e;if((e=this===a)!==d&&(!e._isBoolean||1==e))return!0;if((e=g.Array["$==="](a))===d||e._isBoolean&&1!=e)return!1;a=a.$to_a();if((e=this.length===a.length)===d||e._isBoolean&&1!=e)return!1;e=0;for(var f=this.length;e<f;e++){var c=this[e],b=a[e];if(!(c._isArray&&b._isArray&&c===this||c["$eql?"](b)))return!1}return!0};p.$fetch=m=function(a,e){var f=m._p||d;m._p=null;var c=a;a=g.Opal.$coerce_to(a,
g.Integer,"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(f!==d)return f(c);if(null!=e)return e;0===this.length?this.$raise(g.IndexError,"index "+c+" outside of array bounds: 0...0"):this.$raise(g.IndexError,"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)};p.$fill=H=function(a){var e,f=H._p||d,c=d,m=d,h=d,q=d,m=d;a=z.call(arguments,0);H._p=null;!1!==f&&f!==d?((e=2<a.length)===d||e._isBoolean&&1!=e||this.$raise(g.ArgumentError,"wrong number of arguments ("+
a.$length()+" for 0..2)"),e=b.to_ary(a),c=null==e[0]?d:e[0],m=null==e[1]?d:e[1]):((e=0==a.length)===d||e._isBoolean&&1!=e?(e=3<a.length)===d||e._isBoolean&&1!=e||this.$raise(g.ArgumentError,"wrong number of arguments ("+a.$length()+" for 1..3)"):this.$raise(g.ArgumentError,"wrong number of arguments (0 for 1..3)"),e=b.to_ary(a),h=null==e[0]?d:e[0],c=null==e[1]?d:e[1],m=null==e[2]?d:e[2]);if((e=g.Range["$==="](c))===d||e._isBoolean&&1!=e)if(!1!==c&&c!==d)if(q=g.Opal.$coerce_to(c,g.Integer,"to_int"),
(e=0>q)===d||e._isBoolean&&1!=e||(q+=this.length),(e=0>q)===d||e._isBoolean&&1!=e||(q=0),!1!==m&&m!==d){m=g.Opal.$coerce_to(m,g.Integer,"to_int");if((e=0==m)!==d&&(!e._isBoolean||1==e))return this;m+=q}else m=this.length;else q=0,m=this.length;else{!1!==m&&m!==d&&this.$raise(g.TypeError,"length invalid with range");q=g.Opal.$coerce_to(c.$begin(),g.Integer,"to_int");(e=0>q)===d||e._isBoolean&&1!=e||(q+=this.length);(e=0>q)===d||e._isBoolean&&1!=e||this.$raise(g.RangeError,""+c.$inspect()+" out of range");
m=g.Opal.$coerce_to(c.$end(),g.Integer,"to_int");(e=0>m)===d||e._isBoolean&&1!=e||(m+=this.length);if((e=c["$exclude_end?"]())===d||e._isBoolean&&1!=e)m+=1;if((e=m<=q)!==d&&(!e._isBoolean||1==e))return this}if((e=q>this.length)!==d&&(!e._isBoolean||1==e))for(c=this.length;c<m;c++)this[c]=d;(e=m>this.length)===d||e._isBoolean&&1!=e||(this.length=m);if(!1!==f&&f!==d)for(;q<m;q++){e=f(q);if(e===r)return r.$v;this[q]=e}else for(;q<m;q++)this[q]=h;return this};p.$first=function(a){if(null==a)return 0===
this.length?d:this[0];a=g.Opal.$coerce_to(a,g.Integer,"to_int");0>a&&this.$raise(g.ArgumentError,"negative array size");return this.slice(0,a)};p.$flatten=function(a){for(var e=[],f=0,c=this.length;f<c;f++){var b=this[f];g.Opal["$respond_to?"](b,"to_ary")?(b=b.$to_ary(),null==a?e.push.apply(e,b.$flatten().$to_a()):0==a?e.push(b):e.push.apply(e,b.$flatten(a-1).$to_a())):e.push(b)}return e};p["$flatten!"]=function(a){a=this.$flatten(a);if(this.length==a.length){for(var e=0,f=this.length;e<f&&this[e]===
a[e];e++);if(e==f)return d}this.$replace(a);return this};p.$hash=function(){return this._id||(this._id=Opal.uid())};p["$include?"]=function(a){for(var e=0,f=this.length;e<f;e++)if(this[e]["$=="](a))return!0;return!1};p.$index=T=function(a){var e=T._p||d;T._p=null;if(null!=a)for(var f=0,c=this.length;f<c;f++){if(this[f]["$=="](a))return f}else if(e!==d)for(f=0,c=this.length;f<c;f++){if((a=e(this[f]))===r)return r.$v;if(!1!==a&&a!==d)return f}else return this.$enum_for("index");return d};p.$insert=
function(a,e){e=z.call(arguments,1);a=g.Opal.$coerce_to(a,g.Integer,"to_int");if(0<e.length){0>a&&(a+=this.length+1,0>a&&this.$raise(g.IndexError,""+a+" is out of bounds"));if(a>this.length)for(var f=this.length;f<a;f++)this.push(d);this.splice.apply(this,[a,0].concat(e))}return this};p.$inspect=function(){var a,e,f,c,b;e=[];b=this.$object_id();c=this.length;for(a=0;a<c;a++)f=this["$[]"](a),f=f.$object_id()===b?"[...]":f.$inspect(),e.push(f);return"["+e.join(", ")+"]"};p.$join=function(a){var e;null==
w[","]&&(w[","]=d);null==a&&(a=d);if((e=0===this.length)!==d&&(!e._isBoolean||1==e))return"";(e=a===d)===d||e._isBoolean&&1!=e||(a=w[","]);e=[];for(var f=0,c=this.length;f<c;f++){var b=this[f];if(g.Opal["$respond_to?"](b,"to_str")){var m=b.$to_str();if(m!==d){e.push(m.$to_s());continue}}if(g.Opal["$respond_to?"](b,"to_ary")&&(m=b.$to_ary(),m!==d)){e.push(m.$join(a));continue}if(g.Opal["$respond_to?"](b,"to_s")&&(m=b.$to_s(),m!==d)){e.push(m);continue}this.$raise(g.NoMethodError,""+g.Opal.$inspect(b)+
" doesn't respond to #to_str, #to_ary or #to_s")}return a===d?e.join(""):e.join(g.Opal["$coerce_to!"](a,g.String,"to_str").$to_s())};p.$keep_if=U=function(){var a=U._p||d;U._p=null;if(a===d)return this.$enum_for("keep_if");for(var e=0,f=this.length,c;e<f;e++){if((c=a(this[e]))===r)return r.$v;if(!1===c||c===d)this.splice(e,1),f--,e--}return this};p.$last=function(a){if(null==a)return 0===this.length?d:this[this.length-1];a=g.Opal.$coerce_to(a,g.Integer,"to_int");0>a&&this.$raise(g.ArgumentError,"negative array size");
a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)};p.$length=function(){return this.length};b.defn(k,"$map",p.$collect);b.defn(k,"$map!",p["$collect!"]);p.$pop=function(a){var e;if((e=void 0===a)!==d&&(!e._isBoolean||1==e))return(e=0===this.length)===d||e._isBoolean&&1!=e?this.pop():d;a=g.Opal.$coerce_to(a,g.Integer,"to_int");(e=0>a)===d||e._isBoolean&&1!=e||this.$raise(g.ArgumentError,"negative array size");return(e=0===this.length)===d||e._isBoolean&&1!=e?(e=a>this.length)===
d||e._isBoolean&&1!=e?this.splice(this.length-a,this.length):this.splice(0,this.length):[]};p.$push=function(a){a=z.call(arguments,0);for(var e=0,f=a.length;e<f;e++)this.push(a[e]);return this};p.$rassoc=function(a){for(var e=0,f=this.length,c;e<f;e++)if(c=this[e],c.length&&void 0!==c[1]&&c[1]["$=="](a))return c;return d};p.$reject=X=function(){var a=X._p||d;X._p=null;if(a===d)return this.$enum_for("reject");for(var e=[],f=0,c=this.length,b;f<c;f++){if((b=a(this[f]))===r)return r.$v;!1!==b&&b!==d||
e.push(this[f])}return e};p["$reject!"]=aa=function(){var a,e=aa._p||d,f=d;aa._p=null;if(e===d)return this.$enum_for("reject!");f=this.$length();(a=this.$delete_if,a._p=e.$to_proc(),a).call(this);return this.$length()["$=="](f)?d:this};p.$replace=function(a){var e;a=(e=g.Array["$==="](a))===d||e._isBoolean&&1!=e?g.Opal.$coerce_to(a,g.Array,"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this};p.$reverse=function(){return this.slice(0).reverse()};p["$reverse!"]=
function(){return this.reverse()};p.$reverse_each=V=function(){var a,e,f=V._p||d;V._p=null;if(f===d)return this.$enum_for("reverse_each");(a=(e=this.$reverse()).$each,a._p=f.$to_proc(),a).call(e);return this};p.$rindex=G=function(a){var e=G._p||d;G._p=null;if(null!=a)for(var f=this.length-1;0<=f;f--){if(this[f]["$=="](a))return f}else if(e!==d)for(f=this.length-1;0<=f;f--){if((a=e(this[f]))===r)return r.$v;if(!1!==a&&a!==d)return f}else if(null==a)return this.$enum_for("rindex");return d};p.$sample=
function(a){var e,f,c;null==a&&(a=d);return(e=(f=a["$!"](),!1!==f&&f!==d?this["$empty?"]():f))===d||e._isBoolean&&1!=e?(e=(f=!1!==a&&a!==d)?this["$empty?"]():f)===d||e._isBoolean&&1!=e?!1!==a&&a!==d?(e=(f=x(1,a,!1)).$map,e._p=(c=function(){var a=c._s||this;return a["$[]"](a.$rand(a.$length()))},c._s=this,c),e).call(f):this["$[]"](this.$rand(this.$length())):[]:d};p.$select=K=function(){var a=K._p||d;K._p=null;if(a===d)return this.$enum_for("select");for(var e=[],f=0,c=this.length,m,h;f<c;f++){m=this[f];
if((h=b.$yield1(a,m))===r)return r.$v;!1!==h&&h!==d&&e.push(m)}return e};p["$select!"]=E=function(){var a,e=E._p||d;E._p=null;if(e===d)return this.$enum_for("select!");var f=this.length;(a=this.$keep_if,a._p=e.$to_proc(),a).call(this);return this.length===f?d:this};p.$shift=function(a){var e;if((e=void 0===a)!==d&&(!e._isBoolean||1==e))return(e=0===this.length)===d||e._isBoolean&&1!=e?this.shift():d;a=g.Opal.$coerce_to(a,g.Integer,"to_int");(e=0>a)===d||e._isBoolean&&1!=e||this.$raise(g.ArgumentError,
"negative array size");return(e=0===this.length)===d||e._isBoolean&&1!=e?this.splice(0,a):[]};b.defn(k,"$size",p.$length);p.$shuffle=function(){return this.$clone()["$shuffle!"]()};p["$shuffle!"]=function(){for(var a=this.length-1;0<a;a--){var e=this[a],f=Math.floor(Math.random()*(a+1));this[a]=this[f];this[f]=e}return this};b.defn(k,"$slice",p["$[]"]);p["$slice!"]=function(a,e){0>a&&(a+=this.length);return null!=e?this.splice(a,e):0>a||a>=this.length?d:this.splice(a,1)[0]};p.$sort=Y=function(){var a,
e=this,f=Y._p||d;Y._p=null;if((a=1<e.length)===d||a._isBoolean&&1!=a)return e;f===d&&(f=function(a,e){return a["$<=>"](e)});try{return e.slice().sort(function(a,c){var b=f(a,c);if(b===r)throw r;b===d&&e.$raise(g.ArgumentError,"comparison of "+a.$inspect()+" with "+c.$inspect()+" failed");return b["$>"](0)?1:b["$<"](0)?-1:0})}catch(c){if(c===r)return r.$v;throw c;}};p["$sort!"]=B=function(){var a,e,f=B._p||d;B._p=null;f=f!==d?(a=(e=this.slice()).$sort,a._p=f.$to_proc(),a).call(e):this.slice().$sort();
a=this.length=0;for(e=f.length;a<e;a++)this.push(f[a]);return this};p.$take=function(a){0>a&&this.$raise(g.ArgumentError);return this.slice(0,a)};p.$take_while=M=function(){var a=M._p||d;M._p=null;for(var e=[],f=0,c=this.length,b,m;f<c;f++){b=this[f];if((m=a(b))===r)return r.$v;if(!1===m||m===d)break;e.push(b)}return e};p.$to_a=function(){return this};b.defn(k,"$to_ary",p.$to_a);b.defn(k,"$to_s",p.$inspect);p.$transpose=function(){var a,e,f=d,c=d;if((a=this["$empty?"]())!==d&&(!a._isBoolean||1==a))return[];
f=[];c=d;(a=this.$each,a._p=(e=function(a){var b=e._s||this,m,h,q;null==a&&(a=d);a=(m=g.Array["$==="](a))===d||m._isBoolean&&1!=m?g.Opal.$coerce_to(a,g.Array,"to_ary").$to_a():a.$to_a();!1!==(m=c)&&m!==d?m:c=a.length;(m=a.length["$=="](c)["$!"]())===d||m._isBoolean&&1!=m||b.$raise(g.IndexError,"element size differs ("+a.length+" should be "+c);return(m=(h=a.length).$times,m._p=(q=function(e){var c,b,m,h=d;null==e&&(e=d);h=(c=e,b=f,!1!==(m=b["$[]"](c))&&m!==d?m:b["$[]="](c,[]));return h["$<<"](a.$at(e))},
q._s=b,q),m).call(h)},e._s=this,e),a).call(this);return f};p.$uniq=function(){for(var a=[],e={},f=0,c=this.length,b,m;f<c;f++)m=b=this[f],e[m]||(e[m]=!0,a.push(b));return a};p["$uniq!"]=function(){for(var a=this.length,e={},f=0,c=a,b;f<c;f++)b=this[f],e[b]?(this.splice(f,1),c--,f--):e[b]=!0;return this.length===a?d:this};p.$unshift=function(a){a=z.call(arguments,0);for(var e=a.length-1;0<=e;e--)this.unshift(a[e]);return this};return(p.$zip=A=function(a){var e=A._p||d;a=z.call(arguments,0);A._p=null;
for(var f=[],c=this.length,b,m,h=0;h<c;h++){b=[this[h]];for(var g=0,q=a.length;g<q;g++)m=a[g][h],null==m&&(m=d),b[g+1]=m;f[h]=b}if(e!==d){for(h=0;h<c;h++)e(f[h]);return d}return f},d)&&"zip"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs("$new $allocate $initialize $to_proc $__send__ $clone $respond_to? $== $eql? $inspect $* $class $slice $uniq $flatten".split(" "));(function(a,$super){function r(){}var u=r=z(a,$super,"Array",r),t=u._scope;return(b.defs(u,"$inherited",function(a){var b=d,b=t.Class.$new(t.Array._scope.Wrapper);a._proto=b._proto;a._proto._klass=a;a._alloc=b._alloc;a.__parent=t.Array._scope.Wrapper;a.$allocate=b.$allocate;a.$new=b.$new;a["$[]"]=b["$[]"]}),
d)&&"inherited"})(a,null);return function(a,$super){function x(){}var u=x=z(a,$super,"Wrapper",x),t=u._proto,l=u._scope,k,p,g,c,q;t.literal=d;b.defs(u,"$allocate",k=function(a){var c=d;null==a&&(a=[]);k._p=null;c=b.find_super_dispatcher(this,"allocate",k,null,x).apply(this,[]);c.literal=a;return c});b.defs(u,"$new",p=function(a){var c,b,f=p._p||d,e=d;a=r.call(arguments,0);p._p=null;e=this.$allocate();(c=(b=e).$initialize,c._p=f.$to_proc(),c).apply(b,[].concat(a));return e});b.defs(u,"$[]",function(a){a=
r.call(arguments,0);return this.$allocate(a)});t.$initialize=g=function(a){var c,b,f=g._p||d;a=r.call(arguments,0);g._p=null;return this.literal=(c=(b=l.Array).$new,c._p=f.$to_proc(),c).apply(b,[].concat(a))};t.$method_missing=c=function(a){var b,h,f=c._p||d,e=d;a=r.call(arguments,0);c._p=null;e=(b=(h=this.literal).$__send__,b._p=f.$to_proc(),b).apply(h,[].concat(a));return(b=e===this.literal)===d||b._isBoolean&&1!=b?e:this};t.$initialize_copy=function(a){return this.literal=a.literal.$clone()};t["$respond_to?"]=
q=function(a){var c=r.call(arguments,0),h,f=q._p;q._p=null;return!1!==(h=b.find_super_dispatcher(this,"respond_to?",q,f).apply(this,c))&&h!==d?h:this.literal["$respond_to?"](a)};t["$=="]=function(a){return this.literal["$=="](a)};t["$eql?"]=function(a){return this.literal["$eql?"](a)};t.$to_a=function(){return this.literal};t.$to_ary=function(){return this};t.$inspect=function(){return this.literal.$inspect()};t["$*"]=function(a){a=this.literal["$*"](a);return a._isArray?this.$class().$allocate(a):
a};t["$[]"]=function(a,c){var b=this.literal.$slice(a,c);return b._isArray&&(a._isRange||void 0!==c)?this.$class().$allocate(b):b};b.defn(u,"$slice",t["$[]"]);t.$uniq=function(){return this.$class().$allocate(this.literal.$uniq())};return(t.$flatten=function(a){return this.$class().$allocate(this.literal.$flatten(a))},d)&&"flatten"}(b.Array,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass;b.add_stubs("$include $! $== $call $coerce_to! $lambda? $abs $arity $raise $enum_for $flatten $inspect $=== $alias_method $clone".split(" "));return function(a,$super){function u(){}var t=u=v(a,$super,"Hash",u),l=t._proto,k=t._scope,p,g,c,q,y,n,h,f,e,m,H,T,U;l.proc=l.none=d;t.$include(k.Enumerable);b.defs(t,"$[]",function(a){a=z.call(arguments,0);return b.hash.apply(null,a)});b.defs(t,"$allocate",function(){var a=new this._alloc;a.map=
{};a.keys=[];a.none=d;a.proc=d;return a});l.$initialize=p=function(a){var e=p._p||d;p._p=null;this.none=void 0===a?d:a;this.proc=e;return this};l["$=="]=function(a){if(this===a)return!0;if(!a.map||!a.keys||this.keys.length!==a.keys.length)return!1;var e=this.map;a=a.map;for(var f=0,c=this.keys.length;f<c;f++){var b=this.keys[f],m=e[b],b=a[b];if(void 0===b||m["$=="](b)["$!"]())return!1}return!0};l["$[]"]=function(a){var e=this.map;if(b.hasOwnProperty.call(e,a))return e[a];e=this.proc;return e!==d?
e.$call(this,a):this.none};l["$[]="]=function(a,e){var f=this.map;b.hasOwnProperty.call(f,a)||this.keys.push(a);return f[a]=e};l.$assoc=function(a){for(var e=this.keys,f,c=0,b=e.length;c<b;c++)if(f=e[c],f["$=="](a))return[f,this.map[f]];return d};l.$clear=function(){this.map={};this.keys=[];return this};l.$clone=function(){for(var a={},e=[],f=0,c=this.keys.length;f<c;f++){var b=this.keys[f],m=this.map[b];e.push(b);a[b]=m}f=new this._klass._alloc;f.map=a;f.keys=e;f.none=this.none;f.proc=this.proc;
return f};l.$default=function(a){return void 0!==a&&this.proc!==d?this.proc.$call(this,a):this.none};l["$default="]=function(a){this.proc=d;return this.none=a};l.$default_proc=function(){return this.proc};l["$default_proc="]=function(a){a!==d&&(a=k.Opal["$coerce_to!"](a,k.Proc,"to_proc"),a["$lambda?"]()&&2!=a.$arity().$abs()&&this.$raise(k.TypeError,"default_proc takes two arguments"));this.none=d;return this.proc=a};l.$delete=g=function(a){var e=g._p||d;g._p=null;var f=this.map,c=f[a];return null!=
c?(delete f[a],this.keys.$delete(a),c):e!==d?e.$call(a):d};l.$delete_if=c=function(){var a=c._p||d;c._p=null;if(!1===a||a===d)return this.$enum_for("delete_if");for(var e=this.map,f=this.keys,b,m=0,h=f.length;m<h;m++){var g=f[m];if((b=a(g,e[g]))===r)return r.$v;!1!==b&&b!==d&&(f.splice(m,1),delete e[g],h--,m--)}return this};b.defn(t,"$dup",l.$clone);l.$each=q=function(){var a=q._p||d;q._p=null;if(!1===a||a===d)return this.$enum_for("each");for(var e=this.map,f=this.keys,c=0,m=f.length;c<m;c++){var h=
f[c];if(b.$yield1(a,[h,e[h]])===r)return r.$v}return this};l.$each_key=y=function(){var a=y._p||d;y._p=null;if(!1===a||a===d)return this.$enum_for("each_key");for(var e=this.keys,f=0,c=e.length;f<c;f++)if(a(e[f])===r)return r.$v;return this};b.defn(t,"$each_pair",l.$each);l.$each_value=n=function(){var a=n._p||d;n._p=null;if(!1===a||a===d)return this.$enum_for("each_value");for(var e=this.map,f=this.keys,c=0,b=f.length;c<b;c++)if(a(e[f[c]])===r)return r.$v;return this};l["$empty?"]=function(){return 0===
this.keys.length};b.defn(t,"$eql?",l["$=="]);l.$fetch=h=function(a,e){var f=h._p||d;h._p=null;var c=this.map[a];if(null!=c)return c;if(f!==d)return(c=f(a))===r?r.$v:c;if(null!=e)return e;this.$raise(k.KeyError,"key not found")};l.$flatten=function(a){for(var e=this.map,f=this.keys,c=[],b=0,m=f.length;b<m;b++){var h=f[b],g=e[h];c.push(h);g._isArray?null==a||1===a?c.push(g):c=c.concat(g.$flatten(a-1)):c.push(g)}return c};l["$has_key?"]=function(a){return b.hasOwnProperty.call(this.map,a)};l["$has_value?"]=
function(a){for(var e in this.map)if(this.map[e]["$=="](a))return!0;return!1};l.$hash=function(){return this._id};b.defn(t,"$include?",l["$has_key?"]);l.$index=function(a){for(var e=this.map,f=this.keys,c=0,b=f.length;c<b;c++){var m=f[c];if(e[m]["$=="](a))return m}return d};l.$indexes=function(a){a=z.call(arguments,0);for(var e=[],f=this.map,c,b=0,m=a.length;b<m;b++)c=f[a[b]],null!=c?e.push(c):e.push(this.none);return e};b.defn(t,"$indices",l.$indexes);l.$inspect=function(){for(var a=[],e=this.keys,
f=this.map,c=0,b=e.length;c<b;c++){var m=e[c];f[m]===this?a.push(m.$inspect()+"=>{...}"):a.push(m.$inspect()+"=>"+f[m].$inspect())}return"{"+a.join(", ")+"}"};l.$invert=function(){for(var a=b.hash(),e=this.keys,f=this.map,c=a.keys,m=a.map,h=0,g=e.length;h<g;h++){var q=e[h],n=f[q];c.push(n);m[n]=q}return a};l.$keep_if=f=function(){var a=f._p||d;f._p=null;if(!1===a||a===d)return this.$enum_for("keep_if");for(var e=this.map,c=this.keys,b,m=0,h=c.length;m<h;m++){var g=c[m];if((b=a(g,e[g]))===r)return r.$v;
if(!1===b||b===d)c.splice(m,1),delete e[g],h--,m--}return this};b.defn(t,"$key",l.$index);b.defn(t,"$key?",l["$has_key?"]);l.$keys=function(){return this.keys.slice(0)};l.$length=function(){return this.keys.length};b.defn(t,"$member?",l["$has_key?"]);l.$merge=e=function(a){var f=e._p||d;e._p=null;k.Hash["$==="](a)||(a=k.Opal["$coerce_to!"](a,k.Hash,"to_hash"));for(var c=this.keys,m=this.map,h=b.hash(),g=h.keys,q=h.map,n=0,y=c.length;n<y;n++){var H=c[n];g.push(H);q[H]=m[H]}c=a.keys;m=a.map;if(f===
d)for(n=0,y=c.length;n<y;n++)H=c[n],null==q[H]&&g.push(H),q[H]=m[H];else for(n=0,y=c.length;n<y;n++)H=c[n],null==q[H]?(g.push(H),q[H]=m[H]):q[H]=f(H,q[H],m[H]);return h};l["$merge!"]=m=function(a){var e=m._p||d;m._p=null;k.Hash["$==="](a)||(a=k.Opal["$coerce_to!"](a,k.Hash,"to_hash"));var f=this.keys,c=this.map,b=a.keys;a=a.map;if(e===d)for(var h=0,g=b.length;h<g;h++){var q=b[h];null==c[q]&&f.push(q);c[q]=a[q]}else for(h=0,g=b.length;h<g;h++)q=b[h],null==c[q]?(f.push(q),c[q]=a[q]):c[q]=e(q,c[q],a[q]);
return this};l.$rassoc=function(a){for(var e=this.keys,f=this.map,c=0,b=e.length;c<b;c++){var m=e[c],h=f[m];if(h["$=="](a))return[m,h]}return d};l.$reject=H=function(){var a=H._p||d;H._p=null;if(!1===a||a===d)return this.$enum_for("reject");for(var e=this.keys,f=this.map,c=b.hash(),m=c.map,h=c.keys,g=0,q=e.length;g<q;g++){var n=e[g],y=f[n],l;if((l=a(n,y))===r)return r.$v;if(!1===l||l===d)h.push(n),m[n]=y}return c};l.$replace=function(a){for(var e=this.map={},f=this.keys=[],c=0,b=a.keys.length;c<b;c++){var m=
a.keys[c];f.push(m);e[m]=a.map[m]}return this};l.$select=T=function(){var a=T._p||d;T._p=null;if(!1===a||a===d)return this.$enum_for("select");for(var e=this.keys,f=this.map,c=b.hash(),m=c.map,h=c.keys,g=0,q=e.length;g<q;g++){var n=e[g],y=f[n],H;if((H=a(n,y))===r)return r.$v;!1!==H&&H!==d&&(h.push(n),m[n]=y)}return c};l["$select!"]=U=function(){var a=U._p||d;U._p=null;if(!1===a||a===d)return this.$enum_for("select!");for(var e=this.map,f=this.keys,c,b=d,m=0,h=f.length;m<h;m++){var g=f[m];if((c=a(g,
e[g]))===r)return r.$v;if(!1===c||c===d)f.splice(m,1),delete e[g],h--,m--,b=this}return b};l.$shift=function(){var a=this.keys,e=this.map;if(a.length){var f=a[0],c=e[f];delete e[f];a.splice(0,1);return[f,c]}return d};b.defn(t,"$size",l.$length);t.$alias_method("store","[]=");l.$to_a=function(){for(var a=this.keys,e=this.map,f=[],c=0,b=a.length;c<b;c++){var m=a[c];f.push([m,e[m]])}return f};l.$to_h=function(){var a=new Opal.Hash._alloc,e=this.$clone();a.map=e.map;a.keys=e.keys;a.none=e.none;a.proc=
e.proc;return a};l.$to_hash=function(){return this};b.defn(t,"$to_s",l.$inspect);b.defn(t,"$update",l["$merge!"]);b.defn(t,"$value?",l["$has_value?"]);b.defn(t,"$values_at",l.$indexes);return(l.$values=function(){var a=this.map,e=[],f;for(f in a)e.push(a[f]);return e},d)&&"values"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass,w=b.gvars;b.add_stubs("$include $to_str $=== $format $coerce_to $to_s $respond_to? $<=> $raise $=~ $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $initialize_clone $initialize_dup $enum_for $split $chomp $escape $class $to_i $name $! $each_line $match $new $try_convert $chars $& $join $is_a? $[] $str $value $proc $send".split(" "));(function(a,$super){function t(){}var l=t=v(a,$super,"String",t),k=l._proto,
p=l._scope,g,c,q,y,n,h,f;k.length=d;l.$include(p.Comparable);k._isString=!0;b.defs(l,"$try_convert",function(a){try{return a.$to_str()}catch(f){return d}});b.defs(l,"$new",function(a){null==a&&(a="");return new String(a)});k["$%"]=function(a){var f;return(f=p.Array["$==="](a))===d||f._isBoolean&&1!=f?this.$format(this,a):(f=this).$format.apply(f,[this].concat(a))};k["$*"]=function(a){if(1>a)return"";for(var f="",c=this;0<a;)a&1&&(f+=c),a>>=1,c+=c;return f};k["$+"]=function(a){a=p.Opal.$coerce_to(a,
p.String,"to_str");return this+a.$to_s()};k["$<=>"]=function(a){var f;if((f=a["$respond_to?"]("to_str"))===d||f._isBoolean&&1!=f)return a=a["$<=>"](this),a===d?d:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0};k["$=="]=function(a){var f;return(f=p.String["$==="](a))===d||f._isBoolean&&1!=f?!1:this.$to_s()==a.$to_s()};b.defn(l,"$eql?",k["$=="]);b.defn(l,"$===",k["$=="]);k["$=~"]=function(a){a._isString&&this.$raise(p.TypeError,"type mismatch: String given");return a["$=~"](this)};
k["$[]"]=function(a,f){var c=this.length;if(a._isRange){var b=a.exclude;f=a.end;a=a.begin;0>a&&(a+=c);0>f&&(f+=c);b||(f+=1);if(a>c)return d;f-=a;0>f&&(f=0);return this.substr(a,f)}0>a&&(a+=this.length);return null==f?a>=this.length||0>a?d:this.substr(a,1):a>this.length||0>a?d:this.substr(a,f)};k.$capitalize=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()};k.$casecmp=function(a){a=p.Opal.$coerce_to(a,p.String,"to_str").$to_s();return this.toLowerCase()["$<=>"](a.toLowerCase())};
k.$center=function(a,f){var c;null==f&&(f=" ");a=p.Opal.$coerce_to(a,p.Integer,"to_int");f=p.Opal.$coerce_to(f,p.String,"to_str").$to_s();(c=f["$empty?"]())===d||c._isBoolean&&1!=c||this.$raise(p.ArgumentError,"zero width padding");if((c=a<=this.length)!==d&&(!c._isBoolean||1==c))return this;c=this.$ljust(a["$+"](this.length)["$/"](2).$ceil(),f);return this.$rjust(a["$+"](this.length)["$/"](2).$floor(),f)+c.slice(this.length)};k.$chars=g=function(){var a,f=g._p||d;g._p=null;return!1===f||f===d?this.$each_char().$to_a():
(a=this.$each_char,a._p=f.$to_proc(),a).call(this)};k.$chomp=function(a){var f;null==w["/"]&&(w["/"]=d);null==a&&(a=w["/"]);if((f=a===d||0===this.length)!==d&&(!f._isBoolean||1==f))return this;a=p.Opal["$coerce_to!"](a,p.String,"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this};k.$chop=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-
1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)};k.$chr=function(){return this.charAt(0)};k.$clone=function(){var a=d,a=this.slice();a.$initialize_clone(this);return a};k.$dup=function(){var a=d,a=this.slice();a.$initialize_dup(this);return a};k.$count=function(a){return(this.length-this.replace(new RegExp(a,"g"),"").length)/a.length};b.defn(l,"$dup",k.$clone);k.$downcase=function(){return this.toLowerCase()};k.$each_char=c=function(){var a,f=c._p||d;c._p=null;if(f===d)return this.$enum_for("each_char");
for(var h=0,g=this.length;h<g;h++)(a=b.$yield1(f,this.charAt(h)))===r?r.$v:a;return this};k.$each_line=q=function(a){var f,c=q._p||d;null==w["/"]&&(w["/"]=d);null==a&&(a=w["/"]);q._p=null;if(c===d)return this.$split(a);for(var h=this.$chomp(),g=this.length!=h.length,h=h.split(a),n=0,y=h.length;n<y;n++)n<y-1||g?(f=b.$yield1(c,h[n]+a))===r?r.$v:f:(f=b.$yield1(c,h[n]))===r?r.$v:f;return this};k["$empty?"]=function(){return 0===this.length};k["$end_with?"]=function(a){a=z.call(arguments,0);for(var f=
0,c=a.length;f<c;f++){var b=p.Opal.$coerce_to(a[f],p.String,"to_str").$to_s();if(this.length>=b.length&&this.substr(this.length-b.length,b.length)==b)return!0}return!1};b.defn(l,"$eql?",k["$=="]);b.defn(l,"$equal?",k["$==="]);k.$gsub=y=function(a,f){var c,b,h=y._p||d;y._p=null;(c=!1!==(b=p.String["$==="](a))&&b!==d?b:a["$respond_to?"]("to_str"))===d||c._isBoolean&&1!=c||(a=new RegExp(""+p.Regexp.$escape(a.$to_str())));((c=p.Regexp["$==="](a))===d||c._isBoolean&&1!=c)&&this.$raise(p.TypeError,"wrong argument type "+
a.$class()+" (expected Regexp)");a=a.toString();c=a.substr(a.lastIndexOf("/")+1)+"g";b=a.substr(1,a.lastIndexOf("/")-1);this.$sub._p=h;return this.$sub(new RegExp(b,c),f)};k.$hash=function(){return this.toString()};k.$hex=function(){return this.$to_i(16)};k["$include?"]=function(a){var f;if(a._isString)return-1!==this.indexOf(a);((f=a["$respond_to?"]("to_str"))===d||f._isBoolean&&1!=f)&&this.$raise(p.TypeError,"no implicit conversion of "+a.$class().$name()+" into String");return-1!==this.indexOf(a.$to_str())};
k.$index=function(a,f){var c,b=d;null==f&&(f=d);(c=p.String["$==="](a))===d||c._isBoolean&&1!=c?(c=a["$respond_to?"]("to_str"))===d||c._isBoolean&&1!=c?(c=p.Regexp["$==="](a)["$!"]())===d||c._isBoolean&&1!=c||this.$raise(p.TypeError,"type mismatch: "+a.$class()+" given"):a=a.$to_str().$to_s():a=a.$to_s();if(!1!==f&&f!==d){f=p.Opal.$coerce_to(f,p.Integer,"to_int");b=this.length;0>f&&(f+=b);if(f>b)return d;b=(c=p.Regexp["$==="](a))===d||c._isBoolean&&1!=c?this.substr(f).indexOf(a):!1!==(c=a["$=~"](this.substr(f)))&&
c!==d?c:-1;-1!==b&&(b+=f)}else b=(c=p.Regexp["$==="](a))===d||c._isBoolean&&1!=c?this.indexOf(a):!1!==(c=a["$=~"](this))&&c!==d?c:-1;return(c=-1===b)===d||c._isBoolean&&1!=c?b:d};k.$inspect=function(){var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};a.lastIndex=0;return a.test(this)?'"'+this.replace(a,function(a){var e=f[a];return"string"===
typeof e?e:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+this+'"'};k.$intern=function(){return this};k.$lines=function(a){null==w["/"]&&(w["/"]=d);null==a&&(a=w["/"]);return this.$each_line(a).$to_a()};k.$length=function(){return this.length};k.$ljust=function(a,f){var c;null==f&&(f=" ");a=p.Opal.$coerce_to(a,p.Integer,"to_int");f=p.Opal.$coerce_to(f,p.String,"to_str").$to_s();(c=f["$empty?"]())===d||c._isBoolean&&1!=c||this.$raise(p.ArgumentError,"zero width padding");if((c=a<=
this.length)!==d&&(!c._isBoolean||1==c))return this;c=-1;var b="";for(a-=this.length;++c<a;)b+=f;return this+b.slice(0,a)};k.$lstrip=function(){return this.replace(/^\s*/,"")};k.$match=n=function(a,f){var c,b,h=n._p||d;n._p=null;(c=!1!==(b=p.String["$==="](a))&&b!==d?b:a["$respond_to?"]("to_str"))===d||c._isBoolean&&1!=c||(a=new RegExp(""+p.Regexp.$escape(a.$to_str())));((c=p.Regexp["$==="](a))===d||c._isBoolean&&1!=c)&&this.$raise(p.TypeError,"wrong argument type "+a.$class()+" (expected Regexp)");
return(c=(b=a).$match,c._p=h.$to_proc(),c).call(b,this,f)};k.$next=function(){if(0===this.length)return"";var a=this.substr(0,this.length-1),f=String.fromCharCode(this.charCodeAt(this.length-1)+1);return a+f};k.$ord=function(){return this.charCodeAt(0)};k.$partition=function(a){var f=this.split(a);return[f[0],f[0].length===this.length?"":a,f.slice(1).join(a.toString())]};k.$reverse=function(){return this.split("").reverse().join("")};k.$rindex=function(a,f){var c=null==a?Opal.NilClass:a.constructor;
c!=String&&c!=RegExp&&this.$raise(p.TypeError.$new("type mismatch: "+c+" given"));if(0==this.length)return 0==a.length?0:d;var b=-1;null!=f?(0>f&&(f=this.length+f),c==String?b=this.lastIndexOf(a,f):(b=this.substr(0,f+1).$reverse().search(a),-1!==b&&(b=f-b))):c==String?b=this.lastIndexOf(a):(b=this.$reverse().search(a),-1!==b&&(b=this.length-1-b));return-1===b?d:b};k.$rjust=function(a,f){var c;null==f&&(f=" ");a=p.Opal.$coerce_to(a,p.Integer,"to_int");f=p.Opal.$coerce_to(f,p.String,"to_str").$to_s();
(c=f["$empty?"]())===d||c._isBoolean&&1!=c||this.$raise(p.ArgumentError,"zero width padding");if((c=a<=this.length)!==d&&(!c._isBoolean||1==c))return this;c=Math.floor(a-this.length);var b=Array(Math.floor(c/f.length)+1).join(f);return b+f.slice(0,c-b.length)+this};k.$rstrip=function(){return this.replace(/\s*$/,"")};k.$scan=h=function(a){var f=h._p||d;h._p=null;a.global?a.lastIndex=0:a=new RegExp(a.source,"g"+(a.multiline?"m":"")+(a.ignoreCase?"i":""));for(var c=[],b;null!=(b=a.exec(this));)p.MatchData.$new(a,
b),f===d?1==b.length?c.push(b[0]):c.push(b.slice(1)):1==b.length?f(b[0]):f.apply(this,b.slice(1));return f!==d?this:c};b.defn(l,"$size",k.$length);b.defn(l,"$slice",k["$[]"]);k.$split=function(a,f){var c;null==w[";"]&&(w[";"]=d);null==a&&(a=!1!==(c=w[";"])&&c!==d?c:" ");if(a===d||void 0===a)a=w[";"];c=[];void 0!==f&&(f=p.Opal["$coerce_to!"](f,p.Integer,"to_int"));if(0===this.length)return[];if(1===f)return[this];if(a&&a._isRegexp){var b=a.toString(),h="/^/"==b.substr(0,3)||"/(?:)/"==b.substr(0,6);
if(void 0===f||0===f)c=this.split(h?/(?:)/:a);else{a.global||(a=eval(b+"g"));var g=0;for(a.lastIndex=0;null!==(b=a.exec(this));){g=this.slice(g,b.index);c.push(g);g=a.lastIndex;if(0===b[0].length){h&&(a=/(?:)/);c=this.split(a);void 0!==f&&0>f&&h&&c.push("");g=void 0;break}if(void 0!==f&&1<f&&c.length+1==f)break}void 0!==g&&c.push(this.slice(g,this.length))}}else{b=h=0;a=a===d||void 0===a?" ":p.Opal.$try_convert(a,p.String,"to_str").$to_s();for(var g=" "==a?this.replace(/[\r\n\t\v]\s+/g," "):this,
q=-1;-1<(q=g.indexOf(a,b))&&q<g.length&&h+1!==f;)" "==a&&q==b?b=q+1:(c.push(g.substr(b,a.length?q-b:1)),h++,b=q+(a.length?a.length:1));0<g.length&&(0>f||g.length>b)&&(g.length==b?c.push(""):c.push(g.substr(b,g.length)))}if(void 0===f||0===f)for(;""===c[c.length-1];)--c.length;0<f&&(h=c.slice(f-1).join(""),c.splice(f-1,c.length-1,h));return c};k.$squeeze=function(a){a=z.call(arguments,0);if(0===a.length)return this.replace(/(.)\1+/g,"$1");for(var f=p.Opal.$coerce_to(a[0],p.String,"to_str").$chars(),
c=1,b=a.length;c<b;c++)f=f["$&"](p.Opal.$coerce_to(a[c],p.String,"to_str").$chars());return 0===f.length?this:this.replace(new RegExp("(["+p.Regexp.$escape(f.$join())+"])\\1+","g"),"$1")};k["$start_with?"]=function(a){a=z.call(arguments,0);for(var f=0,c=a.length;f<c;f++){var b=p.Opal.$coerce_to(a[f],p.String,"to_str").$to_s();if(0===this.indexOf(b))return!0}return!1};k.$strip=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")};k.$sub=f=function(a,c){var b=this,h=f._p||d;f._p=null;if("string"===
typeof c)return c=c.replace(/\\([1-9])/g,"$$$1"),b.replace(a,c);if(h!==d)return b.replace(a,function(){for(var a=[],e=0,f=arguments.length;e<f;e++){var c=arguments[e];void 0==c?a.push(d):a.push(c)}a.pop();a.pop();w["&"]=a[0];w["~"]=a;return h(a[0])});if(void 0!==c){if(c["$is_a?"](p.Hash))return b.replace(a,function(a){return null==c["$[]"](b.$str())?d:b.$value().$to_s()});c=p.String.$try_convert(c);null==c&&b.$raise(p.TypeError,"can't convert "+c.$class()+" into String");return b.replace(a,c)}c=c.toString().replace(/\\([1-9])/g,
"$$$1");return b.replace(a,c)};b.defn(l,"$succ",k.$next);k.$sum=function(a){null==a&&(a=16);for(var f=0,c=0,b=this.length;c<b;c++)f+=this.charCodeAt(c)%((1<<a)-1);return f};k.$swapcase=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,e,f){return e?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)};k.$to_f=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a};k.$to_i=
function(a){null==a&&(a=10);a=parseInt(this,a);return isNaN(a)?0:a};k.$to_proc=function(){var a,f;return(a=this.$proc,a._p=(f=function(a,e){var c=f._s||this,b;null==a&&(a=d);e=z.call(arguments,1);return(b=a).$send.apply(b,[c].concat(e))},f._s=this,f),a).call(this)};k.$to_s=function(){return this.toString()};b.defn(l,"$to_str",k.$to_s);b.defn(l,"$to_sym",k.$intern);k.$tr=function(a,f){if(0==a.length||a===f)return this;var c={},b=a.split(""),h=b.length,g=f.split(""),q=g.length,n=!1,y=null;"^"===b[0]&&
(n=!0,b.shift(),y=g[q-1],--h);for(var d=[],l=null,k=!1,p=0;p<h;p++){var t=b[p];if(null==l)l=t,d.push(t);else if("-"===t)"-"===l?(d.push("-"),d.push("-")):p==h-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t)}b=d;h=b.length;if(n)for(p=0;p<h;p++)c[b[p]]=!0;else{if(0<q){d=[];k=!1;for(p=0;p<q;p++)if(t=g[p],null==l)l=t,d.push(t);else if("-"===t)p==q-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<
l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t);g=d;q=g.length}t=h-q;if(0<t)for(q=0<q?g[q-1]:"",p=0;p<t;p++)g.push(q);for(p=0;p<h;p++)c[b[p]]=g[p]}b="";p=0;for(h=this.length;p<h;p++)t=this.charAt(p),g=c[t],b=n?b+(null==g?y:t):b+(null!=g?g:t);return b};k.$tr_s=function(a,f){if(0==a.length)return this;var c={},b=a.split(""),h=b.length,g=f.split(""),q=g.length,n=!1,y=null;"^"===b[0]&&(n=!0,b.shift(),y=g[q-1],--h);for(var d=[],l=null,k=!1,p=0;p<h;p++){var t=b[p];if(null==l)l=t,
d.push(t);else if("-"===t)"-"===l?(d.push("-"),d.push("-")):p==h-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t)}b=d;h=b.length;if(n)for(p=0;p<h;p++)c[b[p]]=!0;else{if(0<q){d=[];k=!1;for(p=0;p<q;p++)if(t=g[p],null==l)l=t,d.push(t);else if("-"===t)p==q-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t);g=d;q=g.length}t=
h-q;if(0<t)for(q=0<q?g[q-1]:"",p=0;p<t;p++)g.push(q);for(p=0;p<h;p++)c[b[p]]=g[p]}b="";h=null;p=0;for(g=this.length;p<g;p++)if(t=this.charAt(p),q=c[t],n)null==q?null==h&&(b+=y,h=!0):(b+=t,h=null);else if(null!=q){if(null==h||h!==q)b+=q,h=q}else b+=t,h=null;return b};k.$upcase=function(){return this.toUpperCase()};k.$freeze=function(){return this};return(k["$frozen?"]=function(){return!0},d)&&"frozen?"})(a,null);return b.cdecl(b,"Symbol",b.String)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs("$new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect".split(" "));(function(a,$super){function r(){}var u=r=z(a,$super,"String",r),t=u._scope;return(b.defs(u,"$inherited",function(a){var b=d,b=t.Class.$new(t.String._scope.Wrapper);a._proto=b._proto;a._proto._klass=a;a._alloc=b._alloc;a.__parent=t.String._scope.Wrapper;a.$allocate=b.$allocate;a.$new=b.$new}),d)&&"inherited"})(a,null);return function(a,
$super){function x(){}var u=x=z(a,$super,"Wrapper",x),t=u._proto,l,k,p,g;t.literal=d;b.defs(u,"$allocate",l=function(a){var g=d;null==a&&(a="");l._p=null;g=b.find_super_dispatcher(this,"allocate",l,null,x).apply(this,[]);g.literal=a;return g});b.defs(u,"$new",k=function(a){var b,g,n=k._p||d,h=d;a=r.call(arguments,0);k._p=null;h=this.$allocate();(b=(g=h).$initialize,b._p=n.$to_proc(),b).apply(g,[].concat(a));return h});b.defs(u,"$[]",function(a){a=r.call(arguments,0);return this.$allocate(a)});t.$initialize=
function(a){null==a&&(a="");return this.literal=a};t.$method_missing=p=function(a){var b,g,n=p._p||d,h=d;a=r.call(arguments,0);p._p=null;h=(b=(g=this.literal).$__send__,b._p=n.$to_proc(),b).apply(g,[].concat(a));return(b=null!=h._isString)===d||b._isBoolean&&1!=b?h:(b=h==this.literal)===d||b._isBoolean&&1!=b?this.$class().$allocate(h):this};t.$initialize_copy=function(a){return this.literal=a.literal.$clone()};t["$respond_to?"]=g=function(a){var q=r.call(arguments,0),y,n=g._p;g._p=null;return!1!==
(y=b.find_super_dispatcher(this,"respond_to?",g,n).apply(this,q))&&y!==d?y:this.literal["$respond_to?"](a)};t["$=="]=function(a){return this.literal["$=="](a)};b.defn(u,"$eql?",t["$=="]);b.defn(u,"$===",t["$=="]);t.$to_s=function(){return this.literal};t.$to_str=function(){return this};return(t.$inspect=function(){return this.literal.$inspect()},d)&&"inspect"}(b.String,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass,v=b.gvars;b.add_stubs("$attr_reader $pre_match $post_match $[] $=== $! $== $raise $inspect".split(" "));return function(a,$super){function u(){}var t=u=z(a,$super,"MatchData",u),l=t._proto,k=t._scope,p;l.string=l.matches=l.begin=d;t.$attr_reader("post_match","pre_match","regexp","string");b.defs(t,"$new",p=function(a,c){var q=d;p._p=null;q=b.find_super_dispatcher(this,"new",p,null,u).apply(this,[a,c]);v["`"]=q.$pre_match();v["'"]=q.$post_match();
return v["~"]=q});l.$initialize=function(a,c){this.regexp=a;this.begin=c.index;this.string=c.input;this.pre_match=this.string.substr(0,a.lastIndex-c[0].length);this.post_match=this.string.substr(a.lastIndex);this.matches=[];for(var b=0,y=c.length;b<y;b++){var n=c[b];null==n?this.matches.push(d):this.matches.push(n)}};l["$[]"]=function(a){var c;a=r.call(arguments,0);return(c=this.matches)["$[]"].apply(c,[].concat(a))};l["$=="]=function(a){var c,b,y,n;return(c=k.MatchData["$==="](a))===d||c._isBoolean&&
1!=c?!1:(c=(b=(y=(n=this.string==a.string,!1!==n&&n!==d?this.regexp==a.regexp:n),!1!==y&&y!==d?this.pre_match==a.pre_match:y),!1!==b&&b!==d?this.post_match==a.post_match:b),!1!==c&&c!==d?this.begin==a.begin:c)};l.$begin=function(a){var c,b;(c=(b=a["$=="](0)["$!"](),!1!==b&&b!==d?a["$=="](1)["$!"]():b))===d||c._isBoolean&&1!=c||this.$raise(k.ArgumentError,"MatchData#begin only supports 0th element");return this.begin};l.$captures=function(){return this.matches.slice(1)};l.$inspect=function(){for(var a=
"#<MatchData "+this.matches[0].$inspect(),c=1,b=this.matches.length;c<b;c++)a+=" "+c+":"+this.matches[c].$inspect();return a+">"};l.$length=function(){return this.matches.length};b.defn(t,"$size",l.$length);l.$to_a=function(){return this.matches};l.$to_s=function(){return this.matches[0]};return(l.$values_at=function(a){a=r.call(arguments,0);for(var c=[],b=this.matches.length,y=0,n=a.length;y<n;y++){var h=a[y];0<=h?c.push(this.matches[h]):(h+=b,0<h?c.push(this.matches[h]):c.push(d))}return c},d)&&
"values_at"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass;b.add_stubs("$include $coerce $=== $raise $class $__send__ $send_coerced $to_int $coerce_to! $-@ $** $- $respond_to? $== $enum_for $gcd $lcm $< $> $floor $/ $%".split(" "));(function(a,$super){function u(){}var t=u=v(a,$super,"Numeric",u),l=t._proto,k=t._scope,p,g,c,q,y,n;t.$include(k.Comparable);l._isNumber=!0;l.$coerce=function(a,f){var e=d;null==f&&(f="operation");try{return a._isNumber?[this,a]:a.$coerce(this)}catch(c){return e=f,
"operation"["$==="](e)?this.$raise(k.TypeError,""+a.$class()+" can't be coerce into Numeric"):"comparison"["$==="](e)?this.$raise(k.ArgumentError,"comparison of "+this.$class()+" with "+a.$class()+" failed"):d}};l.$send_coerced=function(a,f){var e,c=d;e=c=c=d;c=a;c="+"["$==="](c)||"-"["$==="](c)||"*"["$==="](c)||"/"["$==="](c)||"%"["$==="](c)||"&"["$==="](c)||"|"["$==="](c)||"^"["$==="](c)||"**"["$==="](c)?"operation":">"["$==="](c)||">="["$==="](c)||"<"["$==="](c)||"<="["$==="](c)||"<=>"["$==="](c)?
"comparison":d;e=b.to_ary(this.$coerce(f,c));c=null==e[0]?d:e[0];e=null==e[1]?d:e[1];return c.$__send__(a,e)};l["$+"]=function(a){return a._isNumber?this+a:this.$send_coerced("+",a)};l["$-"]=function(a){return a._isNumber?this-a:this.$send_coerced("-",a)};l["$*"]=function(a){return a._isNumber?this*a:this.$send_coerced("*",a)};l["$/"]=function(a){return a._isNumber?this/a:this.$send_coerced("/",a)};l["$%"]=function(a){return a._isNumber?0>a||0>this?(this%a+a)%a:this%a:this.$send_coerced("%",a)};l["$&"]=
function(a){return a._isNumber?this&a:this.$send_coerced("&",a)};l["$|"]=function(a){return a._isNumber?this|a:this.$send_coerced("|",a)};l["$^"]=function(a){return a._isNumber?this^a:this.$send_coerced("^",a)};l["$<"]=function(a){return a._isNumber?this<a:this.$send_coerced("<",a)};l["$<="]=function(a){return a._isNumber?this<=a:this.$send_coerced("<=",a)};l["$>"]=function(a){return a._isNumber?this>a:this.$send_coerced(">",a)};l["$>="]=function(a){return a._isNumber?this>=a:this.$send_coerced(">=",
a)};l["$<=>"]=function(a){try{return a._isNumber?this>a?1:this<a?-1:0:this.$send_coerced("<=>",a)}catch(f){if(b.$rescue(f,[k.ArgumentError]))return d;throw f;}};l["$<<"]=function(a){return this<<a.$to_int()};l["$>>"]=function(a){return this>>a.$to_int()};l["$[]"]=function(a){var f=d,e=d;a=k.Opal["$coerce_to!"](a,k.Integer,"to_int");f=2["$**"](30)["$-@"]();e=2["$**"](30)["$-"](1);return a<f||a>e?0:(this>>a)%2};l["$+@"]=function(){return+this};l["$-@"]=function(){return-this};l["$~"]=function(){return~this};
l["$**"]=function(a){return a._isNumber?Math.pow(this,a):this.$send_coerced("**",a)};l["$=="]=function(a){return a._isNumber?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1};l.$abs=function(){return Math.abs(this)};l.$ceil=function(){return Math.ceil(this)};l.$chr=function(){return String.fromCharCode(this)};l.$conj=function(){return this};b.defn(t,"$conjugate",l.$conj);l.$downto=p=function(a){var f=p._p||d;p._p=null;if(!1===f||f===d)return this.$enum_for("downto",a);for(var e=this;e>=a;e--)if(f(e)===
r)return r.$v;return this};b.defn(t,"$eql?",l["$=="]);b.defn(t,"$equal?",l["$=="]);l["$even?"]=function(){return 0===this%2};l.$floor=function(){return Math.floor(this)};l.$gcd=function(a){var f;((f=k.Integer["$==="](a))===d||f._isBoolean&&1!=f)&&this.$raise(k.TypeError,"not an integer");f=Math.abs(this);for(a=Math.abs(a);0<f;){var e=f;f=a%f;a=e}return a};l.$gcdlcm=function(a){return[this.$gcd(),this.$lcm()]};l.$hash=function(){return this.toString()};l["$integer?"]=function(){return 0===this%1};
l["$is_a?"]=g=function(a){var f=z.call(arguments,0),e,c,q=g._p;g._p=null;return((e=(c=a["$=="](k.Fixnum))?k.Integer["$==="](this):c)===d||e._isBoolean&&1!=e)&&((e=(c=a["$=="](k.Integer))?k.Integer["$==="](this):c)===d||e._isBoolean&&1!=e)&&((e=(c=a["$=="](k.Float))?k.Float["$==="](this):c)===d||e._isBoolean&&1!=e)?b.find_super_dispatcher(this,"is_a?",g,q).apply(this,f):!0};b.defn(t,"$kind_of?",l["$is_a?"]);l["$instance_of?"]=c=function(a){var f=z.call(arguments,0),e,m,g=c._p;c._p=null;return((e=(m=
a["$=="](k.Fixnum))?k.Integer["$==="](this):m)===d||e._isBoolean&&1!=e)&&((e=(m=a["$=="](k.Integer))?k.Integer["$==="](this):m)===d||e._isBoolean&&1!=e)&&((e=(m=a["$=="](k.Float))?k.Float["$==="](this):m)===d||e._isBoolean&&1!=e)?b.find_super_dispatcher(this,"instance_of?",c,g).apply(this,f):!0};l.$lcm=function(a){var f;((f=k.Integer["$==="](a))===d||f._isBoolean&&1!=f)&&this.$raise(k.TypeError,"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))};b.defn(t,"$magnitude",l.$abs);b.defn(t,
"$modulo",l["$%"]);l.$next=function(){return this+1};l["$nonzero?"]=function(){return 0==this?d:this};l["$odd?"]=function(){return 0!==this%2};l.$ord=function(){return this};l.$pred=function(){return this-1};l.$round=function(){return Math.round(this)};l.$step=q=function(a,f){var e,c=q._p||d;null==f&&(f=1);q._p=null;if(!1===c||c===d)return this.$enum_for("step",a,f);(e=0==f)===d||e._isBoolean&&1!=e||this.$raise(k.ArgumentError,"step cannot be 0");e=this;if(0<f)for(;e<=a;)c(e),e+=f;else for(;e>=a;)c(e),
e+=f;return this};b.defn(t,"$succ",l.$next);l.$times=y=function(){var a=y._p||d;y._p=null;if(!1===a||a===d)return this.$enum_for("times");for(var f=0;f<this;f++)if(a(f)===r)return r.$v;return this};l.$to_f=function(){return this};l.$to_i=function(){return parseInt(this)};b.defn(t,"$to_int",l.$to_i);l.$to_s=function(a){var f,e;null==a&&(a=10);(f=!1!==(e=a["$<"](2))&&e!==d?e:a["$>"](36))===d||f._isBoolean&&1!=f||this.$raise(k.ArgumentError,"base must be between 2 and 36");return this.toString(a)};b.defn(t,
"$inspect",l.$to_s);l.$divmod=function(a){var f=d,e=d,f=this["$/"](a).$floor(),e=this["$%"](a);return[f,e]};l.$upto=n=function(a){var f=n._p||d;n._p=null;if(!1===f||f===d)return this.$enum_for("upto",a);for(var e=this;e<=a;e++)if(f(e)===r)return r.$v;return this};l["$zero?"]=function(){return 0==this};l.$size=function(){return 4};l["$nan?"]=function(){return isNaN(this)};l["$finite?"]=function(){return Infinity!=this&&-Infinity!=this};l["$infinite?"]=function(){return Infinity==this?1:-Infinity==
this?-1:d};l["$positive?"]=function(){return 0<1/this};return(l["$negative?"]=function(){return 0>1/this},d)&&"negative?"})(a,null);b.cdecl(b,"Fixnum",b.Numeric);(function(a,$super){function r(){}var t=r=v(a,$super,"Integer",r);return(b.defs(t,"$===",function(a){return a._isNumber?0===a%1:!1}),d)&&"==="})(a,b.Numeric);return function(a,$super){function r(){}var t=r=v(a,$super,"Float",r),l=t._scope,k;b.defs(t,"$===",function(a){return!!a._isNumber});b.cdecl(l,"INFINITY",Infinity);b.cdecl(l,"NAN",NaN);
return(k="undefined"!==typeof Number.EPSILON)===d||k._isBoolean&&1!=k?b.cdecl(l,"EPSILON",2.220446049250313E-16):b.cdecl(l,"EPSILON",Number.EPSILON)}(a,b.Numeric)})(Opal);(function(b){var a=b.top,d=b.nil,r=b.klass;b.add_stubs([]);return function(a,$super){function b(){}b=r(a,$super,"Complex",b);return d}(a,b.Numeric)})(Opal);(function(b){var a=b.top,d=b.nil,r=b.klass;b.add_stubs([]);return function(a,$super){function b(){}b=r(a,$super,"Rational",b);return d}(a,b.Numeric)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass;b.add_stubs(["$raise"]);return function(a,$super){function u(){}var t=u=v(a,$super,"Proc",u),l=t._proto,k=t._scope,p,g;l._isProc=!0;l.is_lambda=!1;b.defs(t,"$new",p=function(){var a=p._p||d;p._p=null;!1!==a&&a!==d||this.$raise(k.ArgumentError,"tried to create a Proc object without a block");return a});l.$call=g=function(a){var b=g._p||d;a=z.call(arguments,0);g._p=null;b!==d&&(this._p=b);b=this.is_lambda?this.apply(null,a):Opal.$yieldX(this,
a);return b===r?r.$v:b};b.defn(t,"$[]",l.$call);l.$to_proc=function(){return this};l["$lambda?"]=function(){return!!this.is_lambda};return(l.$arity=function(){return this.length},d)&&"arity"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(a,$super){function x(){}var u=x=z(a,$super,"Method",x),t=u._proto,l=u._scope,k;t.method=t.receiver=t.owner=t.name=t.obj=d;u.$attr_reader("owner","receiver","name");t.$initialize=function(a,b,c){this.receiver=a;this.owner=a.$class();this.name=c;return this.method=b};t.$arity=function(){return this.method.$arity()};t.$call=k=function(a){var b=k._p||d;a=r.call(arguments,0);k._p=
null;this.method._p=b;return this.method.apply(this.receiver,a)};b.defn(u,"$[]",t.$call);t.$unbind=function(){return l.UnboundMethod.$new(this.owner,this.method,this.name)};t.$to_proc=function(){return this.method};return(t.$inspect=function(){return"#<Method: "+this.obj.$class().$name()+"#"+this.name+"}>"},d)&&"inspect"})(a,null);return function(a,$super){function b(){}var r=b=z(a,$super,"UnboundMethod",b),t=r._proto,l=r._scope;t.method=t.name=t.owner=d;r.$attr_reader("owner","name");t.$initialize=
function(a,b,g){this.owner=a;this.method=b;return this.name=g};t.$arity=function(){return this.method.$arity()};t.$bind=function(a){return l.Method.$new(a,this.method,this.name)};return(t.$inspect=function(){return"#<UnboundMethod: "+this.owner.$name()+"#"+this.name+">"},d)&&"inspect"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass;b.add_stubs("$include $attr_reader $<= $< $enum_for $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $raise $inspect".split(" "));return function(a,$super){function u(){}var t=u=v(a,$super,"Range",u),l=t._proto,k=t._scope,p,g,c;l.begin=l.exclude=l.end=d;t.$include(k.Enumerable);l._isRange=!0;t.$attr_reader("begin","end");l.$initialize=function(a,c,b){null==b&&(b=!1);this.begin=a;this.end=c;return this.exclude=b};l["$=="]=
function(a){return a._isRange?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1};l["$==="]=function(a){var c,b;return(c=this.begin["$<="](a))?(b=this.exclude)===d||b._isBoolean&&1!=b?a["$<="](this.end):a["$<"](this.end):c};b.defn(t,"$cover?",l["$==="]);l.$each=p=function(){var a,c,g=p._p||d,h=d,f=d;p._p=null;if(g===d)return this.$enum_for("each");h=this.begin;for(f=this.end;h["$<"](f);){if(b.$yield1(g,h)===r)return r.$v;h=h.$succ()}return(a=(c=this.exclude["$!"](),!1!==c&&c!==d?h["$=="](f):
c))===d||a._isBoolean&&1!=a||b.$yield1(g,h)!==r?this:r.$v};l["$eql?"]=function(a){var c,b;return(c=k.Range["$==="](a))===d||c._isBoolean&&1!=c?!1:(c=(b=this.exclude["$==="](a["$exclude_end?"]()),!1!==b&&b!==d?this.begin["$eql?"](a.$begin()):b),!1!==c&&c!==d?this.end["$eql?"](a.$end()):c)};l["$exclude_end?"]=function(){return this.exclude};b.defn(t,"$first",l.$begin);b.defn(t,"$include?",l["$cover?"]);b.defn(t,"$last",l.$end);l.$max=g=function(){var a=z.call(arguments,0),c=g._p,n=c||d;g._p=null;return n!==
d?b.find_super_dispatcher(this,"max",g,c).apply(this,a):this.exclude?this.end-1:this.end};b.defn(t,"$member?",l["$cover?"]);l.$min=c=function(){var a=z.call(arguments,0),g=c._p,n=g||d;c._p=null;return n!==d?b.find_super_dispatcher(this,"min",c,g).apply(this,a):this.begin};b.defn(t,"$member?",l["$include?"]);l.$size=function(){var a,c,b=d,h=d,f=d,b=this.begin,h=this.end;(a=this.exclude)===d||a._isBoolean&&1!=a||(h=h["$-"](1));if((a=(c=k.Numeric["$==="](b),!1!==c&&c!==d?k.Numeric["$==="](h):c))===d||
a._isBoolean&&1!=a)return d;if(h["$<"](b))return 0;f=k.Float._scope.INFINITY;return(a=!1!==(c=f["$=="](b.$abs()))&&c!==d?c:h.$abs()["$=="](f))===d||a._isBoolean&&1!=a?(Math.abs(h-b)+1).$to_i():f};l.$step=function(a){return this.$raise(k.NotImplementedError)};l.$to_s=function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()};return b.defn(t,"$inspect",l.$to_s)}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs("$include $kind_of? $to_i $coerce_to $between? $raise $new $compact $nil? $=== $<=> $to_f $strftime $is_a? $zero? $utc? $warn $yday $rjust $ljust $zone $sec $min $hour $day $month $year $wday $isdst".split(" "));return function(a,$super){function x(){}var u=x=z(a,$super,"Time",x),t=u._proto,l=u._scope;u.$include(l.Comparable);var k="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),p="Sun Mon Tue Wed Thu Fri Sat".split(" "),
g="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" ");b.defs(u,"$at",function(a,c){null==c&&(c=0);return new Date(1E3*a+c)});b.defs(u,"$new",function(a,c,b,h,f,e,m){switch(arguments.length){case 1:return new Date(a,0);case 2:return new Date(a,c-1);case 3:return new Date(a,c-1,b);case 4:return new Date(a,c-1,b,h);case 5:return new Date(a,c-1,b,h,f);case 6:return new Date(a,c-1,b,h,f,e);case 7:return new Date(a,
c-1,b,h,f,e);default:return new Date}});b.defs(u,"$local",function(a,c,b,h,f,e,m){var g;null==c&&(c=d);null==b&&(b=d);null==h&&(h=d);null==f&&(f=d);null==e&&(e=d);null==m&&(m=d);if((g=10===arguments.length)!==d&&(!g._isBoolean||1==g)){var k=r.call(arguments).reverse();e=k[9];f=k[8];h=k[7];b=k[6];c=k[5];a=k[4]}a=(g=a["$kind_of?"](l.String))===d||g._isBoolean&&1!=g?l.Opal.$coerce_to(a,l.Integer,"to_int"):a.$to_i();c=(g=c["$kind_of?"](l.String))===d||g._isBoolean&&1!=g?l.Opal.$coerce_to(!1!==(g=c)&&
g!==d?g:1,l.Integer,"to_int"):c.$to_i();((g=c["$between?"](1,12))===d||g._isBoolean&&1!=g)&&this.$raise(l.ArgumentError,"month out of range: "+c);b=(g=b["$kind_of?"](l.String))===d||g._isBoolean&&1!=g?l.Opal.$coerce_to(!1!==(g=b)&&g!==d?g:1,l.Integer,"to_int"):b.$to_i();((g=b["$between?"](1,31))===d||g._isBoolean&&1!=g)&&this.$raise(l.ArgumentError,"day out of range: "+b);h=(g=h["$kind_of?"](l.String))===d||g._isBoolean&&1!=g?l.Opal.$coerce_to(!1!==(g=h)&&g!==d?g:0,l.Integer,"to_int"):h.$to_i();((g=
h["$between?"](0,24))===d||g._isBoolean&&1!=g)&&this.$raise(l.ArgumentError,"hour out of range: "+h);f=(g=f["$kind_of?"](l.String))===d||g._isBoolean&&1!=g?l.Opal.$coerce_to(!1!==(g=f)&&g!==d?g:0,l.Integer,"to_int"):f.$to_i();((g=f["$between?"](0,59))===d||g._isBoolean&&1!=g)&&this.$raise(l.ArgumentError,"minute out of range: "+f);e=(g=e["$kind_of?"](l.String))===d||g._isBoolean&&1!=g?l.Opal.$coerce_to(!1!==(g=e)&&g!==d?g:0,l.Integer,"to_int"):e.$to_i();((g=e["$between?"](0,59))===d||g._isBoolean&&
1!=g)&&this.$raise(l.ArgumentError,"second out of range: "+e);return(g=this).$new.apply(g,[].concat([a,c,b,h,f,e].$compact()))});b.defs(u,"$gm",function(a,c,b,g,f,e,m){var H;(H=a["$nil?"]())===d||H._isBoolean&&1!=H||this.$raise(l.TypeError,"missing year (got nil)");(12<c||31<b||24<g||59<f||59<e)&&this.$raise(l.ArgumentError);a=new Date(Date.UTC(a,(c||1)-1,b||1,g||0,f||0,e||0));a.tz_offset=0;return a});(function(a){a._proto.$mktime=a._proto.$local;return a._proto.$utc=a._proto.$gm})(u.$singleton_class());
b.defs(u,"$now",function(){return new Date});t["$+"]=function(a){var c;(c=l.Time["$==="](a))===d||c._isBoolean&&1!=c||this.$raise(l.TypeError,"time + time?");a=l.Opal.$coerce_to(a,l.Integer,"to_int");a=new Date(this.getTime()+1E3*a);a.tz_offset=this.tz_offset;return a};t["$-"]=function(a){var c;return(c=l.Time["$==="](a))===d||c._isBoolean&&1!=c?(a=l.Opal.$coerce_to(a,l.Integer,"to_int"),a=new Date(this.getTime()-1E3*a),a.tz_offset=this.tz_offset,a):(this.getTime()-a.getTime())/1E3};t["$<=>"]=function(a){return this.$to_f()["$<=>"](a.$to_f())};
t["$=="]=function(a){return this.$to_f()===a.$to_f()};t.$asctime=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")};b.defn(u,"$ctime",t.$asctime);t.$day=function(){return this.getDate()};t.$yday=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/864E5)};t.$isdst=function(){return this.$raise(l.NotImplementedError)};t["$eql?"]=function(a){var c;return c=a["$is_a?"](l.Time),!1!==c&&c!==d?this["$<=>"](a)["$zero?"]():c};t["$friday?"]=function(){return 5===this.getDay()};
t.$hour=function(){return this.getHours()};t.$inspect=function(){var a;return(a=this["$utc?"]())===d||a._isBoolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")};b.defn(u,"$mday",t.$day);t.$min=function(){return this.getMinutes()};t.$mon=function(){return this.getMonth()+1};t["$monday?"]=function(){return 1===this.getDay()};b.defn(u,"$month",t.$mon);t["$saturday?"]=function(){return 6===this.getDay()};t.$sec=function(){return this.getSeconds()};t.$usec=function(){this.$warn("Microseconds are not supported");
return 0};t.$zone=function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c};t.$getgm=function(){var a=new Date(this.getTime());a.tz_offset=0;return a};t["$gmt?"]=function(){return 0==this.tz_offset};t.$gmt_offset=function(){return 60*-this.getTimezoneOffset()};t.$strftime=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,h,f,e,m){e="";
f=parseInt(f);var q=-1!==h.indexOf("0"),d=-1===h.indexOf("-"),l=-1!==h.indexOf("_"),t=-1!==h.indexOf("^"),r=-1!==h.indexOf("#"),u=(h.match(":")||[]).length;q&&l&&(h.indexOf("0")<h.indexOf("_")?q=!1:l=!1);switch(m){case "Y":e+=b.getFullYear();break;case "C":q=!l;e+=Match.round(b.getFullYear()/100);break;case "y":q=!l;e+=b.getFullYear()%100;break;case "m":q=!l;e+=b.getMonth()+1;break;case "B":e+=c[b.getMonth()];break;case "b":case "h":l=!q;e+=g[b.getMonth()];break;case "d":q=!l;e+=b.getDate();break;
case "e":l=!q;e+=b.getDate();break;case "j":e+=b.$yday();break;case "H":q=!l;e+=b.getHours();break;case "k":l=!q;e+=b.getHours();break;case "I":q=!l;e+=b.getHours()%12||12;break;case "l":l=!q;e+=b.getHours()%12||12;break;case "P":e+=12<=b.getHours()?"pm":"am";break;case "p":e+=12<=b.getHours()?"PM":"AM";break;case "M":q=!l;e+=b.getMinutes();break;case "S":q=!l;e+=b.getSeconds();break;case "L":q=!l;f=isNaN(f)?3:f;e+=b.getMilliseconds();break;case "N":f=isNaN(f)?9:f;e+=b.getMilliseconds().toString().$rjust(3,
"0");e=e.$ljust(f,"0");break;case "z":a=b.getTimezoneOffset();h=Math.floor(Math.abs(a)/60);m=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>h?"0":"");e+=h;0<u&&(e+=":");e+=10>m?"0":"";e+=m;1<u&&(e+=":00");break;case "Z":e+=b.$zone();break;case "A":e+=k[b.getDay()];break;case "a":e+=p[b.getDay()];break;case "u":e+=b.getDay()+1;break;case "w":e+=b.getDay();break;case "s":e+=parseInt(b.getTime()/1E3);break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=b.$strftime("%a %b %e %T %Y");
break;case "D":case "x":e+=b.$strftime("%m/%d/%y");break;case "F":e+=b.$strftime("%Y-%m-%d");break;case "v":e+=b.$strftime("%e-%^b-%4Y");break;case "r":e+=b.$strftime("%I:%M:%S %p");break;case "R":e+=b.$strftime("%H:%M");break;case "T":case "X":e+=b.$strftime("%H:%M:%S");break;default:return a}t&&(e=e.toUpperCase());r&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));d&&(q||l)&&(e=e.$rjust(isNaN(f)?2:f,l?" ":"0"));return e})};t["$sunday?"]=function(){return 0===
this.getDay()};t["$thursday?"]=function(){return 4===this.getDay()};t.$to_a=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]};t.$to_f=function(){return this.getTime()/1E3};t.$to_i=function(){return parseInt(this.getTime()/1E3)};b.defn(u,"$to_s",t.$inspect);t["$tuesday?"]=function(){return 2===this.getDay()};b.defn(u,"$utc?",t["$gmt?"]);t.$utc_offset=function(){return-60*this.getTimezoneOffset()};t.$wday=
function(){return this.getDay()};t["$wednesday?"]=function(){return 3===this.getDay()};return(t.$year=function(){return this.getFullYear()},d)&&"year"}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass;b.add_stubs("$== $[] $upcase $const_set $new $unshift $each $define_struct_attribute $instance_eval $to_proc $raise $<< $members $define_method $instance_variable_get $instance_variable_set $include $each_with_index $class $=== $>= $size $include? $to_sym $enum_for $hash $all? $length $map $+ $name $join $inspect $each_pair".split(" "));return function(a,$super){function x(){}var u=x=z(a,$super,"Struct",x),t=u._proto,l=u._scope,k,p,g;b.defs(u,"$new",
k=function(a,g){var y=r.call(arguments,0),n,h,f,e=k._p,m=e||d;g=r.call(arguments,1);k._p=null;if(!this["$=="](l.Struct))return b.find_super_dispatcher(this,"new",k,e,x).apply(this,y);if(a["$[]"](0)["$=="](a["$[]"](0).$upcase()))return l.Struct.$const_set(a,this.$new.apply(this,[].concat(g)));g.$unshift(a);return(n=(h=l.Class).$new,n._p=(f=function(){var a=f._s||this,e,c,b;(e=(c=g).$each,e._p=(b=function(a){var e=b._s||this;null==a&&(a=d);return e.$define_struct_attribute(a)},b._s=a,b),e).call(c);
return!1!==m&&m!==d?(e=a.$instance_eval,e._p=m.$to_proc(),e).call(a):d},f._s=this,f),n).call(h,this)});b.defs(u,"$define_struct_attribute",function(a){var b,g,n;this["$=="](l.Struct)&&this.$raise(l.ArgumentError,"you cannot define attributes to the Struct class");this.$members()["$<<"](a);(b=this.$define_method,b._p=(g=function(){return(g._s||this).$instance_variable_get("@"+a)},g._s=this,g),b).call(this,a);return(b=this.$define_method,b._p=(n=function(b){var f=n._s||this;null==b&&(b=d);return f.$instance_variable_set("@"+
a,b)},n._s=this,n),b).call(this,""+a+"=")});b.defs(u,"$members",function(){var a;null==this.members&&(this.members=d);this["$=="](l.Struct)&&this.$raise(l.ArgumentError,"the Struct class has no members");return!1!==(a=this.members)&&a!==d?a:this.members=[]});b.defs(u,"$inherited",function(a){var b,g,n=d;null==this.members&&(this.members=d);if(this["$=="](l.Struct))return d;n=this.members;return(b=a.$instance_eval,b._p=(g=function(){return(g._s||this).members=n},g._s=this,g),b).call(a)});(function(a){return a._proto["$[]"]=
a._proto.$new})(u.$singleton_class());u.$include(l.Enumerable);t.$initialize=function(a){var b,g,n;a=r.call(arguments,0);return(b=(g=this.$members()).$each_with_index,b._p=(n=function(b,f){var e=n._s||this;null==b&&(b=d);null==f&&(f=d);return e.$instance_variable_set("@"+b,a["$[]"](f))},n._s=this,n),b).call(g)};t.$members=function(){return this.$class().$members()};t["$[]"]=function(a){var b;(b=l.Integer["$==="](a))===d||b._isBoolean&&1!=b?((b=this.$members()["$include?"](a.$to_sym()))===d||b._isBoolean&&
1!=b)&&this.$raise(l.NameError,"no member '"+a+"' in struct"):(a["$>="](this.$members().$size())&&this.$raise(l.IndexError,"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));return this.$instance_variable_get("@"+a)};t["$[]="]=function(a,b){var g;(g=l.Integer["$==="](a))===d||g._isBoolean&&1!=g?((g=this.$members()["$include?"](a.$to_sym()))===d||g._isBoolean&&1!=g)&&this.$raise(l.NameError,"no member '"+a+"' in struct"):(a["$>="](this.$members().$size())&&
this.$raise(l.IndexError,"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));return this.$instance_variable_set("@"+a,b)};t.$each=p=function(){var a,g,y,n=p._p||d;p._p=null;if(n===d)return this.$enum_for("each");(a=(g=this.$members()).$each,a._p=(y=function(a){var f=y._s||this,e;null==a&&(a=d);return e=b.$yield1(n,f["$[]"](a)),e},y._s=this,y),a).call(g);return this};t.$each_pair=g=function(){var a,q,y,n=g._p||d;g._p=null;if(n===d)return this.$enum_for("each_pair");
(a=(q=this.$members()).$each,a._p=(y=function(a){var f=y._s||this,e;null==a&&(a=d);return e=b.$yieldX(n,[a,f["$[]"](a)]),e},y._s=this,y),a).call(q);return this};t["$eql?"]=function(a){var b,g,n,h;return!1!==(b=this.$hash()["$=="](a.$hash()))&&b!==d?b:(g=(n=a.$each_with_index())["$all?"],g._p=(h=function(a,e){var c=h._s||this;null==a&&(a=d);null==e&&(e=d);return c["$[]"](c.$members()["$[]"](e))["$=="](a)},h._s=this,h),g).call(n)};t.$length=function(){return this.$members().$length()};b.defn(u,"$size",
t.$length);t.$to_a=function(){var a,b,g;return(a=(b=this.$members()).$map,a._p=(g=function(a){var c=g._s||this;null==a&&(a=d);return c["$[]"](a)},g._s=this,g),a).call(b)};b.defn(u,"$values",t.$to_a);t.$inspect=function(){var a,b,g,n=d,n="#<struct ";this.$class()["$=="](l.Struct)&&(n=n["$+"](""+this.$class().$name()+" "));n=n["$+"]((a=(b=this.$each_pair()).$map,a._p=(g=function(a,f){null==a&&(a=d);null==f&&(f=d);return""+a+"="+f.$inspect()},g._s=this,g),a).call(b).$join(", "));return n=n["$+"](">")};
return b.defn(u,"$to_s",t.$inspect)}(a,null)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass,v=b.module,w=b.gvars;null==w.stdout&&(w.stdout=d);null==w.stderr&&(w.stderr=d);b.add_stubs("$write $join $map $String $getbyte $getc $raise $new $to_s $extend".split(" "));(function(a,$super){function t(){}var l=t=z(a,$super,"IO",t),k=l._scope;b.cdecl(k,"SEEK_SET",0);b.cdecl(k,"SEEK_CUR",1);b.cdecl(k,"SEEK_END",2);(function(a){a=v(a,"Writable");var g=a._proto;g["$<<"]=function(a){this.$write(a);return this};g.$print=function(a){var b,g,n;null==
w[","]&&(w[","]=d);a=r.call(arguments,0);return this.$write((b=(g=a).$map,b._p=(n=function(a){var f=n._s||this;null==a&&(a=d);return f.$String(a)},n._s=this,n),b).call(g).$join(w[","]))};g.$puts=function(a){var b,g,n;null==w["/"]&&(w["/"]=d);a=r.call(arguments,0);return this.$write((b=(g=a).$map,b._p=(n=function(a){var f=n._s||this;null==a&&(a=d);return f.$String(a)},n._s=this,n),b).call(g).$join(w["/"]))};b.donate(a,["$<<","$print","$puts"])})(l);return function(a){a=v(a,"Readable");var g=a._proto,
c=a._scope;g.$readbyte=function(){return this.$getbyte()};g.$readchar=function(){return this.$getc()};g.$readline=function(a){null==w["/"]&&(w["/"]=d);return this.$raise(c.NotImplementedError)};g.$readpartial=function(a,b){return this.$raise(c.NotImplementedError)};b.donate(a,["$readbyte","$readchar","$readline","$readpartial"])}(l)})(a,null);b.cdecl(b,"STDERR",w.stderr=b.IO.$new());b.cdecl(b,"STDIN",w.stdin=b.IO.$new());b.cdecl(b,"STDOUT",w.stdout=b.IO.$new());b.defs(w.stdout,"$write",function(a){console.log(a.$to_s());
return d});b.defs(w.stderr,"$write",function(a){console.warn(a.$to_s());return d});w.stdout.$extend(b.IO._scope.Writable);return w.stderr.$extend(b.IO._scope.Writable)})(Opal);(function(b){var a=b.top,d=b.nil;b.add_stubs(["$include"]);b.defs(a,"$to_s",function(){return"main"});return(b.defs(a,"$include",function(a){return b.Object.$include(a)}),d)&&"include"})(Opal);
(function(b){var a=b.nil,d=b.gvars,r=b.hash2;b.add_stubs(["$new"]);d["&"]=d["~"]=d["`"]=d["'"]=a;d[":"]=[];d['"']=[];d["/"]="\n";d[","]=a;b.cdecl(b,"ARGV",[]);b.cdecl(b,"ARGF",b.Object.$new());b.cdecl(b,"ENV",r([],{}));d.VERBOSE=!1;d.DEBUG=!1;d.SAFE=0;b.cdecl(b,"RUBY_PLATFORM","opal");b.cdecl(b,"RUBY_ENGINE","opal");b.cdecl(b,"RUBY_VERSION","2.1.1");b.cdecl(b,"RUBY_ENGINE_VERSION","0.6.1");return b.cdecl(b,"RUBY_RELEASE_DATE","2014-04-15")})(Opal);(function(b){b.add_stubs([]);return!0})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.slice,z=b.klass,v=b.module;(function(a,$super){function u(){}var t=u=z(a,$super,"Set",u),l=t._proto,k=t._scope,p,g,c;l.hash=d;t.$include(k.Enumerable);b.defs(t,"$[]",function(a){a=r.call(arguments,0);return this.$new(a)});l.$initialize=p=function(a){var c,b,g=p._p||d;null==a&&(a=d);p._p=null;this.hash=k.Hash.$new();return(c=a["$nil?"]())===d||c._isBoolean&&1!=c?!1!==g&&g!==d?(c=this.$do_with_enum,c._p=(b=function(a){var e=b._s||this;null==a&&(a=d);return e.$add(g["$[]"](a))},
b._s=this,b),c).call(this,a):this.$merge(a):d};l["$=="]=function(a){var c,b,g;return(c=this["$equal?"](a))===d||c._isBoolean&&1!=c?(c=a["$instance_of?"](this.$class()))===d||c._isBoolean&&1!=c?(c=(b=a["$is_a?"](k.Set),!1!==b&&b!==d?this.$size()["$=="](a.$size()):b))===d||c._isBoolean&&1!=c?!1:(c=(b=a)["$all?"],c._p=(g=function(a){var e=g._s||this;null==e.hash&&(e.hash=d);null==a&&(a=d);return e.hash["$include?"](a)},g._s=this,g),c).call(b):this.hash["$=="](a.$instance_variable_get("@hash")):!0};l.$add=
function(a){this.hash["$[]="](a,!0);return this};b.defn(t,"$<<",l.$add);l["$add?"]=function(a){var c;return(c=this["$include?"](a))===d||c._isBoolean&&1!=c?this.$add(a):d};l.$each=g=function(){var a,c,b=g._p||d;g._p=null;if(b===d)return this.$enum_for("each");(a=(c=this.hash).$each_key,a._p=b.$to_proc(),a).call(c);return this};l["$empty?"]=function(){return this.hash["$empty?"]()};l.$clear=function(){this.hash.$clear();return this};l["$include?"]=function(a){return this.hash["$include?"](a)};b.defn(t,
"$member?",l["$include?"]);l.$merge=function(a){var c,b;(c=this.$do_with_enum,c._p=(b=function(a){var f=b._s||this;null==a&&(a=d);return f.$add(a)},b._s=this,b),c).call(this,a);return this};l.$do_with_enum=c=function(a){var b,g=c._p||d;c._p=null;return(b=a.$each,b._p=g.$to_proc(),b).call(a)};l.$size=function(){return this.hash.$size()};b.defn(t,"$length",l.$size);return(l.$to_a=function(){return this.hash.$keys()},d)&&"to_a"})(a,null);return function(a){a=v(a,"Enumerable");var x=a._scope,u;a._proto.$to_set=
u=function(a,b){var k,p,g=u._p||d;b=r.call(arguments,1);null==a&&(a=x.Set);u._p=null;return(k=(p=a).$new,k._p=g.$to_proc(),k).apply(p,[this].concat(b))};b.donate(a,["$to_set"])}(a)})(Opal);
(function(b){var a=b.nil,d=b.module;return function(r){r=d(r,"Comparable");var z=r._proto,v=r._scope;b.defs(r,"$normalize",function(b){var d;return(d=v.Integer["$==="](b))===a||d._isBoolean&&1!=d?b["$>"](0)?1:b["$<"](0)?-1:0:b});z["$=="]=function(d){var r,u=a;try{return(r=this["$equal?"](d))===a||r._isBoolean&&1!=r?(r=u=this["$<=>"](d))===a||r._isBoolean&&1!=r?!1:v.Comparable.$normalize(u)["$=="](0):!0}catch(t){if(b.$rescue(t,[v.StandardError]))return!1;throw t;}};z["$>"]=function(b){var d,r=a;((d=
r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,"comparison of "+this.$class()+" with "+b.$class()+" failed");return v.Comparable.$normalize(r)["$>"](0)};z["$>="]=function(b){var d,r=a;((d=r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,"comparison of "+this.$class()+" with "+b.$class()+" failed");return v.Comparable.$normalize(r)["$>="](0)};z["$<"]=function(b){var d,r=a;((d=r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,
"comparison of "+this.$class()+" with "+b.$class()+" failed");return v.Comparable.$normalize(r)["$<"](0)};z["$<="]=function(b){var d,r=a;((d=r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,"comparison of "+this.$class()+" with "+b.$class()+" failed");return v.Comparable.$normalize(r)["$<="](0)};z["$between?"]=function(a,b){return this["$<"](a)||this["$>"](b)?!1:!0};b.donate(r,"$== $> $>= $< $<= $between?".split(" "))}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.breaker,r=b.slice,z=b.klass,v=b.gvars;(function(w,$super){function u(){}var t=u=z(w,$super,"String",u),l=t._proto,k=t._scope,p,g,c,q,y,n,h;l.length=a;t.$include(k.Comparable);l._isString=!0;b.defs(t,"$try_convert",function(f){try{return f.$to_str()}catch(e){return a}});b.defs(t,"$new",function(a){null==a&&(a="");return new String(a)});l["$%"]=function(f){var e;return(e=k.Array["$==="](f))===a||e._isBoolean&&1!=e?this.$format(this,f):(e=this).$format.apply(e,[this].concat(f))};
l["$*"]=function(a){if(1>a)return"";for(var e="",c=this;0<a;)a&1&&(e+=c),a>>=1,c+=c;return e};l["$+"]=function(a){a=k.Opal.$coerce_to(a,k.String,"to_str");return this+a.$to_s()};l["$<=>"]=function(f){var e;if((e=f["$respond_to?"]("to_str"))===a||e._isBoolean&&1!=e)return f=f["$<=>"](this),f===a?a:0<f?-1:0>f?1:0;f=f.$to_str().$to_s();return this>f?1:this<f?-1:0};l["$=="]=function(f){var e;return(e=k.String["$==="](f))===a||e._isBoolean&&1!=e?!1:this.$to_s()==f.$to_s()};b.defn(t,"$eql?",l["$=="]);b.defn(t,
"$===",l["$=="]);l["$=~"]=function(a){a._isString&&this.$raise(k.TypeError,"type mismatch: String given");return a["$=~"](this)};l["$[]"]=function(f,e){var c=this.length;if(f._isRange){var b=f.exclude;e=f.end;f=f.begin;0>f&&(f+=c);0>e&&(e+=c);b||(e+=1);if(f>c)return a;e-=f;0>e&&(e=0);return this.substr(f,e)}0>f&&(f+=this.length);return null==e?f>=this.length||0>f?a:this.substr(f,1):f>this.length||0>f?a:this.substr(f,e)};l.$capitalize=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()};
l.$casecmp=function(a){a=k.Opal.$coerce_to(a,k.String,"to_str").$to_s();return this.toLowerCase()["$<=>"](a.toLowerCase())};l.$center=function(f,e){var c;null==e&&(e=" ");f=k.Opal.$coerce_to(f,k.Integer,"to_int");e=k.Opal.$coerce_to(e,k.String,"to_str").$to_s();(c=e["$empty?"]())===a||c._isBoolean&&1!=c||this.$raise(k.ArgumentError,"zero width padding");if((c=f<=this.length)!==a&&(!c._isBoolean||1==c))return this;c=this.$ljust(f["$+"](this.length)["$/"](2).$ceil(),e);return this.$rjust(f["$+"](this.length)["$/"](2).$floor(),
e)+c.slice(this.length)};l.$chars=p=function(){var f,e=p._p||a;p._p=null;return!1===e||e===a?this.$each_char().$to_a():(f=this.$each_char,f._p=e.$to_proc(),f).call(this)};l.$chomp=function(f){var e;null==v["/"]&&(v["/"]=a);null==f&&(f=v["/"]);if((e=f===a||0===this.length)!==a&&(!e._isBoolean||1==e))return this;f=k.Opal["$coerce_to!"](f,k.String,"to_str").$to_s();return"\n"===f?this.replace(/\r?\n?$/,""):""===f?this.replace(/(\r?\n)+$/,""):this.length>f.length&&this.substr(this.length-f.length,f.length)===
f?this.substr(0,this.length-f.length):this};l.$chop=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)};l.$chr=function(){return this.charAt(0)};l.$clone=function(){var f=a,f=this.slice();f.$initialize_clone(this);return f};l.$dup=function(){var f=a,f=this.slice();f.$initialize_dup(this);return f};l.$count=function(a){return(this.length-this.replace(new RegExp(a,"g"),"").length)/a.length};b.defn(t,"$dup",l.$clone);l.$downcase=
function(){return this.toLowerCase()};l.$each_char=g=function(){var f,e=g._p||a;g._p=null;if(e===a)return this.$enum_for("each_char");for(var c=0,h=this.length;c<h;c++)(f=b.$yield1(e,this.charAt(c)))===d?d.$v:f;return this};l.$each_line=c=function(f){var e,g=c._p||a;null==v["/"]&&(v["/"]=a);null==f&&(f=v["/"]);c._p=null;if(g===a)return this.$split(f);for(var h=this.$chomp(),q=this.length!=h.length,h=h.split(f),n=0,y=h.length;n<y;n++)n<y-1||q?(e=b.$yield1(g,h[n]+f))===d?d.$v:e:(e=b.$yield1(g,h[n]))===
d?d.$v:e;return this};l["$empty?"]=function(){return 0===this.length};l["$end_with?"]=function(a){a=r.call(arguments,0);for(var e=0,c=a.length;e<c;e++){var b=k.Opal.$coerce_to(a[e],k.String,"to_str").$to_s();if(this.length>=b.length&&this.substr(this.length-b.length,b.length)==b)return!0}return!1};b.defn(t,"$eql?",l["$=="]);b.defn(t,"$equal?",l["$==="]);l.$gsub=q=function(f,e){var c,b,g=q._p||a;q._p=null;(c=!1!==(b=k.String["$==="](f))&&b!==a?b:f["$respond_to?"]("to_str"))===a||c._isBoolean&&1!=c||
(f=new RegExp(""+k.Regexp.$escape(f.$to_str())));((c=k.Regexp["$==="](f))===a||c._isBoolean&&1!=c)&&this.$raise(k.TypeError,"wrong argument type "+f.$class()+" (expected Regexp)");f=f.toString();c=f.substr(f.lastIndexOf("/")+1)+"g";b=f.substr(1,f.lastIndexOf("/")-1);this.$sub._p=g;return this.$sub(new RegExp(b,c),e)};l.$hash=function(){return this.toString()};l.$hex=function(){return this.$to_i(16)};l["$include?"]=function(f){var e;if(f._isString)return-1!==this.indexOf(f);((e=f["$respond_to?"]("to_str"))===
a||e._isBoolean&&1!=e)&&this.$raise(k.TypeError,"no implicit conversion of "+f.$class().$name()+" into String");return-1!==this.indexOf(f.$to_str())};l.$index=function(f,e){var c,b=a;null==e&&(e=a);(c=k.String["$==="](f))===a||c._isBoolean&&1!=c?(c=f["$respond_to?"]("to_str"))===a||c._isBoolean&&1!=c?(c=k.Regexp["$==="](f)["$!"]())===a||c._isBoolean&&1!=c||this.$raise(k.TypeError,"type mismatch: "+f.$class()+" given"):f=f.$to_str().$to_s():f=f.$to_s();if(!1!==e&&e!==a){e=k.Opal.$coerce_to(e,k.Integer,
"to_int");b=this.length;0>e&&(e+=b);if(e>b)return a;b=(c=k.Regexp["$==="](f))===a||c._isBoolean&&1!=c?this.substr(e).indexOf(f):!1!==(c=f["$=~"](this.substr(e)))&&c!==a?c:-1;-1!==b&&(b+=e)}else b=(c=k.Regexp["$==="](f))===a||c._isBoolean&&1!=c?this.indexOf(f):!1!==(c=f["$=~"](this))&&c!==a?c:-1;return(c=-1===b)===a||c._isBoolean&&1!=c?b:a};l.$inspect=function(){var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b",
"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};a.lastIndex=0;return a.test(this)?'"'+this.replace(a,function(a){var f=e[a];return"string"===typeof f?f:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+this+'"'};l.$intern=function(){return this};l.$lines=function(f){null==v["/"]&&(v["/"]=a);null==f&&(f=v["/"]);return this.$each_line(f).$to_a()};l.$length=function(){return this.length};l.$ljust=function(f,e){var c;null==e&&(e=" ");f=k.Opal.$coerce_to(f,k.Integer,"to_int");
e=k.Opal.$coerce_to(e,k.String,"to_str").$to_s();(c=e["$empty?"]())===a||c._isBoolean&&1!=c||this.$raise(k.ArgumentError,"zero width padding");if((c=f<=this.length)!==a&&(!c._isBoolean||1==c))return this;c=-1;var b="";for(f-=this.length;++c<f;)b+=e;return this+b.slice(0,f)};l.$lstrip=function(){return this.replace(/^\s*/,"")};l.$match=y=function(f,e){var c,b,g=y._p||a;y._p=null;(c=!1!==(b=k.String["$==="](f))&&b!==a?b:f["$respond_to?"]("to_str"))===a||c._isBoolean&&1!=c||(f=new RegExp(""+k.Regexp.$escape(f.$to_str())));
((c=k.Regexp["$==="](f))===a||c._isBoolean&&1!=c)&&this.$raise(k.TypeError,"wrong argument type "+f.$class()+" (expected Regexp)");return(c=(b=f).$match,c._p=g.$to_proc(),c).call(b,this,e)};l.$next=function(){if(0===this.length)return"";var a=this.substr(0,this.length-1),e=String.fromCharCode(this.charCodeAt(this.length-1)+1);return a+e};l.$ord=function(){return this.charCodeAt(0)};l.$partition=function(a){var e=this.split(a);return[e[0],e[0].length===this.length?"":a,e.slice(1).join(a.toString())]};
l.$reverse=function(){return this.split("").reverse().join("")};l.$rindex=function(f,e){var c=null==f?Opal.NilClass:f.constructor;c!=String&&c!=RegExp&&this.$raise(k.TypeError.$new("type mismatch: "+c+" given"));if(0==this.length)return 0==f.length?0:a;var b=-1;null!=e?(0>e&&(e=this.length+e),c==String?b=this.lastIndexOf(f,e):(b=this.substr(0,e+1).$reverse().search(f),-1!==b&&(b=e-b))):c==String?b=this.lastIndexOf(f):(b=this.$reverse().search(f),-1!==b&&(b=this.length-1-b));return-1===b?a:b};l.$rjust=
function(c,e){var b;null==e&&(e=" ");c=k.Opal.$coerce_to(c,k.Integer,"to_int");e=k.Opal.$coerce_to(e,k.String,"to_str").$to_s();(b=e["$empty?"]())===a||b._isBoolean&&1!=b||this.$raise(k.ArgumentError,"zero width padding");if((b=c<=this.length)!==a&&(!b._isBoolean||1==b))return this;b=Math.floor(c-this.length);var g=Array(Math.floor(b/e.length)+1).join(e);return g+e.slice(0,b-g.length)+this};l.$rstrip=function(){return this.replace(/\s*$/,"")};l.$scan=n=function(c){var e=n._p||a;n._p=null;c.global?
c.lastIndex=0:c=new RegExp(c.source,"g"+(c.multiline?"m":"")+(c.ignoreCase?"i":""));for(var b=[],g;null!=(g=c.exec(this));)k.MatchData.$new(c,g),e===a?1==g.length?b.push(g[0]):b.push(g.slice(1)):1==g.length?e(g[0]):e.apply(this,g.slice(1));return e!==a?this:b};b.defn(t,"$size",l.$length);b.defn(t,"$slice",l["$[]"]);l.$split=function(c,e){var b;null==v[";"]&&(v[";"]=a);null==c&&(c=!1!==(b=v[";"])&&b!==a?b:" ");if(c===a||void 0===c)c=v[";"];b=[];void 0!==e&&(e=k.Opal["$coerce_to!"](e,k.Integer,"to_int"));
if(0===this.length)return[];if(1===e)return[this];if(c&&c._isRegexp){var g=c.toString(),h="/^/"==g.substr(0,3)||"/(?:)/"==g.substr(0,6);if(void 0===e||0===e)b=this.split(h?/(?:)/:c);else{c.global||(c=eval(g+"g"));var q=0;for(c.lastIndex=0;null!==(g=c.exec(this));){q=this.slice(q,g.index);b.push(q);q=c.lastIndex;if(0===g[0].length){h&&(c=/(?:)/);b=this.split(c);void 0!==e&&0>e&&h&&b.push("");q=void 0;break}if(void 0!==e&&1<e&&b.length+1==e)break}void 0!==q&&b.push(this.slice(q,this.length))}}else{g=
h=0;c=c===a||void 0===c?" ":k.Opal.$try_convert(c,k.String,"to_str").$to_s();for(var q=" "==c?this.replace(/[\r\n\t\v]\s+/g," "):this,n=-1;-1<(n=q.indexOf(c,g))&&n<q.length&&h+1!==e;)" "==c&&n==g?g=n+1:(b.push(q.substr(g,c.length?n-g:1)),h++,g=n+(c.length?c.length:1));0<q.length&&(0>e||q.length>g)&&(q.length==g?b.push(""):b.push(q.substr(g,q.length)))}if(void 0===e||0===e)for(;""===b[b.length-1];)--b.length;0<e&&(h=b.slice(e-1).join(""),b.splice(e-1,b.length-1,h));return b};l.$squeeze=function(a){a=
r.call(arguments,0);if(0===a.length)return this.replace(/(.)\1+/g,"$1");for(var e=k.Opal.$coerce_to(a[0],k.String,"to_str").$chars(),c=1,b=a.length;c<b;c++)e=e["$&"](k.Opal.$coerce_to(a[c],k.String,"to_str").$chars());return 0===e.length?this:this.replace(new RegExp("(["+k.Regexp.$escape(e.$join())+"])\\1+","g"),"$1")};l["$start_with?"]=function(a){a=r.call(arguments,0);for(var e=0,c=a.length;e<c;e++){var b=k.Opal.$coerce_to(a[e],k.String,"to_str").$to_s();if(0===this.indexOf(b))return!0}return!1};
l.$strip=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")};l.$sub=h=function(c,e){var b=this,g=h._p||a;h._p=null;if("string"===typeof e)return e=e.replace(/\\([1-9])/g,"$$$1"),b.replace(c,e);if(g!==a)return b.replace(c,function(){for(var e=[],c=0,f=arguments.length;c<f;c++){var b=arguments[c];void 0==b?e.push(a):e.push(b)}e.pop();e.pop();v["&"]=e[0];v["~"]=e;return g(e[0])});if(void 0!==e){if(e["$is_a?"](k.Hash))return b.replace(c,function(c){return null==e["$[]"](b.$str())?a:b.$value().$to_s()});
e=k.String.$try_convert(e);null==e&&b.$raise(k.TypeError,"can't convert "+e.$class()+" into String");return b.replace(c,e)}e=e.toString().replace(/\\([1-9])/g,"$$$1");return b.replace(c,e)};b.defn(t,"$succ",l.$next);l.$sum=function(a){null==a&&(a=16);for(var e=0,c=0,b=this.length;c<b;c++)e+=this.charCodeAt(c)%((1<<a)-1);return e};l.$swapcase=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,c,f){return c?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)};
l.$to_f=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a};l.$to_i=function(a){null==a&&(a=10);a=parseInt(this,a);return isNaN(a)?0:a};l.$to_proc=function(){var c,e;return(c=this.$proc,c._p=(e=function(c,f){var b=e._s||this,g;null==c&&(c=a);f=r.call(arguments,1);return(g=c).$send.apply(g,[b].concat(f))},e._s=this,e),c).call(this)};l.$to_s=function(){return this.toString()};b.defn(t,"$to_str",l.$to_s);b.defn(t,"$to_sym",
l.$intern);l.$tr=function(a,e){if(0==a.length||a===e)return this;var c={},b=a.split(""),g=b.length,h=e.split(""),q=h.length,n=!1,y=null;"^"===b[0]&&(n=!0,b.shift(),y=h[q-1],--g);for(var d=[],l=null,k=!1,p=0;p<g;p++){var t=b[p];if(null==l)l=t,d.push(t);else if("-"===t)"-"===l?(d.push("-"),d.push("-")):p==g-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t)}b=d;g=b.length;if(n)for(p=0;p<g;p++)c[b[p]]=!0;else{if(0<
q){d=[];k=!1;for(p=0;p<q;p++)if(t=h[p],null==l)l=t,d.push(t);else if("-"===t)p==q-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t);h=d;q=h.length}t=g-q;if(0<t)for(q=0<q?h[q-1]:"",p=0;p<t;p++)h.push(q);for(p=0;p<g;p++)c[b[p]]=h[p]}b="";p=0;for(g=this.length;p<g;p++)t=this.charAt(p),h=c[t],b=n?b+(null==h?y:t):b+(null!=h?h:t);return b};l.$tr_s=function(a,e){if(0==a.length)return this;var c={},b=a.split(""),
g=b.length,h=e.split(""),q=h.length,n=!1,y=null;"^"===b[0]&&(n=!0,b.shift(),y=h[q-1],--g);for(var d=[],l=null,k=!1,p=0;p<g;p++){var t=b[p];if(null==l)l=t,d.push(t);else if("-"===t)"-"===l?(d.push("-"),d.push("-")):p==g-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t)}b=d;g=b.length;if(n)for(p=0;p<g;p++)c[b[p]]=!0;else{if(0<q){d=[];k=!1;for(p=0;p<q;p++)if(t=h[p],null==l)l=t,d.push(t);else if("-"===t)p==
q-1?d.push("-"):k=!0;else if(k){k=l.charCodeAt(0)+1;for(l=t.charCodeAt(0);k<l;k++)d.push(String.fromCharCode(k));d.push(t);l=k=null}else d.push(t);h=d;q=h.length}t=g-q;if(0<t)for(q=0<q?h[q-1]:"",p=0;p<t;p++)h.push(q);for(p=0;p<g;p++)c[b[p]]=h[p]}b="";g=null;p=0;for(h=this.length;p<h;p++)if(t=this.charAt(p),q=c[t],n)null==q?null==g&&(b+=y,g=!0):(b+=t,g=null);else if(null!=q){if(null==g||g!==q)b+=q,g=q}else b+=t,g=null;return b};l.$upcase=function(){return this.toUpperCase()};l.$freeze=function(){return this};
return(l["$frozen?"]=function(){return!0},a)&&"frozen?"})(b.top,null);return b.cdecl(b,"Symbol",b.String)})(Opal);
(function(b){var a,d,r,z,v,w,x,u=b.top,t=b.nil,l=b.breaker,k=b.klass,p=b.hash2;(function(a,$super){function q(){}var y=q=k(a,$super,"Encoding",q),n=y._proto,h=y._scope,f;n.ascii=n.dummy=n.name=t;b.defs(y,"$register",f=function(a,b){var g,q,n,y,d=f._p||t,l=t,k=t;null==b&&(b=p([],{}));f._p=null;l=[a]["$+"](!1!==(g=b["$[]"]("aliases"))&&g!==t?g:[]);k=(g=(q=h.Class).$new,g._p=d.$to_proc(),g).call(q,this).$new(a,l,!1!==(g=b["$[]"]("ascii"))&&g!==t?g:!1,!1!==(g=b["$[]"]("dummy"))&&g!==t?g:!1);return(g=
(n=l).$each,g._p=(y=function(a){var e=y._s||this;null==a&&(a=t);return e.$const_set(a.$sub("-","_"),k)},y._s=this,y),g).call(n)});b.defs(y,"$find",function(a){try{var f,g,q;if((f=this["$==="](a))!==t&&(!f._isBoolean||1==f))return a;(f=(g=this.$constants()).$each,f._p=(q=function(f){var g=q._s||this,h,m,n=t;null==f&&(f=t);n=g.$const_get(f);if((h=!1!==(m=n.$name()["$=="](a))&&m!==t?m:n.$names()["$include?"](a))===t||h._isBoolean&&1!=h)return t;b.$return(n)},q._s=this,q),f).call(g);return this.$raise(h.ArgumentError,
"unknown encoding name - "+a)}catch(n){if(n===b.returner)return n.$v;throw n;}});(function(a){return a.$attr_accessor("default_external")})(y.$singleton_class());y.$attr_reader("name","names");n.$initialize=function(a,b,f,g){this.name=a;this.names=b;this.ascii=f;return this.dummy=g};n["$ascii_compatible?"]=function(){return this.ascii};n["$dummy?"]=function(){return this.dummy};n.$to_s=function(){return this.name};n.$inspect=function(){var a;return"#<Encoding:"+this.name+((a=this.dummy)===t||a._isBoolean&&
1!=a?t:" (dummy)")+">"};n.$each_byte=function(){return this.$raise(h.NotImplementedError)};n.$getbyte=function(){return this.$raise(h.NotImplementedError)};return(n.$bytesize=function(){return this.$raise(h.NotImplementedError)},t)&&"bytesize"})(u,null);(a=(d=b.Encoding).$register,a._p=(r=function(){var a=r._s||this,c;b.defn(a,"$each_byte",c=function(a){var g,n=c._p||t;c._p=null;for(var h=0,f=a.length;h<f;h++){var e=a.charCodeAt(h);if(127>=e)(g=b.$yield1(n,e))===l?l.$v:g;else for(var e=encodeURIComponent(a.charAt(h)).substr(1).split("%"),
m=0,d=e.length;m<d;m++)(g=b.$yield1(n,parseInt(e[m],16)))===l?l.$v:g}});return(b.defn(a,"$bytesize",function(){return this.$bytes().$length()}),t)&&"bytesize"},r._s=u,r),a).call(d,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(a=(z=b.Encoding).$register,a._p=(v=function(){var a=v._s||this,c;b.defn(a,"$each_byte",c=function(a){var g,n=c._p||t;c._p=null;for(var h=0,f=a.length;h<f;h++){var e=a.charCodeAt(h);(g=b.$yield1(n,e&255))===l?l.$v:g;(g=b.$yield1(n,e>>8))===l?l.$v:g}});return(b.defn(a,
"$bytesize",function(){return this.$bytes().$length()}),t)&&"bytesize"},v._s=u,v),a).call(z,"UTF-16LE");(a=(w=b.Encoding).$register,a._p=(x=function(){var a=x._s||this,c;b.defn(a,"$each_byte",c=function(a){var g,n=c._p||t;c._p=null;for(var h=0,f=a.length;h<f;h++)(g=b.$yield1(n,a.charCodeAt(h)&255))===l?l.$v:g});return(b.defn(a,"$bytesize",function(){return this.$bytes().$length()}),t)&&"bytesize"},x._s=u,x),a).call(w,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(a,
$super){function b(){}var y=b=k(a,$super,"String",b),n=y._proto,h=y._scope,f;n.encoding=t;n.encoding=h.Encoding._scope.UTF_16LE;n.$bytes=function(){return this.$each_byte().$to_a()};n.$bytesize=function(){return this.encoding.$bytesize(this)};n.$each_byte=f=function(){var a,b,g=f._p||t;f._p=null;if(g===t)return this.$enum_for("each_byte");(a=(b=this.encoding).$each_byte,a._p=g.$to_proc(),a).call(b,this);return this};n.$encoding=function(){return this.encoding};n.$force_encoding=function(a){a=h.Encoding.$find(a);
if(a["$=="](this.encoding))return this;var b=new String(this);b.encoding=a;return b};return(n.$getbyte=function(a){return this.encoding.$getbyte(this,a)},t)&&"getbyte"}(u,null)})(Opal);
(function(b){var a=b.nil,d=b.klass;return function(r,$super){function v(){}var w=v=d(r,$super,"StringScanner",v),x=w._proto;x.pos=x.string=x.working=x.prev_pos=x.matched=x.match=a;w.$attr_reader("pos");w.$attr_reader("matched");x.$initialize=function(b){this.string=b;this.pos=0;this.matched=a;this.working=b;return this.match=[]};x["$bol?"]=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)};x.$scan=function(b){b=new RegExp("^"+b.toString().substring(1,b.toString().length-1));b=
b.exec(this.working);return null==b?this.matched=a:"object"===typeof b?(this.prev_pos=this.pos,this.pos+=b[0].length,this.working=this.working.substring(b[0].length),this.matched=b[0],this.match=b,b[0]):"string"===typeof b?(this.pos+=b.length,this.working=this.working.substring(b.length),b):a};x["$[]"]=function(b){var d=this.match;0>b&&(b+=d.length);return 0>b||b>=d.length?a:d[b]};x.$check=function(b){b=(new RegExp("^"+b.toString().substring(1,b.toString().length-1))).exec(this.working);return null==
b?this.matched=a:this.matched=b[0]};x.$peek=function(a){return this.working.substring(0,a)};x["$eos?"]=function(){return 0===this.working.length};x.$skip=function(b){b=new RegExp("^"+b.source);b=b.exec(this.working);if(null==b)return this.matched=a;b=b[0];var d=b.length;this.matched=b;this.prev_pos=this.pos;this.pos+=d;this.working=this.working.substring(d);return d};x.$get_byte=function(){var b=a;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,b=this.matched=this.working.substring(0,
1),this.working=this.working.substring(1)):this.matched=a;return b};b.defn(w,"$getch",x.$get_byte);x["$pos="]=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)};x.$rest=function(){return this.working};x.$terminate=function(){this.match=a;return this["$pos="](this.string.$length())};return(x.$unscan=function(){this.pos=this.prev_pos;this.match=this.prev_pos=a;return this},a)&&"unscan"}(b.top,null)})(Opal);
(function(b){var a=b.nil,d=b.module;return function(r){r=d(r,"Comparable");var z=r._proto,v=r._scope;z["$=="]=function(d){var r,u=a;try{return(r=this["$equal?"](d))===a||r._isBoolean&&1!=r?(r=u=this["$<=>"](d))===a||r._isBoolean&&1!=r?!1:0==u:!0}catch(t){if(b.$rescue(t,[v.StandardError]))return!1;throw t;}};z["$>"]=function(b){var d,r=a;((d=r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0<r};z["$>="]=function(b){var d,
r=a;((d=r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0<=r};z["$<"]=function(b){var d,r=a;((d=r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>r};z["$<="]=function(b){var d,r=a;((d=r=this["$<=>"](b))===a||d._isBoolean&&1!=d)&&this.$raise(v.ArgumentError,"comparison of "+this.$class()+" with "+b.$class()+" failed");
return 0>=r};b.donate(r,["$==","$>","$>=","$<","$<="])}(b.top)})(Opal);(function(b){var a=b.nil,d=b.klass;return function(r,$super){function v(){}var w=v=d(r,$super,"Dir",v),x=w._scope;b.defs(w,"$pwd",function(){var b;return!1!==(b=x.ENV["$[]"]("PWD"))&&b!==a?b:"."});b.defs(w,"$getwd",function(){var b;return!1!==(b=x.ENV["$[]"]("PWD"))&&b!==a?b:"."});return(b.defs(w,"$home",function(){return x.ENV["$[]"]("HOME")}),a)&&"home"}(b.top,null)})(Opal);
(function(b){var a=b.nil,d=b.klass;return function(b,$super){function v(){}v=d(b,$super,"SecurityError",v);return a}(b.top,b.Exception)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.breaker,z=b.slice,v=b.klass,w=b.gvars,x=b.range;(function(a,$super){function l(){}var k=l=v(a,$super,"Kernel",l),p=k._scope,g;return(k._proto.$open=g=function(a,q){var y,n,h=g._p||d,f=d;q=z.call(arguments,1);g._p=null;f=(y=p.File).$new.apply(y,[a].concat(q));return h!==d?(n=b.$yield1(h,f),n):f},d)&&"open"})(a,null);return function(a,$super){function l(){}var k=l=v(a,$super,"File",l),p=k._proto,g=k._scope,c;p.eof=p.path=d;b.cdecl(g,"SEPARATOR","/");b.cdecl(g,"ALT_SEPARATOR",
d);k.$attr_reader("eof");k.$attr_reader("lineno");k.$attr_reader("path");p.$initialize=function(a,c){this.path=a;this.contents=d;this.eof=!1;return this.lineno=0};p.$read=function(){var a,c=d;return(a=this.eof)===d||a._isBoolean&&1!=a?(c=g.File.$read(this.path),this.eof=!0,this.lineno=c.$size(),c):""};p.$each_line=c=function(a){var y,n=c._p||d,h=d;null==w["/"]&&(w["/"]=d);null==a&&(a=w["/"]);c._p=null;if((y=this.eof)!==d&&(!y._isBoolean||1==y))return n!==d?this:[].$to_enum();if(n!==d){h=g.File.$read(this.path);
this.eof=!1;this.lineno=0;for(var f=h.$chomp(),h=h.length!=f.length,f=f.split(a),e=0,m=f.length;e<m;e++)this.lineno+=1,e<m-1||h?(y=b.$yield1(n,f[e]+a))===r?r.$v:y:(y=b.$yield1(n,f[e]))===r?r.$v:y;this.eof=!0;return this}return this.$read().$each_line()};b.defs(k,"$expand_path",function(a){return a});b.defs(k,"$join",function(a){a=z.call(arguments,0);return a["$*"](g.SEPARATOR)});b.defs(k,"$basename",function(a){var c,b=d;return(c=b=a.$rindex(g.SEPARATOR))===d||c._isBoolean&&1!=c?a:a["$[]"](x(b["$+"](1),
-1,!1))});b.defs(k,"$dirname",function(a){var c,b=d;return(c=b=a.$rindex(g.SEPARATOR))===d||c._isBoolean&&1!=c?".":a["$[]"](x(0,b["$-"](1),!1))});b.defs(k,"$extname",function(a){var c,b=d;if((c=a["$nil_or_empty?"]())!==d&&(!c._isBoolean||1==c))return"";b=a["$[]"](x(1,-1,!1)).$rindex(".");return(c=b["$nil?"]())===d||c._isBoolean&&1!=c?a["$[]"](x(b["$+"](1),-1,!1)):""});b.defs(k,"$file?",function(a){return!0});return(b.defs(k,"$read",function(a){var c=d;return function(){c=g.JAVASCRIPT_PLATFORM;if("node"["$==="](c))return require("fs").readFileSync(a,
"utf8");if("java-nashorn"["$==="](c)){var b=Java.type("java.nio.file.Paths"),h=[];Java.type("java.nio.file.Files").readAllLines(b.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){h.push(a)});return h.join("\n")}if("browser"["$==="](c)){var h="",f=-1;try{b=new XMLHttpRequest,b.open("GET",a,!1),b.addEventListener("load",function(){f=this.status;if(0==f||200==f)h=this.responseText}),b.overrideMimeType("text/plain"),b.send()}catch(e){f=0}if(404==f||0==f&&""==h)throw g.IOError.$new("No such file or directory: "+
a);return h}return"standalone"["$==="](c)?read(a):""}()}),d)&&"read"}(a,null)})(Opal);(function(b){b.cdecl(b,"JAVASCRIPT_PLATFORM","undefined"!==typeof module&&module.exports?"node":"undefined"!==typeof XMLHttpRequest?"browser":"undefined"!==typeof Java&&Java.type?"java-nashorn":"undefined"!==typeof java?"java-rhino":"standalone");return!0})(Opal);(function(b){var a=b.module,a=a(b.top,"Asciidoctor")._scope;b.cdecl(a,"VERSION","1.5.2")})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2,v=b.gvars;return function(w){(function(d,$super){function t(){}var l=(t=r(d,$super,"Timings",t))._proto;l.timers=l.log=a;l.$initialize=function(){this.log=z([],{});return this.timers=z([],{})};l.$start=function(a){var d;return this.timers["$[]="](a,(null==(d=b.Object._scope.Time)?b.cm("Time"):d).$now())};l.$record=function(a){var d;return this.log["$[]="](a,(null==(d=b.Object._scope.Time)?b.cm("Time"):d).$now()["$-"](this.timers.$delete(a)))};
l.$read_parse=function(){var b,d=a;return(d=(!1!==(b=this.log["$[]"]("read"))&&b!==a?b:0)["$+"](!1!==(b=this.log["$[]"]("parse"))&&b!==a?b:0))["$>"](0)?d:a};l.$convert=function(){var b;return!1!==(b=this.log["$[]"]("convert"))&&b!==a?b:0};l.$read_parse_convert=function(){var b,d=a;return(d=(!1!==(b=this.log["$[]"]("read"))&&b!==a?b:0)["$+"](!1!==(b=this.log["$[]"]("parse"))&&b!==a?b:0)["$+"](!1!==(b=this.log["$[]"]("convert"))&&b!==a?b:0))["$>"](0)?d:a};l.$total=function(){var b,d=a;return(d=(!1!==
(b=this.log["$[]"]("read"))&&b!==a?b:0)["$+"](!1!==(b=this.log["$[]"]("parse"))&&b!==a?b:0)["$+"](!1!==(b=this.log["$[]"]("convert"))&&b!==a?b:0)["$+"](!1!==(b=this.log["$[]"]("write"))&&b!==a?b:0))["$>"](0)?d:a};return(l.$print_report=function(b,d){null==v.stdout&&(v.stdout=a);null==b&&(b=v.stdout);null==d&&(d=a);!1!==d&&d!==a&&b.$puts("Input file: "+d);b.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_i()));b.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_i()));
return b.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_i()))},a)&&"print_report"})(d(w,"Asciidoctor"),null)}(b.top)})(Opal);
(function(b){var a=b.top,d=b.nil,r=b.klass;(function(a,$super){function w(){}var x=w=r(a,$super,"NilClass",w),u=x._proto,t;return(t=x["$respond_to?"]("nil_or_empty?"))===d||t._isBoolean&&1!=t?b.defn(x,"$nil_or_empty?",u["$nil?"]):d})(a,null);(function(a,$super){function w(){}var x=w=r(a,$super,"String",w),u=x._proto,t;return(t=x["$respond_to?"]("nil_or_empty?"))===d||t._isBoolean&&1!=t?b.defn(x,"$nil_or_empty?",u["$empty?"]):d})(a,null);(function(a,$super){function w(){}var x=w=r(a,$super,"Array",
w),u=x._proto,t;return(t=x["$respond_to?"]("nil_or_empty?"))===d||t._isBoolean&&1!=t?b.defn(x,"$nil_or_empty?",u["$empty?"]):d})(a,null);(function(a,$super){function w(){}var x=w=r(a,$super,"Hash",w),u=x._proto,t;return(t=x["$respond_to?"]("nil_or_empty?"))===d||t._isBoolean&&1!=t?b.defn(x,"$nil_or_empty?",u["$empty?"]):d})(a,null);return function(a,$super){function w(){}var x=w=r(a,$super,"Numeric",w),u=x._proto,t;return(t=x["$respond_to?"]("nil_or_empty?"))===d||t._isBoolean&&1!=t?b.defn(x,"$nil_or_empty?",
u["$nil?"]):d}(a,null)})(Opal);(function(b){var a=b.nil;if(b.RUBY_ENGINE["$=="]("opal"))return a})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.range,z=b.gvars;return function(v){(function(w){w=d(w,"Helpers");var v=w._scope;b.defs(w,"$require_library",function(a,b){return!0});b.defs(w,"$normalize_lines",function(a){var d;return a.$class()["$=="](null==(d=b.Object._scope.String)?b.cm("String"):d)?this.$normalize_lines_from_string(a):this.$normalize_lines_array(a)});b.defs(w,"$normalize_lines_array",function(d){var t,l,k,p,g,c,q,y=a,n=a,h=a,f=a;if((t=d["$empty?"]())!==a&&(!t._isBoolean||1==t))return[];
y=(n=d["$[]"](0))["$[]"](r(0,2,!1)).$bytes().$to_a();if((t=v.COERCE_ENCODING)===a||t._isBoolean&&1!=t){if(y["$=="](v.BOM_BYTES_UTF_8))d["$[]="](0,n["$[]"](r(3,-1,!1)));return(t=d.$map,t._p=(q=function(e){null==e&&(e=a);return e.$rstrip()},q._s=this,q),t).call(d)}h=(null==(t=b.Object._scope.Encoding)?b.cm("Encoding"):t)._scope.UTF_8;if((f=y["$[]"](r(0,1,!1)))["$=="](v.BOM_BYTES_UTF_16LE))return(t=(l=d.$join().$force_encoding((null==(p=b.Object._scope.Encoding)?b.cm("Encoding"):p)._scope.UTF_16LE)["$[]"](r(1,
-1,!1)).$encode(h).$lines()).$map,t._p=(k=function(e){null==e&&(e=a);return e.$rstrip()},k._s=this,k),t).call(l);if(f["$=="](v.BOM_BYTES_UTF_16BE))return d["$[]="](0,n.$force_encoding((null==(t=b.Object._scope.Encoding)?b.cm("Encoding"):t)._scope.UTF_16BE)["$[]"](r(1,-1,!1))),(t=(p=d).$map,t._p=(g=function(e){var c;null==e&&(e=a);return""+e.$force_encoding((null==(c=b.Object._scope.Encoding)?b.cm("Encoding"):c)._scope.UTF_16BE).$encode(h).$rstrip()},g._s=this,g),t).call(p);if(y["$[]"](r(0,2,!1))["$=="](v.BOM_BYTES_UTF_8))d["$[]="](0,
n.$force_encoding(h)["$[]"](r(1,-1,!1)));return(t=d.$map,t._p=(c=function(e){null==e&&(e=a);return e.$encoding()["$=="](h)?e.$rstrip():e.$force_encoding(h).$rstrip()},c._s=this,c),t).call(d)});b.defs(w,"$normalize_lines_from_string",function(d){var t,l,k,p=a,g=a,c=a;if((t=d["$nil_or_empty?"]())!==a&&(!t._isBoolean||1==t))return[];(t=v.COERCE_ENCODING)===a||t._isBoolean&&1!=t?d["$[]"](r(0,2,!1)).$bytes().$to_a()["$=="](v.BOM_BYTES_UTF_8)&&(d=d["$[]"](r(3,-1,!1))):(p=(null==(t=b.Object._scope.Encoding)?
b.cm("Encoding"):t)._scope.UTF_8,g=d["$[]"](r(0,2,!1)).$bytes().$to_a(),(c=g["$[]"](r(0,1,!1)))["$=="](v.BOM_BYTES_UTF_16LE)?d=d.$force_encoding((null==(t=b.Object._scope.Encoding)?b.cm("Encoding"):t)._scope.UTF_16LE)["$[]"](r(1,-1,!1)).$encode(p):c["$=="](v.BOM_BYTES_UTF_16BE)?d=d.$force_encoding((null==(t=b.Object._scope.Encoding)?b.cm("Encoding"):t)._scope.UTF_16BE)["$[]"](r(1,-1,!1)).$encode(p):g["$[]"](r(0,2,!1))["$=="](v.BOM_BYTES_UTF_8)?d=d.$encoding()["$=="](p)?d["$[]"](r(1,-1,!1)):d.$force_encoding(p)["$[]"](r(1,
-1,!1)):d.$encoding()["$=="](p)||(d=d.$force_encoding(p)));return(t=(l=d.$each_line()).$map,t._p=(k=function(c){null==c&&(c=a);return c.$rstrip()},k._s=this,k),t).call(l)});b.cdecl(v,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);b.defs(w,"$encode_uri",function(b){var d,l;return(d=b.$gsub,d._p=(l=function(){var b=l._s||this,d,g,c;null==z["&"]&&(z["&"]=a);return(d=(g=z["&"].$each_byte()).$map,d._p=(c=function(b){var g=c._s||this;null==b&&(b=a);return g.$sprintf("%%%02X",b)},c._s=b,c),d).call(g).$join()},
l._s=this,l),d).call(b,v.REGEXP_ENCODE_URI_CHARS)});b.defs(w,"$rootname",function(d){var t,l,k=a;return(t=(k=(null==(l=b.Object._scope.File)?b.cm("File"):l).$extname(d))["$empty?"]())===a||t._isBoolean&&1!=t?d["$[]"](r(0,k.$length()["$-@"](),!0)):d});b.defs(w,"$mkdir_p",function(d){var t,l,k,p=a;return(t=(null==(l=b.Object._scope.File)?b.cm("File"):l)["$directory?"](d))===a||t._isBoolean&&1!=t?(p=(null==(t=b.Object._scope.File)?b.cm("File"):t).$dirname(d),(t=(l=(null==(k=b.Object._scope.File)?b.cm("File"):
k)["$directory?"](p=(null==(k=b.Object._scope.File)?b.cm("File"):k).$dirname(d))["$!"](),!1!==l&&l!==a?p["$=="](".")["$!"]():l))===a||t._isBoolean&&1!=t||this.$mkdir_p(p),(null==(t=b.Object._scope.Dir)?b.cm("Dir"):t).$mkdir(d)):a})})(d(v,"Asciidoctor"))}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.breaker,r=b.slice,z=b.module,v=b.hash2,w=b.gvars,x=b.range;return function(u){(function(t){t=z(t,"Substitutors");var l=t._proto,k=t._scope;b.cdecl(k,"SPECIAL_CHARS",v(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));b.cdecl(k,"SPECIAL_CHARS_PATTERN",new RegExp("["+k.SPECIAL_CHARS.$keys().$join()+"]"));b.cdecl(k,"SUBS",v("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),
verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),header:["specialcharacters","attributes"],pass:[]}));b.cdecl(k,"COMPOSITE_SUBS",v(["none","normal","verbatim","specialchars"],{none:[],normal:k.SUBS["$[]"]("normal"),verbatim:k.SUBS["$[]"]("verbatim"),specialchars:["specialcharacters"]}));b.cdecl(k,"SUB_SYMBOLS",v("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",
c:"specialcharacters",v:"verbatim"}));b.cdecl(k,"SUB_OPTIONS",v(["block","inline"],{block:k.COMPOSITE_SUBS.$keys()["$+"](k.SUBS["$[]"]("normal"))["$+"](["callouts"]),inline:k.COMPOSITE_SUBS.$keys()["$+"](k.SUBS["$[]"]("normal"))}));b.cdecl(k,"SUB_HIGHLIGHT",["coderay","pygments"]);b.cdecl(k,"PASS_START","\u0096");b.cdecl(k,"PASS_END","\u0097");b.cdecl(k,"PASS_MATCH",/\u0096(\d+)\u0097/);b.cdecl(k,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);t.$attr_reader("passthroughs");
l.$apply_subs=function(d,g,c){var q,y,n,h,f,e=a,m=a,l=a,T=a;null==this.passthroughs&&(this.passthroughs=a);null==g&&(g="normal");null==c&&(c=!1);if((q=g["$!"]())!==a&&(!q._isBoolean||1==q))return d;g["$=="]("normal")?g=k.SUBS["$[]"]("normal"):!1!==c&&c!==a&&((q=g["$is_a?"](null==(y=b.Object._scope.Symbol)?b.cm("Symbol"):y))===a||q._isBoolean&&1!=q?(e=[],(q=(y=g).$each,q._p=(n=function(c){var b;null==c&&(c=a);return(b=k.COMPOSITE_SUBS["$has_key?"](c))===a||b._isBoolean&&1!=b?e["$<<"](c):e=e["$+"](k.COMPOSITE_SUBS["$[]"](c))},
n._s=this,n),q).call(y),g=e):g=!1!==(q=k.COMPOSITE_SUBS["$[]"](g))&&q!==a?q:[g]);if((q=g["$empty?"]())!==a&&(!q._isBoolean||1==q))return d;m=(q=l=d["$is_a?"](null==(h=b.Object._scope.Array)?b.cm("Array"):h))===a||q._isBoolean&&1!=q?d:d["$*"](k.EOL);(q=T=g["$include?"]("macros"))===a||q._isBoolean&&1!=q||(m=this.$extract_passthroughs(m),(q=this.passthroughs["$empty?"]())===a||q._isBoolean&&1!=q||(T=!1));(q=(h=g).$each,q._p=(f=function(e){var c=f._s||this,b,h=a;null==e&&(e=a);h=e;return"specialcharacters"["$==="](h)?
m=c.$sub_specialcharacters(m):"quotes"["$==="](h)?m=c.$sub_quotes(m):"attributes"["$==="](h)?m=c.$sub_attributes(m.$split(k.EOL))["$*"](k.EOL):"replacements"["$==="](h)?m=c.$sub_replacements(m):"macros"["$==="](h)?m=c.$sub_macros(m):"highlight"["$==="](h)?m=c.$highlight_source(m,g["$include?"]("callouts")):"callouts"["$==="](h)?(b=g["$include?"]("highlight"))===a||b._isBoolean&&1!=b?m=c.$sub_callouts(m):a:"post_replacements"["$==="](h)?m=c.$sub_post_replacements(m):c.$warn("asciidoctor: WARNING: unknown substitution type "+
e)},f._s=this,f),q).call(h);!1!==T&&T!==a&&(m=this.$restore_passthroughs(m));return!1!==l&&l!==a?m.$split(k.EOL):m};l.$apply_normal_subs=function(d){var g,c;return this.$apply_subs((g=d["$is_a?"](null==(c=b.Object._scope.Array)?b.cm("Array"):c))===a||g._isBoolean&&1!=g?d:d["$*"](k.EOL))};l.$apply_title_subs=function(a){return this.$apply_subs(a,k.SUBS["$[]"]("title"))};l.$apply_header_subs=function(a){return this.$apply_subs(a,k.SUBS["$[]"]("header"))};l.$extract_passthroughs=function(d){var g,c,
q,y,n,h,f,e,m=a,l=a,T=a,U=a;null==this.document&&(this.document=a);m=this.document.$compat_mode();(g=!1!==(c=!1!==(q=d["$include?"]("++"))&&q!==a?q:d["$include?"]("$$"))&&c!==a?c:d["$include?"]("ss:"))===a||g._isBoolean&&1!=g||(d=(g=(c=d).$gsub,g._p=(y=function(){var e=y._s||this,c,f,g=a,h=a,q=a,n=q=a,d=a,l=a,p=a,g=a;null==e.passthroughs&&(e.passthroughs=a);null==w["~"]&&(w["~"]=a);g=w["~"];h=a;if((c=(q=g["$[]"](4))["$nil_or_empty?"]())===a||c._isBoolean&&1!=c){if((c=(f=!1!==m&&m!==a)?q["$=="]("++"):
f)!==a&&(!c._isBoolean||1==c))return(c=g["$[]"](2)["$nil_or_empty?"]())===a||c._isBoolean&&1!=c?""+g["$[]"](1)+"["+g["$[]"](2)+"]"+g["$[]"](3)+"++"+e.$extract_passthroughs(g["$[]"](5))+"++":""+g["$[]"](1)+g["$[]"](3)+"++"+e.$extract_passthroughs(g["$[]"](5))+"++";n=g["$[]"](2);(c=null==(f=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):f)===a||c._isBoolean&&1!=c||n["$=="]("")&&(n=a);d=g["$[]"](3).$size();l=g["$[]"](5);p=!1;if(!1!==n&&n!==a){if(d["$>"](0))return""+g["$[]"](1)+"["+n+"]"+
"\\"["$*"](d["$-"](1))+q+g["$[]"](5)+q+")";g["$[]"](1)["$=="]("\\")?(h="["+n+"]",n=a):((c=(f=q["$=="]("++"))?n["$end_with?"]("x-"):f)===a||c._isBoolean&&1!=c||(p=!0,n=n["$[]"](x(0,-2,!0))),n=e.$parse_attributes(n))}else if(d["$>"](0))return""+g["$[]"](1)+"["+n+"]"+"\\"["$*"](d["$-"](1))+q+g["$[]"](5)+q;g=q["$=="]("+++")?[]:["specialcharacters"];q=e.passthroughs.$size();if(!1!==n&&n!==a)if(!1!==p&&p!==a)e.passthroughs["$[]="](q,v(["text","subs","type","attributes"],{text:l,subs:k.SUBS["$[]"]("normal"),
type:"monospaced",attributes:n}));else e.passthroughs["$[]="](q,v(["text","subs","type","attributes"],{text:l,subs:g,type:"unquoted",attributes:n}));else e.passthroughs["$[]="](q,v(["text","subs"],{text:l,subs:g}))}else{if(g["$[]"](6)["$=="]("\\"))return g["$[]"](0)["$[]"](x(1,-1,!1));e.passthroughs["$[]="](q=e.passthroughs.$size(),v(["text","subs"],{text:e.$unescape_brackets(g["$[]"](8)),subs:(c=g["$[]"](7)["$nil_or_empty?"]())===a||c._isBoolean&&1!=c?e.$resolve_pass_subs(g["$[]"](7)):[]}))}return""+
h+k.PASS_START+q+k.PASS_END},y._s=this,y),g).call(c,k.PassInlineMacroRx));g=b.to_ary(k.PassInlineRx["$[]"](m));l=null==g[0]?a:g[0];T=null==g[1]?a:g[1];U=null==g[2]?a:g[2];(g=!1!==(q=d["$include?"](l))&&q!==a?q:(n=!1!==T&&T!==a)?d["$include?"](T):n)===a||g._isBoolean&&1!=g||(d=(g=(q=d).$gsub,g._p=(h=function(){var e=h._s||this,c,f,g=a,q=a,n=a,d=a,y=a,l=a,p=a,y=g=a;null==e.passthroughs&&(e.passthroughs=a);null==w["~"]&&(w["~"]=a);g=w["~"];q=g["$[]"](1);n=g["$[]"](2);d=(c=g["$[]"](3)["$start_with?"]("\\"))===
a||c._isBoolean&&1!=c?a:"\\";y=g["$[]"](4);l=g["$[]"](5);(c=null==(f=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):f)===a||c._isBoolean&&1!=c||n["$=="]("")&&(n=a);!1!==m&&m!==a?p=!0:(c=p=(f=!1!==n&&n!==a)?n["$end_with?"]("x-"):f)===a||c._isBoolean&&1!=c||(n=n["$[]"](x(0,-2,!0)));if(!1!==n&&n!==a){if((c=(f=y["$=="]("`"))?p["$!"]():f)!==a&&(!c._isBoolean||1==c))return""+q+"["+n+"]"+d+"`"+e.$extract_passthroughs(l)+"`";if(!1!==d&&d!==a)return""+q+"["+n+"]"+g["$[]"](3)["$[]"](x(1,-1,!1));
q["$=="]("\\")?(q="["+n+"]",n=a):n=e.$parse_attributes(n)}else{if((c=(f=y["$=="]("`"))?p["$!"]():f)!==a&&(!c._isBoolean||1==c))return""+q+d+"`"+e.$extract_passthroughs(l)+"`";if(!1!==d&&d!==a)return""+q+g["$[]"](3)["$[]"](x(1,-1,!1))}g=e.passthroughs.$size();if(!1!==m&&m!==a)e.passthroughs["$[]="](g,v(["text","subs","attributes","type"],{text:l,subs:["specialcharacters"],attributes:n,type:"monospaced"}));else if(!1!==n&&n!==a)if(!1!==p&&p!==a)y=y["$=="]("`")?["specialcharacters"]:k.SUBS["$[]"]("normal"),
e.passthroughs["$[]="](g,v(["text","subs","attributes","type"],{text:l,subs:y,attributes:n,type:"monospaced"}));else e.passthroughs["$[]="](g,v(["text","subs","attributes","type"],{text:l,subs:["specialcharacters"],attributes:n,type:"unquoted"}));else e.passthroughs["$[]="](g,v(["text","subs"],{text:l,subs:["specialcharacters"]}));return""+q+k.PASS_START+g+k.PASS_END},h._s=this,h),g).call(q,U));(g=(n=d["$include?"](":"),!1!==n&&n!==a?!1!==(f=d["$include?"]("stem:"))&&f!==a?f:d["$include?"]("math:"):
n))===a||g._isBoolean&&1!=g||(d=(g=(n=d).$gsub,g._p=(e=function(){var c=e._s||this,b,f=a,g=a,h=a,m=a,q=f=a;null==c.document&&(c.document=a);null==c.passthroughs&&(c.passthroughs=a);null==w["~"]&&(w["~"]=a);f=w["~"];if((b=f["$[]"](0)["$start_with?"]("\\"))!==a&&(!b._isBoolean||1==b))return f["$[]"](0)["$[]"](x(1,-1,!1));(g=f["$[]"](1).$to_sym())["$=="]("stem")&&(g=((b=(h=c.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===a||b._isBoolean&&1!=b?h:"asciimath").$to_sym());m=c.$unescape_brackets(f["$[]"](3));
f=(b=f["$[]"](2)["$nil_or_empty?"]())===a||b._isBoolean&&1!=b?c.$resolve_pass_subs(f["$[]"](2)):(b=c.document["$basebackend?"]("html"))===a||b._isBoolean&&1!=b?[]:["specialcharacters"];c.passthroughs["$[]="](q=c.passthroughs.$size(),v(["text","subs","type"],{text:m,subs:f,type:g}));return""+k.PASS_START+q+k.PASS_END},e._s=this,e),g).call(n,k.StemInlineMacroRx));return d};l.$restore_passthroughs=function(b,g){var c,q,d,n;null==this.passthroughs&&(this.passthroughs=a);null==g&&(g=!0);try{return(c=(q=
!1!==g&&g!==a)?!1!==(d=this.passthroughs["$empty?"]())&&d!==a?d:b["$include?"](k.PASS_START)["$!"]():q)===a||c._isBoolean&&1!=c?(c=(q=b).$gsub,c._p=(n=function(){var c=n._s||this,b,e=a,g=a,q=a,d=a;null==c.passthroughs&&(c.passthroughs=a);null==w["~"]&&(w["~"]=a);e=c.passthroughs["$[]"](w["~"]["$[]"](1).$to_i());g=(b=q=e["$[]"]("subs"))===a||b._isBoolean&&1!=b?e["$[]"]("text"):c.$apply_subs(e["$[]"]("text"),q);(b=d=e["$[]"]("type"))===a||b._isBoolean&&1!=b||(g=k.Inline.$new(c,"quoted",g,v(["type",
"attributes"],{type:d,attributes:e["$[]"]("attributes")})).$convert());return(b=g["$include?"](k.PASS_START))===a||b._isBoolean&&1!=b?g:c.$restore_passthroughs(g,!1)},n._s=this,n),c).call(q,k.PASS_MATCH):b}finally{!1!==g&&g!==a&&this.passthroughs.$clear()}};l.$sub_specialcharacters=function(b){var g,c;return(g=k.SUPPORTS_GSUB_RESULT_HASH)===a||g._isBoolean&&1!=g?(g=b.$gsub,g._p=(c=function(){null==w["&"]&&(w["&"]=a);return k.SPECIAL_CHARS["$[]"](w["&"])},c._s=this,c),g).call(b,k.SPECIAL_CHARS_PATTERN):
b.$gsub(k.SPECIAL_CHARS_PATTERN,k.SPECIAL_CHARS)};b.defn(t,"$sub_specialchars",l.$sub_specialcharacters);l.$sub_quotes=function(d){var g,c,q,y,n,h=a;null==this.document&&(this.document=a);(g=null==(c=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):c)===a||g._isBoolean&&1!=g?(h=""+d,(g=(y=k.QUOTE_SUBS["$[]"](this.document.$compat_mode())).$each,g._p=(n=function(c,e,b){var g=n._s||this,q,d,y;null==c&&(c=a);null==e&&(e=a);null==b&&(b=a);return(q=(d=h)["$gsub!"],q._p=(y=function(){var b=y._s||
this;null==w["~"]&&(w["~"]=a);return b.$convert_quoted_text(w["~"],c,e)},y._s=g,y),q).call(d,b)},n._s=this,n),g).call(y)):(h=d,(g=(c=k.QUOTE_SUBS["$[]"](this.document.$compat_mode())).$each,g._p=(q=function(c,e,b){var g=q._s||this,n,d,y;null==c&&(c=a);null==e&&(e=a);null==b&&(b=a);return h=(n=(d=h).$gsub,n._p=(y=function(){var b=y._s||this;null==w["~"]&&(w["~"]=a);return b.$convert_quoted_text(w["~"],c,e)},y._s=g,y),n).call(d,b)},q._s=this,q),g).call(c));return h};l.$sub_replacements=function(d){var g,
c,q,y,n,h=a;(g=null==(c=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):c)===a||g._isBoolean&&1!=g?(h=""+d,(g=(y=k.REPLACEMENTS).$each,g._p=(n=function(c,e,b){var g=n._s||this,q,d,y;null==c&&(c=a);null==e&&(e=a);null==b&&(b=a);return(q=(d=h)["$gsub!"],q._p=(y=function(){var c=y._s||this;null==w["~"]&&(w["~"]=a);return c.$do_replacement(w["~"],e,b)},y._s=g,y),q).call(d,c)},n._s=this,n),g).call(y)):(h=d,(g=(c=k.REPLACEMENTS).$each,g._p=(q=function(c,e,b){var g=q._s||this,n,d,y;null==c&&(c=
a);null==e&&(e=a);null==b&&(b=a);return h=(n=(d=h).$gsub,n._p=(y=function(){var c=y._s||this;null==w["~"]&&(w["~"]=a);return c.$do_replacement(w["~"],e,b)},y._s=g,y),n).call(d,c)},q._s=this,q),g).call(c));return h};l.$do_replacement=function(b,g,c){var q,d=a,d=a;(q=(d=b["$[]"](0))["$include?"]("\\"))===a||q._isBoolean&&1!=q?(d=c,b="none"["$==="](d)?g:"leading"["$==="](d)?""+b["$[]"](1)+g:"bounding"["$==="](d)?""+b["$[]"](1)+g+b["$[]"](2):a):b=d.$tr("\\","");return b};l.$sub_attributes=function(l,
g){var c,q,y,n=a,h=a,f=a,e=a;null==this.document&&(this.document=a);null==g&&(g=v([],{}));if((c=l["$nil_or_empty?"]())!==a&&(!c._isBoolean||1==c))return l;(c=n=k.String["$==="](l))===a||c._isBoolean&&1!=c||(l=[l]);h=this.document.$attributes();f=a;e=[];(c=(q=l).$each,c._p=(y=function(c){var q=y._s||this,n,l,p,t,r,G=a,v=a;null==c&&(c=a);v=G=!1;(n=c["$include?"]("{"))===a||n._isBoolean&&1!=n||(c=(n=(l=c).$gsub,n._p=(p=function(){var e=p._s||this,c,m,q=a,n=a,y=a,l=a,H=a,U=a,t=a,T=a,r=a;null==e.document&&
(e.document=a);null==w["~"]&&(w["~"]=a);q=w["~"];if((c=!1!==(m=q["$[]"](1)["$=="]("\\"))&&m!==a?m:q["$[]"](4)["$=="]("\\"))===a||c._isBoolean&&1!=c){if((c=q["$[]"](3)["$nil_or_empty?"]()["$!"]())===a||c._isBoolean&&1!=c)return(c=h["$key?"](r=q["$[]"](2).$downcase()))===a||c._isBoolean&&1!=c?(c=k.INTRINSIC_ATTRIBUTES["$key?"](r))===a||c._isBoolean&&1!=c?function(){H=!1!==(c=f)&&c!==a?c:f=!1!==(m=g["$[]"]("attribute_missing"))&&m!==a?m:h.$fetch("attribute-missing",k.Compliance.$attribute_missing());
if("skip"["$==="](H))return q["$[]"](0);if("drop-line"["$==="](H))return e.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+r),G=!0,d.$v="",d;if("warn"["$==="](H))return e.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+r),q["$[]"](0);v=!0;return""}():k.INTRINSIC_ATTRIBUTES["$[]"](r):h["$[]"](r);n=(y=q["$[]"](3)).$length()["$+"](1);l=q["$[]"](2)["$[]"](x(n,-1,!1));return function(){H=y;if("set"["$==="](H)){U=l.$split(":");c=b.to_ary(k.Parser.$store_attribute(U["$[]"](0),
!1!==(m=U["$[]"](1))&&m!==a?m:"",e.document));t=null==c[1]?a:c[1];if((!1===t||t===a)&&h.$fetch("attribute-undefined",k.Compliance.$attribute_undefined())["$=="]("drop-line"))return G=!0,d.$v="",d;v=!0;return""}if("counter"["$==="](H)||"counter2"["$==="](H))return U=l.$split(":"),T=e.document.$counter(U["$[]"](0),U["$[]"](1)),y["$=="]("counter2")?(v=!0,""):T;e.$warn("asciidoctor: WARNING: illegal attribute directive: "+q["$[]"](3));return q["$[]"](0)}()}return"{"+q["$[]"](2)+"}"},p._s=q,p),n).call(l,
k.AttributeReferenceRx));return(n=!1!==(t=G)&&t!==a?t:(r=!1!==v&&v!==a)?c["$empty?"]():r)===a||n._isBoolean&&1!=n?e["$<<"](c):a},y._s=this,y),c).call(q);return!1!==n&&n!==a?e["$*"](k.EOL):e};l.$sub_macros=function(d){var g,c,q,y,n,h,f,e,m,l,t,U,X,aa,V,G,u,E,Y,B,z,A=a,F=a,D=a,J=a,I=a,O=a;null==this.document&&(this.document=a);if((g=d["$nil_or_empty?"]())!==a&&(!g._isBoolean||1==g))return d;A=v([],{});A["$[]="]("square_bracket",d["$include?"]("["));A["$[]="]("round_bracket",d["$include?"]("("));A["$[]="]("colon",
F=d["$include?"](":"));A["$[]="]("macroish",(g=A["$[]"]("square_bracket"),!1!==g&&g!==a?F:g));A["$[]="]("macroish_short_form",(g=(c=A["$[]"]("square_bracket"),!1!==c&&c!==a?F:c),!1!==g&&g!==a?d["$include?"](":["):g));D=this.document.$attributes()["$has_key?"]("linkattrs");J=this.document.$attributes()["$has_key?"]("experimental");I=""+d;!1!==J&&J!==a&&((g=(c=A["$[]"]("macroish_short_form"),!1!==c&&c!==a?!1!==(q=I["$include?"]("kbd:"))&&q!==a?q:I["$include?"]("btn:"):c))===a||g._isBoolean&&1!=g||(I=
(g=(c=I).$gsub,g._p=(y=function(){var e=y._s||this,c,b,f,g=a,h=a,g=g=a;null==w["~"]&&(w["~"]=a);g=w["~"];if((c=(h=g["$[]"](0))["$start_with?"]("\\"))!==a&&(!c._isBoolean||1==c))return h["$[]"](x(1,-1,!1));if((c=h["$start_with?"]("kbd"))===a||c._isBoolean&&1!=c){if((c=h["$start_with?"]("btn"))===a||c._isBoolean&&1!=c)return a;g=e.$unescape_bracketed_text(g["$[]"](1));return k.Inline.$new(e,"button",g).$convert()}g=e.$unescape_bracketed_text(g["$[]"](1));g=g["$=="]("+")?["+"]:(c=(b=g.$split(k.KbdDelimiterRx)).$inject,
c._p=(f=function(e,c){var b;null==e&&(e=a);null==c&&(c=a);if((b=c["$end_with?"]("++"))===a||b._isBoolean&&1!=b)e["$<<"](c.$strip());else e["$<<"](c["$[]"](x(0,-3,!1)).$strip()),e["$<<"]("+");return e},f._s=e,f),c).call(b,[]);return k.Inline.$new(e,"kbd",a,v(["attributes"],{attributes:v(["keys"],{keys:g})})).$convert()},y._s=this,y),g).call(c,k.KbdBtnInlineMacroRx)),(g=(q=A["$[]"]("macroish"),!1!==q&&q!==a?I["$include?"]("menu:"):q))===a||g._isBoolean&&1!=g||(I=(g=(q=I).$gsub,g._p=(n=function(){var e=
n._s||this,c,b,f,g=a,h=a,m=g=h=a,m=g=a;null==w["~"]&&(w["~"]=a);g=w["~"];if((c=(h=g["$[]"](0))["$start_with?"]("\\"))!==a&&(!c._isBoolean||1==c))return h["$[]"](x(1,-1,!1));h=g["$[]"](1);g=g["$[]"](2);(c=g["$!"]())===a||c._isBoolean&&1!=c?(c=m=(b=g["$include?"]("&gt;"))===a||b._isBoolean&&1!=b?(b=g["$include?"](","))===a||b._isBoolean&&1!=b?a:",":"&gt;")===a||c._isBoolean&&1!=c?(m=[],g=g.$rstrip()):(m=(c=(b=g.$split(m)).$map,c._p=(f=function(e){null==e&&(e=a);return e.$strip()},f._s=e,f),c).call(b),
g=m.$pop()):(m=[],g=a);return k.Inline.$new(e,"menu",a,v(["attributes"],{attributes:v(["menu","submenus","menuitem"],{menu:h,submenus:m,menuitem:g})})).$convert()},n._s=this,n),g).call(q,k.MenuInlineMacroRx)),(g=(h=I["$include?"]('"'),!1!==h&&h!==a?I["$include?"]("&gt;"):h))===a||g._isBoolean&&1!=g||(I=(g=(h=I).$gsub,g._p=(f=function(){var e=f._s||this,c,g,h,m,q=a,n=a,d=n=q=q=a;null==w["~"]&&(w["~"]=a);q=w["~"];if((c=(n=q["$[]"](0))["$start_with?"]("\\"))!==a&&(!c._isBoolean||1==c))return n["$[]"](x(1,
-1,!1));q=q["$[]"](1);c=b.to_ary((g=(h=q.$split("&gt;")).$map,g._p=(m=function(e){null==e&&(e=a);return e.$strip()},m._s=e,m),g).call(h));q=null==c[0]?a:c[0];n=r.call(c,1);d=n.$pop();return k.Inline.$new(e,"menu",a,v(["attributes"],{attributes:v(["menu","submenus","menuitem"],{menu:q,submenus:n,menuitem:d})})).$convert()},f._s=this,f),g).call(h,k.MenuInlineRx)));(g=(e=O=this.document.$extensions(),!1!==e&&e!==a?O["$inline_macros?"]():e))===a||g._isBoolean&&1!=g||(g=(e=O.$inline_macros()).$each,g._p=
(m=function(e){var c=m._s||this,b,f,g;null==e&&(e=a);return I=(b=(f=I).$gsub,b._p=(g=function(){var c=g._s||this,b,f=a,h=a,f=a;null==w["~"]&&(w["~"]=a);f=w["~"];if((b=f["$[]"](0)["$start_with?"]("\\"))!==a&&(!b._isBoolean||1==b))return f["$[]"](0)["$[]"](x(1,-1,!1));h=f["$[]"](1);f=e.$config()["$[]"]("format")["$=="]("short")?v([],{}):e.$config()["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(f["$[]"](2),!1!==(b=e.$config()["$[]"]("pos_attrs"))&&b!==a?b:[],v(["sub_input","unescape_input"],
{sub_input:!0,unescape_input:!0})):v(["text"],{text:c.$unescape_bracketed_text(f["$[]"](2))});return e.$process_method()["$[]"](c,h,f)},g._s=c,g),b).call(f,e.$config()["$[]"]("regexp"))},m._s=this,m),g).call(e);(g=(l=A["$[]"]("macroish"),!1!==l&&l!==a?!1!==(t=I["$include?"]("image:"))&&t!==a?t:I["$include?"]("icon:"):l))===a||g._isBoolean&&1!=g||(I=(g=(l=I).$gsub,g._p=(U=function(){var e=U._s||this,c,b,f,g=a,h=b=a,m=a,m=g=a;null==e.document&&(e.document=a);null==w["~"]&&(w["~"]=a);g=w["~"];if((c=
g["$[]"](0)["$start_with?"]("\\"))!==a&&(!c._isBoolean||1==c))return g["$[]"](0)["$[]"](x(1,-1,!1));b=e.$unescape_bracketed_text(g["$[]"](2));(c=g["$[]"](0)["$start_with?"]("icon:"))===a||c._isBoolean&&1!=c?(h="image",m=["alt","width","height"]):(h="icon",m=["size"]);g=e.$sub_attributes(g["$[]"](1));h["$=="]("icon")||e.document.$register("images",g);m=e.$parse_attributes(b,m);c="alt";b=m;!1!==(f=b["$[]"](c))&&f!==a?f:b["$[]="](c,k.File.$basename(g,k.File.$extname(g)));return k.Inline.$new(e,"image",
a,v(["type","target","attributes"],{type:h,target:g,attributes:m})).$convert()},U._s=this,U),g).call(l,k.ImageInlineMacroRx));(g=!1!==(t=A["$[]"]("macroish_short_form"))&&t!==a?t:A["$[]"]("round_bracket"))===a||g._isBoolean&&1!=g||(I=(g=(t=I).$gsub,g._p=(X=function(){var e=X._s||this,c,f,g=a,h=a,m=a,q=a,g=g=a;null==e.document&&(e.document=a);null==w["~"]&&(w["~"]=a);g=w["~"];if((c=g["$[]"](0)["$start_with?"]("\\"))!==a&&(!c._isBoolean||1==c))return g["$[]"](0)["$[]"](x(1,-1,!1));if((c=null==(f=b.Object._scope.RUBY_ENGINE_OPAL)?
b.cm("RUBY_ENGINE_OPAL"):f)!==a&&(!c._isBoolean||1==c)&&g["$[]"](1)["$=="](""))g["$[]="](1,a);h=0;m=a;if((c=q=g["$[]"](1))===a||c._isBoolean&&1!=c)m=g["$[]"](3),(c=(f=m["$start_with?"]("("),!1!==f&&f!==a?m["$end_with?"](")"):f))===a||c._isBoolean&&1!=c?h=2:(m=m["$[]"](x(1,-1,!0)),h=3);if((c=!1!==(f=q["$=="]("indexterm"))&&f!==a?f:h["$=="](3))===a||c._isBoolean&&1!=c)return g=(c=q["$!"]())===a||c._isBoolean&&1!=c?e.$normalize_string(g["$[]"](2),!0):e.$normalize_string(m),e.document.$register("indexterms",
[g]),k.Inline.$new(e,"indexterm",g,v(["type"],{type:"visible"})).$convert();g=(c=q["$!"]())===a||c._isBoolean&&1!=c?e.$split_simple_csv(e.$normalize_string(g["$[]"](2),!0)):e.$split_simple_csv(e.$normalize_string(m));e.document.$register("indexterms",[].concat(g));return k.Inline.$new(e,"indexterm",a,v(["attributes"],{attributes:v(["terms"],{terms:g})})).$convert()},X._s=this,X),g).call(t,k.IndextermInlineMacroRx));(g=(aa=!1!==F&&F!==a)?I["$include?"]("://"):aa)===a||g._isBoolean&&1!=g||(I=(g=(aa=
I).$gsub,g._p=(V=function(){var e=V._s||this,c,f,g,h,m=a,q=a,n=a,d=a,y=a,l=y=a,m=a;null==e.document&&(e.document=a);null==w["~"]&&(w["~"]=a);m=w["~"];if((c=m["$[]"](2)["$start_with?"]("\\"))!==a&&(!c._isBoolean||1==c))return""+m["$[]"](1)+m["$[]"](2)["$[]"](x(1,-1,!1))+m["$[]"](3);if((c=null==(f=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):f)!==a&&(!c._isBoolean||1==c)&&m["$[]"](3)["$=="](""))m["$[]="](3,a);if((c=(f=m["$[]"](1)["$=="]("link:"))?m["$[]"](3)["$!"]():f)!==a&&(!c._isBoolean||
1==c))return m["$[]"](0);q=(c=m["$[]"](1)["$=="]("link:")["$!"]())===a||c._isBoolean&&1!=c?"":m["$[]"](1);n=m["$[]"](2);d="";if((c=!1!==(f=m["$[]"](3))&&f!==a?f:(g=n["$=~"](k.UriTerminator),g===a||!1===g))===a||c._isBoolean&&1!=c)y=w["~"]["$[]"](0),")"["$==="](y)?(n=n["$[]"](x(0,-2,!1)),d=")"):";"["$==="](y)?(c=(f=q["$start_with?"]("&lt;"),!1!==f&&f!==a?n["$end_with?"]("&gt;"):f))===a||c._isBoolean&&1!=c?(c=n["$end_with?"](");"))===a||c._isBoolean&&1!=c?(n=n["$[]"](x(0,-2,!1)),d=";"):(n=n["$[]"](x(0,
-3,!1)),d=");"):(q=q["$[]"](x(4,-1,!1)),n=n["$[]"](x(0,-5,!1))):":"["$==="](y)&&((c=n["$end_with?"]("):"))===a||c._isBoolean&&1!=c?(n=n["$[]"](x(0,-2,!1)),d=":"):(n=n["$[]"](x(0,-3,!1)),d="):"));e.document.$register("links",n);y=v(["type","target"],{type:"link",target:n});l=a;if((c=m["$[]"](3)["$nil_or_empty?"]())===a||c._isBoolean&&1!=c){if((c=(f=!1!==D&&D!==a)?!1!==(g=m["$[]"](3)["$start_with?"]('"'))&&g!==a?g:(h=m["$[]"](3)["$include?"](","),!1!==h&&h!==a?m["$[]"](3)["$include?"]("="):h):f)===
a||c._isBoolean&&1!=c)m=e.$sub_attributes(m["$[]"](3).$gsub("\\]","]"));else{l=e.$parse_attributes(e.$sub_attributes(m["$[]"](3).$gsub("\\]","]")),[]);if((c=l["$has_key?"]("id"))!==a&&(!c._isBoolean||1==c))y["$[]="]("id",l.$delete("id"));m=!1!==(c=l["$[]"](1))&&c!==a?c:""}(c=m["$end_with?"]("^"))===a||c._isBoolean&&1!=c||(m=m.$chop(),!1!==l&&l!==a?(c="window",f=l,!1!==(g=f["$[]"](c))&&g!==a?g:f["$[]="](c,"_blank")):l=v(["window"],{window:"_blank"}))}else m="";if((c=m["$empty?"]())!==a&&(!c._isBoolean||
1==c))if(m=(c=e.document["$attr?"]("hide-uri-scheme"))===a||c._isBoolean&&1!=c?n:n.$sub(k.UriSniffRx,""),!1!==l&&l!==a)l["$[]="]("role",("bare "+l["$[]"]("role")).$chomp(" "));else l=v(["role"],{role:"bare"});if(!1!==l&&l!==a)y["$[]="]("attributes",l);return""+q+k.Inline.$new(e,"anchor",m,y).$convert()+d},V._s=this,V),g).call(aa,k.LinkInlineRx));(g=!1!==(G=(u=A["$[]"]("macroish"),!1!==u&&u!==a?I["$include?"]("link:"):u))&&G!==a?G:I["$include?"]("mailto:"))===a||g._isBoolean&&1!=g||(I=(g=(G=I).$gsub,
g._p=(E=function(){var c=E._s||this,e,b,f,g=a,h=a,m=a,q=a,n=a,d=a,g=a;null==c.document&&(c.document=a);null==w["~"]&&(w["~"]=a);g=w["~"];if((e=g["$[]"](0)["$start_with?"]("\\"))!==a&&(!e._isBoolean||1==e))return g["$[]"](0)["$[]"](x(1,-1,!1));h=g["$[]"](1);m=g["$[]"](0)["$start_with?"]("mailto:");q=!1!==m&&m!==a?"mailto:"+h:h;n=v(["type","target"],{type:"link",target:q});d=a;if((e=(b=!1!==D&&D!==a)?!1!==(f=g["$[]"](2)["$start_with?"]('"'))&&f!==a?f:g["$[]"](2)["$include?"](","):b)===a||e._isBoolean&&
1!=e)g=c.$sub_attributes(g["$[]"](2).$gsub("\\]","]"));else{d=c.$parse_attributes(c.$sub_attributes(g["$[]"](2).$gsub("\\]","]")),[]);if((e=d["$key?"]("id"))!==a&&(!e._isBoolean||1==e))n["$[]="]("id",d.$delete("id"));!1===m||m===a||(e=d["$key?"](2))===a||e._isBoolean&&1!=e||(q=n["$[]="]("target",""+q+"?subject="+k.Helpers.$encode_uri(d["$[]"](2))),(e=d["$key?"](3))===a||e._isBoolean&&1!=e||(q=n["$[]="]("target",""+q+"&amp;body="+k.Helpers.$encode_uri(d["$[]"](3)))));g=d["$[]"](1)}c.document.$register("links",
q);(e=g["$end_with?"]("^"))===a||e._isBoolean&&1!=e||(g=g.$chop(),!1!==d&&d!==a?(e="window",b=d,!1!==(f=b["$[]"](e))&&f!==a?f:b["$[]="](e,"_blank")):d=v(["window"],{window:"_blank"}));if((e=g["$empty?"]())!==a&&(!e._isBoolean||1==e))if(!1!==m&&m!==a)g=h;else if(g=(e=c.document["$attr?"]("hide-uri-scheme"))===a||e._isBoolean&&1!=e?h:h.$sub(k.UriSniffRx,""),!1!==d&&d!==a)d["$[]="]("role",("bare "+d["$[]"]("role")).$chomp(" "));else d=v(["role"],{role:"bare"});if(!1!==d&&d!==a)n["$[]="]("attributes",
d);return k.Inline.$new(c,"anchor",g,n).$convert()},E._s=this,E),g).call(G,k.LinkInlineMacroRx));(g=I["$include?"]("@"))===a||g._isBoolean&&1!=g||(I=(g=(u=I).$gsub,g._p=(Y=function(){var c=Y._s||this,e,b=a,f=a,b=b=a;null==c.document&&(c.document=a);null==w["~"]&&(w["~"]=a);b=w["~"];f=b["$[]"](0);if((e=b=b["$[]"](1))!==a&&(!e._isBoolean||1==e))return"\\"["$==="](b)?f["$[]"](x(1,-1,!1)):f;b="mailto:"+f;c.document.$register("links",b);return k.Inline.$new(c,"anchor",f,v(["type","target"],{type:"link",
target:b})).$convert()},Y._s=this,Y),g).call(u,k.EmailInlineMacroRx));(g=(B=A["$[]"]("macroish_short_form"),!1!==B&&B!==a?I["$include?"]("footnote"):B))===a||g._isBoolean&&1!=g||(I=(g=(B=I).$gsub,g._p=(z=function(){var c=z._s||this,e,f,g,h,m=a,q=a,n=a,d=m=a,y=a,n=a;null==c.document&&(c.document=a);null==w["~"]&&(w["~"]=a);m=w["~"];if((e=m["$[]"](0)["$start_with?"]("\\"))!==a&&(!e._isBoolean||1==e))return m["$[]"](0)["$[]"](x(1,-1,!1));m["$[]"](1)["$=="]("footnote")?(q=a,n=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(m["$[]"](2),
!0))),!1),m=c.document.$counter("footnote-number"),c.document.$register("footnotes",k.Document._scope.Footnote.$new(m,q,n)),y=d=a):(e=b.to_ary(m["$[]"](2).$split(",",2)),q=null==e[0]?a:e[0],n=null==e[1]?a:e[1],q=q.$strip(),(e=n["$nil_or_empty?"]())===a||e._isBoolean&&1!=e?(n=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(n,!0))),!1),m=c.document.$counter("footnote-number"),c.document.$register("footnotes",k.Document._scope.Footnote.$new(m,q,n)),d="ref",y=a):
((e=n=(f=(g=c.document.$references()["$[]"]("footnotes")).$find,f._p=(h=function(c){null==c&&(c=a);return c.$id()["$=="](q)},h._s=c,h),f).call(g))===a||e._isBoolean&&1!=e?(m=a,n=q):(m=n.$index(),n=n.$text()),y=q,q=a,d="xref"));return k.Inline.$new(c,"footnote",n,v(["attributes","id","target","type"],{attributes:v(["index"],{index:m}),id:q,target:y,type:d})).$convert()},z._s=this,z),g).call(B,k.FootnoteInlineMacroRx));return this.$sub_inline_xrefs(this.$sub_inline_anchors(I,A),A)};l.$sub_inline_anchors=
function(d,g){var c,q,y,n,h,f,e;null==g&&(g=a);(c=(q=!1!==(y=g["$!"]())&&y!==a?y:g["$[]"]("square_bracket"),!1!==q&&q!==a?d["$include?"]("[[["):q))===a||c._isBoolean&&1!=c||(d=(c=(q=d).$gsub,c._p=(n=function(){var c=n._s||this,e,b=a,f=b=a;null==w["~"]&&(w["~"]=a);b=w["~"];if((e=b["$[]"](0)["$start_with?"]("\\"))!==a&&(!e._isBoolean||1==e))return b["$[]"](0)["$[]"](x(1,-1,!1));b=f=b["$[]"](1);return k.Inline.$new(c,"anchor",f,v(["type","target"],{type:"bibref",target:b})).$convert()},n._s=this,n),
c).call(q,k.InlineBiblioAnchorRx));(c=!1!==(y=(h=!1!==(f=g["$!"]())&&f!==a?f:g["$[]"]("square_bracket"),!1!==h&&h!==a?d["$include?"]("[["):h))&&y!==a?y:(h=!1!==(f=g["$!"]())&&f!==a?f:g["$[]"]("macroish"),!1!==h&&h!==a?d["$include?"]("anchor:"):h))===a||c._isBoolean&&1!=c||(d=(c=(y=d).$gsub,c._p=(e=function(){var c=e._s||this,f,g,h=a,q=a,h=a;null==w["~"]&&(w["~"]=a);h=w["~"];if((f=h["$[]"](0)["$start_with?"]("\\"))!==a&&(!f._isBoolean||1==f))return h["$[]"](0)["$[]"](x(1,-1,!1));if((f=null==(g=b.Object._scope.RUBY_ENGINE_OPAL)?
b.cm("RUBY_ENGINE_OPAL"):g)!==a&&(!f._isBoolean||1==f)){if(h["$[]"](1)["$=="](""))h["$[]="](1,a);if(h["$[]"](2)["$=="](""))h["$[]="](2,a);if(h["$[]"](4)["$=="](""))h["$[]="](4,a)}q=!1!==(f=h["$[]"](1))&&f!==a?f:h["$[]"](3);h=!1!==(f=!1!==(g=h["$[]"](2))&&g!==a?g:h["$[]"](4))&&f!==a?f:"["+q+"]";return k.Inline.$new(c,"anchor",h,v(["type","target"],{type:"ref",target:q})).$convert()},e._s=this,e),c).call(y,k.InlineAnchorRx));return d};l.$sub_inline_xrefs=function(d,g){var c,q,y,n;null==g&&(g=a);(c=
!1!==(q=!1!==(y=g["$!"]())&&y!==a?y:g["$[]"]("macroish"))&&q!==a?q:d["$include?"]("&lt;&lt;"))===a||c._isBoolean&&1!=c||(d=(c=(q=d).$gsub,c._p=(n=function(){var c=n._s||this,f,e,g,q,d,y,l=a,p=a,t=a,r=p=l=a,u=a,r=a;null==c.document&&(c.document=a);null==w["~"]&&(w["~"]=a);l=w["~"];if((f=l["$[]"](0)["$start_with?"]("\\"))!==a&&(!f._isBoolean||1==f))return l["$[]"](0)["$[]"](x(1,-1,!1));if((f=null==(e=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):e)!==a&&(!f._isBoolean||1==f)&&l["$[]"](1)["$=="](""))l["$[]="](1,
a);if((f=l["$[]"](1))===a||f._isBoolean&&1!=f){if(p=l["$[]"](2),(f=l["$[]"](3)["$nil_or_empty?"]())===a||f._isBoolean&&1!=f)t=l["$[]"](3)}else f=b.to_ary((e=(g=l["$[]"](1).$split(",",2)).$map,e._p=(q=function(c){null==c&&(c=a);return c.$strip()},q._s=c,q),e).call(g)),p=null==f[0]?a:f[0],t=null==f[1]?a:f[1],p=p.$sub(k.DoubleQuotedRx,"\\2"),t=(f=t["$nil_or_empty?"]())===a||f._isBoolean&&1!=f?t.$sub(k.DoubleQuotedMultiRx,"\\2"):a;(f=p["$include?"]("#"))===a||f._isBoolean&&1!=f?l=a:(f=b.to_ary(p.$split("#")),
l=null==f[0]?a:f[0],p=null==f[1]?a:f[1]);!1!==l&&l!==a?(l=k.Helpers.$rootname(l),(f=!1!==(e=c.document.$attributes()["$[]"]("docname")["$=="](l))&&e!==a?e:c.document.$references()["$[]"]("includes")["$include?"](l))===a||f._isBoolean&&1!=f?(r=!1!==p&&p!==a?""+l+"#"+p:l,l=""+c.document.$attributes()["$[]"]("relfileprefix")+l+c.document.$attributes().$fetch("outfilesuffix",".html"),u=!1!==p&&p!==a?""+l+"#"+p:l):(r=p,l=a,u="#"+p)):((f=(e=(d=c.document.$references()["$[]"]("ids")["$has_key?"](p)["$!"](),
!1!==d&&d!==a?!1!==(y=p["$include?"](" "))&&y!==a?y:p.$downcase()["$=="](p)["$!"]():d),!1!==e&&e!==a?r=(d=k.RUBY_MIN_VERSION_1_9)===a||d._isBoolean&&1!=d?c.document.$references()["$[]"]("ids").$index(p):c.document.$references()["$[]"]("ids").$key(p):e))===a||f._isBoolean&&1!=f||(p=r),r=p,u="#"+p);return k.Inline.$new(c,"anchor",t,v(["type","target","attributes"],{type:"xref",target:u,attributes:v(["path","fragment","refid"],{path:l,fragment:p,refid:r})})).$convert()},n._s=this,n),c).call(q,k.XrefInlineMacroRx));
return d};l.$sub_callouts=function(d){var g,c,q=a,q=(g=this["$attr?"]("line-comment"))===a||g._isBoolean&&1!=g?k.CalloutSourceRx:new RegExp("(?:"+(null==(g=b.Object._scope.Regexp)?b.cm("Regexp"):g).$escape(this.$attr("line-comment"))+" )?"+k.CalloutSourceRxt);return(g=d.$gsub,g._p=(c=function(){var b=c._s||this,g=a;null==b.document&&(b.document=a);null==w["~"]&&(w["~"]=a);g=w["~"];return g["$[]"](1)["$=="]("\\")?g["$[]"](0).$sub("\\",""):k.Inline.$new(b,"callout",g["$[]"](3),v(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},
c._s=this,c),g).call(d,q)};l.$sub_post_replacements=function(b){var g,c,q,d,n=a,h=a;null==this.document&&(this.document=a);null==this.attributes&&(this.attributes=a);if((g=!1!==(c=this.document.$attributes()["$has_key?"]("hardbreaks"))&&c!==a?c:this.attributes["$has_key?"]("hardbreaks-option"))===a||g._isBoolean&&1!=g)return(g=b["$include?"]("+"))===a||g._isBoolean&&1!=g?b:(g=b.$gsub,g._p=(d=function(){var c=d._s||this;null==w["~"]&&(w["~"]=a);return k.Inline.$new(c,"break",w["~"]["$[]"](1),v(["type"],
{type:"line"})).$convert()},d._s=this,d),g).call(b,k.LineBreakRx);n=b.$split(k.EOL);if(n.$size()["$=="](1))return b;h=n.$pop();return(g=(c=n).$map,g._p=(q=function(c){var e=q._s||this;null==c&&(c=a);return k.Inline.$new(e,"break",c.$rstrip().$chomp(k.LINE_BREAK),v(["type"],{type:"line"})).$convert()},q._s=this,q),g).call(c).$push(h)["$*"](k.EOL)};l.$convert_quoted_text=function(b,g,c){var q,d,n=a,h=a,f=n=a,n=a;if((q=b["$[]"](0)["$start_with?"]("\\"))!==a&&(!q._isBoolean||1==q)){if((q=(d=c["$=="]("constrained"))?
(h=b["$[]"](2))["$nil_or_empty?"]()["$!"]():d)===a||q._isBoolean&&1!=q)return b["$[]"](0)["$[]"](x(1,-1,!1));n="["+h+"]"}if(c["$=="]("constrained")){if(!1!==n&&n!==a)return""+n+k.Inline.$new(this,"quoted",b["$[]"](3),v(["type"],{type:g})).$convert();(q=n=this.$parse_quoted_text_attributes(b["$[]"](2)))===a||q._isBoolean&&1!=q?f=a:(f=n.$delete("id"),g["$=="]("mark")&&(g="unquoted"));return""+b["$[]"](1)+k.Inline.$new(this,"quoted",b["$[]"](3),v(["type","id","attributes"],{type:g,id:f,attributes:n})).$convert()}(q=
n=this.$parse_quoted_text_attributes(b["$[]"](1)))===a||q._isBoolean&&1!=q?f=a:(f=n.$delete("id"),g["$=="]("mark")&&(g="unquoted"));return k.Inline.$new(this,"quoted",b["$[]"](2),v(["type","id","attributes"],{type:g,id:f,attributes:n})).$convert()};l.$parse_quoted_text_attributes=function(d){var g,c,q,y=a,n=a,h=a,h=y=a;if(!1===d||d===a)return a;if((g=d["$empty?"]())!==a&&(!g._isBoolean||1==g))return v([],{});(g=d["$include?"]("{"))===a||g._isBoolean&&1!=g||(d=this.$sub_attributes(d));d=d.$strip();
(g=d["$include?"](","))===a||g._isBoolean&&1!=g||(g=b.to_ary(d.$split(",",2)),d=null==g[0]?a:g[0]);if((g=d["$empty?"]())===a||g._isBoolean&&1!=g){if((g=(c=!1!==(q=d["$start_with?"]("."))&&q!==a?q:d["$start_with?"]("#"),!1!==c&&c!==a?k.Compliance.$shorthand_property_syntax():c))===a||g._isBoolean&&1!=g)return v(["role"],{role:d});y=d.$split("#",2);y.$length()["$>"](1)?(g=b.to_ary(y["$[]"](1).$split(".")),n=null==g[0]?a:g[0],h=r.call(g,1)):(n=a,h=[]);y=(g=y["$[]"](0)["$empty?"]())===a||g._isBoolean&&
1!=g?y["$[]"](0).$split("."):[];y.$length()["$>"](1)&&y.$shift();h.$length()["$>"](0)&&y.$concat(h);h=v([],{});if(!1!==n&&n!==a)h["$[]="]("id",n);if((g=y["$empty?"]())===a||g._isBoolean&&1!=g)h["$[]="]("role",y["$*"](" "));return h}return v([],{})};l.$parse_attributes=function(b,g,c){var q,d=a,n=a;null==this.document&&(this.document=a);null==g&&(g=["role"]);null==c&&(c=v([],{}));if(!1===b||b===a)return a;if((q=b["$empty?"]())!==a&&(!q._isBoolean||1==q))return v([],{});(q=c["$[]"]("sub_input"))===
a||q._isBoolean&&1!=q||(b=this.document.$sub_attributes(b));(q=c["$[]"]("unescape_input"))===a||q._isBoolean&&1!=q||(b=this.$unescape_bracketed_text(b));d=a;(q=c.$fetch("sub_result",!0))===a||q._isBoolean&&1!=q||(d=this);return(q=n=c["$[]"]("into"))===a||q._isBoolean&&1!=q?k.AttributeList.$new(b,d).$parse(g):k.AttributeList.$new(b,d).$parse_into(n,g)};l.$unescape_bracketed_text=function(b){var g;return(g=b["$empty?"]())===a||g._isBoolean&&1!=g?b.$strip().$tr(k.EOL," ").$gsub("\\]","]"):""};l.$normalize_string=
function(b,g){var c;null==g&&(g=!1);return(c=b["$empty?"]())===a||c._isBoolean&&1!=c?!1!==g&&g!==a?this.$unescape_brackets(b.$strip().$tr(k.EOL," ")):b.$strip().$tr(k.EOL," "):""};l.$unescape_brackets=function(b){var g;return(g=b["$empty?"]())===a||g._isBoolean&&1!=g?b.$gsub("\\]","]"):""};l.$split_simple_csv=function(b){var g,c,q,d,n=a,h=a,f=a;(g=b["$empty?"]())===a||g._isBoolean&&1!=g?(g=b["$include?"]('"'))===a||g._isBoolean&&1!=g?n=(g=(q=b.$split(",")).$map,g._p=(d=function(c){null==c&&(c=a);
return c.$strip()},d._s=this,d),g).call(q):(n=[],h=[],f=!1,(g=b.$each_char,g._p=(c=function(c){var b=a;null==c&&(c=a);return function(){b=c;if(","["$==="](b)){if(!1!==f&&f!==a)return h.$push(c);n["$<<"](h.$join().$strip());return h=[]}return'"'["$==="](b)?f=f["$!"]():h.$push(c)}()},c._s=this,c),g).call(b),n["$<<"](h.$join().$strip())):n=[];return n};l.$resolve_subs=function(b,g,c,q){var d,n,h,f=a,e=a,m=a,l=a;null==g&&(g="block");null==c&&(c=a);null==q&&(q=a);if((d=b["$nil_or_empty?"]())!==a&&(!d._isBoolean||
1==d))return[];f=a;e=k.SubModifierSniffRx["$=~"](b);(d=(n=b.$split(",")).$each,d._p=(h=function(b){var h,m,q,n=a,d=a,y=a,l=n=n=a,d=a;null==b&&(b=a);n=b.$strip();d=a;!1!==e&&e!==a&&((y=n.$chr())["$=="]("+")?(d="append",n=n["$[]"](x(1,-1,!1))):y["$=="]("-")?(d="remove",n=n["$[]"](x(1,-1,!1))):(h=n["$end_with?"]("+"))===a||h._isBoolean&&1!=h||(d="prepend",n=n.$chop()));n=n.$to_sym();(h=(m=g["$=="]("inline"))?!1!==(q=n["$=="]("verbatim"))&&q!==a?q:n["$=="]("v"):m)===a||h._isBoolean&&1!=h?(h=k.COMPOSITE_SUBS["$key?"](n))===
a||h._isBoolean&&1!=h?(h=(m=(q=g["$=="]("inline"))?n.$length()["$=="](1):q,!1!==m&&m!==a?k.SUB_SYMBOLS["$key?"](n):m))===a||h._isBoolean&&1!=h?n=[n]:(n=k.SUB_SYMBOLS["$[]"](n),n=(h=l=k.COMPOSITE_SUBS["$[]"](n))===a||h._isBoolean&&1!=h?[n]:l):n=k.COMPOSITE_SUBS["$[]"](n):n=["specialcharacters"];if(!1!==d&&d!==a)return!1!==(h=f)&&h!==a?h:f=!1!==c&&c!==a?c.$dup():[],"append"["$==="](d)?f=f["$+"](n):"prepend"["$==="](d)?f=n["$+"](f):"remove"["$==="](d)?f=f["$-"](n):a;!1!==(h=f)&&h!==a?h:f=[];return f=
f["$+"](n)},h._s=this,h),d).call(n);m=f["$&"](k.SUB_OPTIONS["$[]"](g));if((d=f["$-"](m)["$empty?"]())===a||d._isBoolean&&1!=d)l=f["$-"](m),this.$warn("asciidoctor: WARNING: invalid substitution type"+(l.$size()["$>"](1)?"s":"")+(!1!==q&&q!==a?" for ":a)+q+": "+l["$*"](", "));return m};l.$resolve_block_subs=function(a,b,c){return this.$resolve_subs(a,"block",b,c)};l.$resolve_pass_subs=function(b){return this.$resolve_subs(b,"inline",a,"passthrough macro")};l.$highlight_source=function(d,g,c){var q,
y,n,h,f,e=a,m=a,l=a,t=a,U=a,r=a,u=a,V=a,G=u=a,K=a;null==this.document&&(this.document=a);null==this.passthroughs&&(this.passthroughs=a);null==c&&(c=a);!1!==(q=c)&&q!==a?q:c=this.document.$attributes()["$[]"]("source-highlighter");k.Helpers.$require_library(c,c["$=="]("pygments")?"pygments.rb":c);e=0;m=!1;!1!==g&&g!==a?(l=v([],{}),t=-1,U=(q=this["$attr?"]("line-comment"))===a||q._isBoolean&&1!=q?k.CalloutExtractRx:new RegExp("(?:"+(null==(q=b.Object._scope.Regexp)?b.cm("Regexp"):q).$escape(this.$attr("line-comment"))+
" )?"+k.CalloutExtractRxt),d=(q=(y=d.$split(k.EOL)).$map,q._p=(n=function(c){var b=n._s||this,f,g,h;null==c&&(c=a);e=e["$+"](1);return(f=(g=c).$gsub,f._p=(h=function(){var c,b,f,g=a;null==w["~"]&&(w["~"]=a);g=w["~"];if(g["$[]"](1)["$=="]("\\"))return g["$[]"](0).$sub("\\","");(c=e,b=l,!1!==(f=b["$[]"](c))&&f!==a?f:b["$[]="](c,[]))["$<<"](g["$[]"](3));t=e;return a},h._s=b,h),f).call(g,U)},n._s=this,n),q).call(y)["$*"](k.EOL),m=t["$=="](e),(q=l["$empty?"]())===a||q._isBoolean&&1!=q||(l=a)):l=a;r=a;
u=c;"coderay"["$==="](u)?V=(null==(q=b.Object._scope.CodeRay)?b.cm("CodeRay"):q)._scope.Duo["$[]"](this.$attr("language","text",!1).$to_sym(),"html",v(["css","line_numbers","line_number_anchors"],{css:(!1!==(q=this.document.$attributes()["$[]"]("coderay-css"))&&q!==a?q:"class").$to_sym(),line_numbers:r=(q=this["$attr?"]("linenums"))===a||q._isBoolean&&1!=q?a:(!1!==(q=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&q!==a?q:"table").$to_sym(),line_number_anchors:!1})).$highlight(d):"pygments"["$==="](u)&&
(u=!1!==(q=(null==(h=b.Object._scope.Pygments)?b.cm("Pygments"):h)._scope.Lexer["$[]"](this.$attr("language",a,!1)))&&q!==a?q:(null==(h=b.Object._scope.Pygments)?b.cm("Pygments"):h)._scope.Lexer["$[]"]("text"),G=v(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),(!1!==(q=this.document.$attributes()["$[]"]("pygments-css"))&&q!==a?q:"class")["$=="]("class")||(G["$[]="]("noclasses",!0),G["$[]="]("style",!1!==(q=this.document.$attributes()["$[]"]("pygments-style"))&&
q!==a?q:k.Stylesheets._scope.DEFAULT_PYGMENTS_STYLE)),(q=this["$attr?"]("linenums"))===a||q._isBoolean&&1!=q?(G["$[]="]("nowrap",!0),V=u.$highlight(d,v(["options"],{options:G}))):G["$[]="]("linenos",!1!==(q=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&q!==a?q:"table")["$=="]("table")?(r="table",V=u.$highlight(d,v(["options"],{options:G})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):V=u.$highlight(d,v(["options"],{options:G})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,
"\\1"));if((q=this.passthroughs["$empty?"]())===a||q._isBoolean&&1!=q)V=V.$gsub(k.PASS_MATCH_HI,""+k.PASS_START+"\\1"+k.PASS_END);if((q=(h=!1!==g&&g!==a)?l:h)===a||q._isBoolean&&1!=q)return V;e=0;K=r["$=="]("table")["$!"]();return(q=(h=V.$split(k.EOL)).$map,q._p=(f=function(c){var b=f._s||this,g,h,n,q=a,d=a,y=a,q=a;null==b.document&&(b.document=a);null==c&&(c=a);if(!1===K||K===a){if((g=c["$include?"]('<td class="code">'))===a||g._isBoolean&&1!=g)return c;K=!0}e=e["$+"](1);if((g=q=l.$delete(e))===
a||g._isBoolean&&1!=g)return c;d=a;(g=(h=!1!==m&&m!==a)?l["$empty?"]():h)===a||g._isBoolean&&1!=g||((g=y=c.$index("</pre>"))===a||g._isBoolean&&1!=g?c=""+c.$chomp(" ")+" ":(d=c["$[]"](x(y,-1,!1)),c=""+c["$[]"](x(0,y,!0)).$chomp(" ")+" "));if(q.$size()["$=="](1))return""+c+k.Inline.$new(b,"callout",q["$[]"](0),v(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()+d;q=(g=(h=q).$map,g._p=(n=function(c){var e=n._s||this;null==e.document&&(e.document=a);null==c&&(c=a);return k.Inline.$new(e,
"callout",c,v(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},n._s=b,n),g).call(h)["$*"](" ");return""+c+q+d},f._s=this,f),q).call(h)["$*"](k.EOL)};l.$lock_in_subs=function(){var b,g,c,q,d,n,h=a,f=h=a;null==this.default_subs&&(this.default_subs=a);null==this.content_model&&(this.content_model=a);null==this.context&&(this.context=a);null==this.attributes&&(this.attributes=a);null==this.style&&(this.style=a);null==this.document&&(this.document=a);null==this.subs&&(this.subs=a);if((b=
this.default_subs)===a||b._isBoolean&&1!=b)if(h=this.content_model,"simple"["$==="](h))h=k.SUBS["$[]"]("normal");else if("verbatim"["$==="](h))h=(b=!1!==(g=this.context["$=="]("listing"))&&g!==a?g:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():c)===a||b._isBoolean&&1!=b?this.context["$=="]("verse")?k.SUBS["$[]"]("normal"):k.SUBS["$[]"]("basic"):k.SUBS["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?k.SUBS["$[]"]("basic"):k.SUBS["$[]"]("pass");
else return a;else h=this.default_subs;(b=f=this.attributes["$[]"]("subs"))===a||b._isBoolean&&1!=b?this.subs=h.$dup():this.subs=this.$resolve_block_subs(f,h,this.context);return(b=(g=(c=(q=(d=this.context["$=="]("listing"))?this.style["$=="]("source"):d,!1!==q&&q!==a?this.attributes["$[]"]("language"):q),!1!==c&&c!==a?this.document["$basebackend?"]("html"):c),!1!==g&&g!==a?k.SUB_HIGHLIGHT["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):g))===a||b._isBoolean&&1!=b?a:this.subs=
(b=(g=this.subs).$map,b._p=(n=function(c){null==c&&(c=a);return c["$=="]("specialcharacters")?"highlight":c},n._s=this,n),b).call(g)};b.donate(t,"$apply_subs $apply_normal_subs $apply_title_subs $apply_header_subs $extract_passthroughs $restore_passthroughs $sub_specialcharacters $sub_specialchars $sub_quotes $sub_replacements $do_replacement $sub_attributes $sub_macros $sub_inline_anchors $sub_inline_xrefs $sub_callouts $sub_post_replacements $convert_quoted_text $parse_quoted_text_attributes $parse_attributes $unescape_bracketed_text $normalize_string $unescape_brackets $split_simple_csv $resolve_subs $resolve_block_subs $resolve_pass_subs $highlight_source $lock_in_subs".split(" "))})(z(u,
"Asciidoctor"))}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2,v=b.range;return function(w){(function(d,$super){function t(){}var l=t=r(d,$super,"AbstractNode",t),k=l._proto,p=l._scope;k.document=k.attributes=k.path_resolver=k.style=a;l.$include(p.Substitutors);l.$attr_reader("parent");l.$attr_reader("document");l.$attr_reader("context");l.$attr_reader("node_name");l.$attr_accessor("id");l.$attr_reader("attributes");k.$initialize=function(b,c,q){var d;null==q&&(q=z([],{}));c["$=="]("document")?this.document=
b:!1!==b&&b!==a?(this.parent=b,this.document=b.$document()):this.document=this.parent=a;this.context=c;this.node_name=c.$to_s();this.attributes=(d=q["$key?"]("attributes"))===a||d._isBoolean&&1!=d?z([],{}):q["$[]"]("attributes").$dup();return this.passthroughs=z([],{})};k["$parent="]=function(b){this.parent=b;this.document=b.$document();return a};k["$inline?"]=function(){var a;return this.$raise(null==(a=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):a)};k["$block?"]=function(){var a;
return this.$raise(null==(a=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):a)};k.$attr=function(g,c,q){var d,n;null==c&&(c=a);null==q&&(q=!0);(d=g["$is_a?"](null==(n=b.Object._scope.Symbol)?b.cm("Symbol"):n))===a||d._isBoolean&&1!=d||(g=g.$to_s());this["$=="](this.document)&&(q=!1);return!1!==q&&q!==a?!1!==(d=!1!==(n=this.attributes["$[]"](g))&&n!==a?n:this.document.$attributes()["$[]"](g))&&d!==a?d:c:!1!==(d=this.attributes["$[]"](g))&&d!==a?d:c};k["$attr?"]=function(g,c,q){var d,
n;null==c&&(c=a);null==q&&(q=!0);(d=g["$is_a?"](null==(n=b.Object._scope.Symbol)?b.cm("Symbol"):n))===a||d._isBoolean&&1!=d||(g=g.$to_s());this["$=="](this.document)&&(q=!1);return(d=c["$nil?"]())===a||d._isBoolean&&1!=d?!1!==q&&q!==a?c["$=="](!1!==(d=this.attributes["$[]"](g))&&d!==a?d:this.document.$attributes()["$[]"](g)):c["$=="](this.attributes["$[]"](g)):!1!==(d=this.attributes["$has_key?"](g))&&d!==a?d:(n=!1!==q&&q!==a)?this.document.$attributes()["$has_key?"](g):n};k.$set_attr=function(b,
c,q){var d,n;null==q&&(q=a);if((d=q["$nil?"]())===a||d._isBoolean&&1!=d){if((d=!1!==(n=q)&&n!==a?n:this.attributes["$key?"](b)["$!"]())===a||d._isBoolean&&1!=d)return!1;this.attributes["$[]="](b,c);return!0}this.attributes["$[]="](b,c);return!0};k.$set_option=function(b){var c;if((c=this.attributes["$has_key?"]("options"))===a||c._isBoolean&&1!=c)this.attributes["$[]="]("options",b);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+b);return this.attributes["$[]="](""+
b+"-option","")};k["$option?"]=function(a){return this.attributes["$has_key?"](""+a+"-option")};k.$update_attributes=function(b){this.attributes.$update(b);return a};k.$converter=function(){return this.document.$converter()};k["$role?"]=function(b){var c;null==b&&(b=a);return!1!==b&&b!==a?b["$=="](!1!==(c=this.attributes["$[]"]("role"))&&c!==a?c:this.document.$attributes()["$[]"]("role")):!1!==(c=this.attributes["$has_key?"]("role"))&&c!==a?c:this.document.$attributes()["$has_key?"]("role")};k.$role=
function(){var b;return!1!==(b=this.attributes["$[]"]("role"))&&b!==a?b:this.document.$attributes()["$[]"]("role")};k["$has_role?"]=function(b){var c,q,d=a;return(c=d=!1!==(q=this.attributes["$[]"]("role"))&&q!==a?q:this.document.$attributes()["$[]"]("role"))===a||c._isBoolean&&1!=c?!1:d.$split(" ")["$include?"](b)};k.$roles=function(){var b,c,q=a;return(b=q=!1!==(c=this.attributes["$[]"]("role"))&&c!==a?c:this.document.$attributes()["$[]"]("role"))===a||b._isBoolean&&1!=b?[]:q.$split(" ")};k["$reftext?"]=
function(){var b;return!1!==(b=this.attributes["$has_key?"]("reftext"))&&b!==a?b:this.document.$attributes()["$has_key?"]("reftext")};k.$reftext=function(){var b;return!1!==(b=this.attributes["$[]"]("reftext"))&&b!==a?b:this.document.$attributes()["$[]"]("reftext")};k.$icon_uri=function(b){var c;return(c=this["$attr?"]("icon"))===a||c._isBoolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):this.$image_uri(this.$attr("icon"),a)};k.$media_uri=function(b,c){null==
c&&(c="imagesdir");return this.$normalize_web_path(b,!1!==c&&c!==a?this.document.$attr(c):a)};k.$image_uri=function(b,c){var q,d,n,h,f,e=a,m=a;null==c&&(c="imagesdir");return(q=(d=(e=this.document).$safe()["$<"](p.SafeMode._scope.SECURE))?e["$attr?"]("data-uri"):d)===a||q._isBoolean&&1!=q?this.$normalize_web_path(b,!1!==c&&c!==a?e.$attr(c):a):(q=!1!==(d=this["$is_uri?"](b))&&d!==a?d:(n=(h=(f=!1!==c&&c!==a)?m=e.$attr(c):f,!1!==h&&h!==a?this["$is_uri?"](m):h),!1!==n&&n!==a?b=this.$normalize_web_path(b,
m,!1):n))===a||q._isBoolean&&1!=q?this.$generate_data_uri(b,c):(q=e["$attr?"]("allow-uri-read"))===a||q._isBoolean&&1!=q?b:this.$generate_data_uri_from_uri(b,e["$attr?"]("cache-uri"))};k.$generate_data_uri=function(g,c){var q,d,n,h,f=a,e=f=a,m=a;null==c&&(c=a);f=(null==(q=b.Object._scope.File)?b.cm("File"):q).$extname(g)["$[]"](v(1,-1,!1));f=f["$=="]("svg")?"image/svg+xml":"image/"+f;e=!1!==c&&c!==a?this.$normalize_system_path(g,this.document.$attr(c),a,z(["target_name"],{target_name:"image"})):this.$normalize_system_path(g);
if((q=(null==(d=b.Object._scope.File)?b.cm("File"):d)["$readable?"](e))===a||q._isBoolean&&1!=q)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+e),"data:"+f+":base64,";m=a;m=(q=(null==(d=b.Object._scope.IO)?b.cm("IO"):d)["$respond_to?"]("binread"))===a||q._isBoolean&&1!=q?(q=(d=null==(h=b.Object._scope.File)?b.cm("File"):h).$open,q._p=(n=function(c){null==c&&(c=a);return c.$read()},n._s=this,n),q).call(d,e,"rb"):(null==(q=b.Object._scope.IO)?b.cm("IO"):q).$binread(e);
return"data:"+f+";base64,"+(null==(q=b.Object._scope.Base64)?b.cm("Base64"):q).$encode64(m).$delete(p.EOL)};k.$generate_data_uri_from_uri=function(g,c){var q,d,n,h=a,f=a;null==c&&(c=!1);p.Helpers.$require_library("base64");!1!==c&&c!==a?p.Helpers.$require_library("open-uri/cached","open-uri-cached"):(q=(null==(d=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):d)["$!"]())===a||q._isBoolean&&1!=q||(null==(q=b.Object._scope.OpenURI)?b.cm("OpenURI"):q);try{return h=a,f=(q=(d=this).$open,q._p=
(n=function(c){null==c&&(c=a);h=c.$content_type();return c.$read()},n._s=this,n),q).call(d,g,"rb"),"data:"+h+";base64,"+p.Base64.$encode64(f).$delete(p.EOL)}catch(e){return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+g),g}};k.$read_asset=function(g,c){var q,d;null==c&&(c=z([],{}));if((q=(null==(d=b.Object._scope.Hash)?b.cm("Hash"):d)["$==="](c))===a||q._isBoolean&&1!=q)c=z(["warn_on_failure"],{warn_on_failure:c["$=="](!1)["$!"]()});return(q=(null==(d=b.Object._scope.File)?
b.cm("File"):d)["$readable?"](g))===a||q._isBoolean&&1!=q?((q=c["$[]"]("warn_on_failure"))===a||q._isBoolean&&1!=q||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+g),a):(q=c["$[]"]("normalize"))===a||q._isBoolean&&1!=q?(null==(q=b.Object._scope.IO)?b.cm("IO"):q).$read(g):p.Helpers.$normalize_lines_from_string((null==(q=b.Object._scope.IO)?b.cm("IO"):q).$read(g))["$*"](p.EOL)};k.$normalize_web_path=function(b,c,q){var d,n;null==c&&(c=a);null==q&&(q=!0);return(d=(n=!1!==
q&&q!==a)?this["$is_uri?"](b):n)===a||d._isBoolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==a?d:this.path_resolver=p.PathResolver.$new()).$web_path(b,c):b};k.$normalize_system_path=function(g,c,q,d){var n,h=a,f=a;null==c&&(c=a);null==q&&(q=a);null==d&&(d=z([],{}));h=!1!==(n=this.path_resolver)&&n!==a?n:this.path_resolver=p.PathResolver.$new();if((f=this.document).$safe()["$<"](p.SafeMode._scope.SAFE))if(!1!==c&&c!==a){if((n=h["$is_root?"](c))===a||n._isBoolean&&1!=n)c=(null==(n=b.Object._scope.File)?
b.cm("File"):n).$join(f.$base_dir(),c)}else c=f.$base_dir();else{if(!1===c||c===a)c=f.$base_dir();if(!1===q||q===a)q=f.$base_dir()}return h.$system_path(g,c,q,d)};k.$normalize_asset_path=function(b,c,q){null==c&&(c="path");null==q&&(q=!0);return this.$normalize_system_path(b,this.document.$base_dir(),a,z(["target_name","recover"],{target_name:c,recover:q}))};k.$relative_path=function(b){var c;return(!1!==(c=this.path_resolver)&&c!==a?c:this.path_resolver=p.PathResolver.$new()).$relative_path(b,this.document.$base_dir())};
k["$is_uri?"]=function(b){var c;return c=b["$include?"](":"),!1!==c&&c!==a?p.UriSniffRx["$=~"](b):c};return(k.$list_marker_keyword=function(b){var c;null==b&&(b=a);return p.ORDERED_LIST_KEYWORDS["$[]"](!1!==(c=b)&&c!==a?c:this.style)},a)&&"list_marker_keyword"})(d(w,"Asciidoctor"),null)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.breaker,r=b.slice,z=b.module,v=b.klass,w=b.hash2;return function(x){x=z(x,"Asciidoctor");(function(u,$super){function l(){}var k=l=v(u,$super,"AbstractBlock",l),p=k._proto,g=k._scope,c,q;p.document=p.attributes=p.blocks=p.source_location=p.subs=p.title=p.subbed_title=p.caption=p.context=p.style=p.id=p.header=p.next_section_index=p.next_section_number=a;k.$attr_accessor("content_model");k.$attr_reader("subs");k.$attr_reader("blocks");k.$attr_accessor("level");k.$attr_writer("title");
k.$attr_accessor("style");k.$attr_accessor("caption");k.$attr_accessor("source_location");p.$initialize=c=function(g,q,h){var f=r.call(arguments,0),e,m,d=c._p;null==h&&(h=w([],{}));c._p=null;b.find_super_dispatcher(this,"initialize",c,d).apply(this,f);this.content_model="compound";this.subs=[];this.default_subs=a;this.blocks=[];this.style=this.caption=this.title=this.id=a;this.level=q["$=="]("document")?0:(e=(m=!1!==g&&g!==a)?q["$=="]("section")["$!"]():m)===a||e._isBoolean&&1!=e?a:g.$level();this.next_section_index=
0;this.next_section_number=1;return this.source_location=a};p["$block?"]=function(){return!0};p["$inline?"]=function(){return!1};p["$context="]=function(a){this.context=a;return this.node_name=a.$to_s()};p.$convert=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)};b.defn(k,"$render",p.$convert);p.$content=function(){var c,b,h;return(c=(b=this.blocks).$map,c._p=(h=function(c){null==c&&(c=a);return c.$convert()},h._s=this,h),c).call(b)["$*"](g.EOL)};
p.$file=function(){var c;return(c=this.source_location)===a||c._isBoolean&&1!=c?a:this.source_location.$file()};p.$lineno=function(){var c;return(c=this.source_location)===a||c._isBoolean&&1!=c?a:this.source_location.$lineno()};p["$sub?"]=function(a){return this.subs["$include?"](a)};p["$title?"]=function(){return this.title["$nil_or_empty?"]()["$!"]()};p.$title=function(){var c,b;return(c=(b=this.subbed_title,null!=b&&b!==a)?"instance-variable":a)===a||c._isBoolean&&1!=c?(c=this.title)===a||c._isBoolean&&
1!=c?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title};p.$captioned_title=function(){return""+this.caption+this.$title()};p["$blocks?"]=function(){return this.blocks["$empty?"]()["$!"]()};p["$<<"]=function(a){return this.blocks["$<<"](a)};b.defn(k,"$append",p["$<<"]);p.$sections=function(){var c,b,g;return(c=(b=this.blocks).$select,c._p=(g=function(c){null==c&&(c=a);return c.$context()["$=="]("section")},g._s=this,g),c).call(b)};p.$find_by=q=function(c){var g,h,f,
e,m,l,k,p=this,r=q._p||a,u=a,V=a,G=a,v=a,E=a,x=a;null==c&&(c=w([],{}));q._p=null;u=[];if((g=(h=(f=(e=!1!==(m=V=(G=c["$[]"]("context"))["$!"]())&&m!==a?m:G["$=="](p.context),!1!==e&&e!==a?!1!==(m=(v=c["$[]"]("style"))["$!"]())&&m!==a?m:v["$=="](p.style):e),!1!==f&&f!==a?!1!==(e=(E=c["$[]"]("role"))["$!"]())&&e!==a?e:p["$has_role?"](E):f),!1!==h&&h!==a?!1!==(f=(x=c["$[]"]("id"))["$!"]())&&f!==a?f:x["$=="](p.id):h))!==a&&(!g._isBoolean||1==g)){if(!1!==x&&x!==a)return g=(h=r!==a)?(f=b.$yield1(r,p))===
d?d.$v:f:h,[p];u["$<<"](function(){g=(h=r!==a)?(f=b.$yield1(r,p))===d?d.$v:f:h;return p}())}(g=(h=(f=p.context["$=="]("document"))?!1!==(e=V)&&e!==a?e:G["$=="]("section"):f,!1!==h&&h!==a?p["$header?"]():h))===a||g._isBoolean&&1!=g||u.$concat(!1!==(g=(h=(f=p.header).$find_by,h._p=r.$to_proc(),h).call(f,c))&&g!==a?g:[]);G["$=="]("document")||(p.context["$=="]("dlist")?(g=!1!==(h=V)&&h!==a?h:G["$=="]("section")["$!"]())===a||g._isBoolean&&1!=g||(g=(h=p.blocks.$flatten()).$each,g._p=(l=function(b){var e,
f,g;null==b&&(b=a);return u.$concat(!1!==(e=(f=(g=b).$find_by,f._p=r.$to_proc(),f).call(g,c))&&e!==a?e:[])},l._s=p,l),g).call(h):g=(e=(m=p.blocks).$each,e._p=(k=function(b){var e,f,g;null==b&&(b=a);return(e=(f=G["$=="]("section"))?b.$context()["$=="]("section")["$!"]():f)===a||e._isBoolean&&1!=e?u.$concat(!1!==(e=(f=(g=b).$find_by,f._p=r.$to_proc(),f).call(g,c))&&e!==a?e:[]):a},k._s=p,k),e).call(m));return(g=u["$empty?"]())===a||g._isBoolean&&1!=g?u:a};b.defn(k,"$query",p.$find_by);p.$remove_sub=
function(c){this.subs.$delete(c);return a};p.$assign_caption=function(c,b){var g,f,e=a,m=e=e=a;null==c&&(c=a);null==b&&(b=a);if((g=!1!==(f=this["$title?"]())&&f!==a?f:this.caption["$!"]())===a||g._isBoolean&&1!=g)return a;!1!==c&&c!==a?this.caption=c:(g=e=this.document.$attributes()["$[]"]("caption"))===a||g._isBoolean&&1!=g?(g=this["$title?"]())===a||g._isBoolean&&1!=g||(!1!==(g=b)&&g!==a?g:b=this.context.$to_s(),e=""+b+"-caption",(g=e=this.document.$attributes()["$[]"](e))===a||g._isBoolean&&1!=
g||(m=this.document.$counter_increment(""+b+"-number",this),this.caption=""+e+" "+m+". ")):this.caption=e;return a};p.$assign_index=function(c){var b,g,f,e,m=a,q=a;c["$index="](this.next_section_index);this.next_section_index=this.next_section_index["$+"](1);if(c.$sectname()["$=="]("appendix")){m=this.document.$counter("appendix-number","A");if((b=c.$numbered())!==a&&(!b._isBoolean||1==b))c["$number="](m);return(b=(q=this.document.$attr("appendix-caption",""))["$=="]("")["$!"]())===a||b._isBoolean&&
1!=b?c["$caption="](""+m+". "):c["$caption="](""+q+" "+m+": ")}return(b=c.$numbered())===a||b._isBoolean&&1!=b?a:(b=(g=!1!==(f=c.$level()["$=="](1))&&f!==a?f:(e=c.$level()["$=="](0))?c.$special():e,!1!==g&&g!==a?this.document.$doctype()["$=="]("book"):g))===a||b._isBoolean&&1!=b?(c["$number="](this.next_section_number),this.next_section_number=this.next_section_number["$+"](1)):c["$number="](this.document.$counter("chapter-number",1))};return(p.$reindex_sections=function(){var c,b,g;this.next_section_number=
this.next_section_index=0;return(c=(b=this.blocks).$each,c._p=(g=function(c){var b=g._s||this;null==c&&(c=a);return c.$context()["$=="]("section")?(b.$assign_index(c),c.$reindex_sections()):a},g._s=this,g),c).call(b)},a)&&"reindex_sections"})(x,x._scope.AbstractNode)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2;return function(v){(function(d,$super){function u(){}var t=u=r(d,$super,"AttributeList",u),l=t._proto,k=t._scope,p;l.attributes=l.scanner=l.delimiter=l.block=l.delimiter_skip_pattern=l.delimiter_boundary_pattern=a;(null==(p=b.Object._scope.RUBY_ENGINE)?b.cm("RUBY_ENGINE"):p)["$=="]("opal")&&(b.cdecl(k,"CG_BLANK","[ \\t]"),b.cdecl(k,"CC_WORD","a-zA-Z0-9_"),b.cdecl(k,"CG_WORD","[a-zA-Z0-9_]"));b.cdecl(k,"BoundaryRxs",z(['"',"'",","],{'"':/.*?[^\\](?=")/,
"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+k.CG_BLANK+"*(,|$))")}));b.cdecl(k,"EscapedQuoteRxs",z(['"',"'"],{'"':/\\"/,"'":/\\'/}));b.cdecl(k,"NameRx",new RegExp(""+k.CG_WORD+"["+k.CC_WORD+"\\-.]*"));b.cdecl(k,"BlankRx",new RegExp(""+k.CG_BLANK+"+"));b.cdecl(k,"SkipRxs",z(["blank",","],{blank:k.BlankRx,",":new RegExp(""+k.CG_BLANK+"*(,|$)")}));l.$initialize=function(g,c,q){var d;null==c&&(c=a);null==q&&(q=",");this.scanner=(null==(d=b.Object._scope.StringScanner)?b.cm("StringScanner"):d).$new(g);
this.block=c;this.delimiter=q;this.delimiter_skip_pattern=k.SkipRxs["$[]"](q);this.delimiter_boundary_pattern=k.BoundaryRxs["$[]"](q);return this.attributes=a};l.$parse_into=function(a,c){null==c&&(c=[]);return a.$update(this.$parse(c))};l.$parse=function(b){var c,q,d=a;null==b&&(b=[]);if((c=this.attributes)!==a&&(!c._isBoolean||1==c))return this.attributes;this.attributes=z([],{});for(d=0;(q=this.$parse_attribute(d,b))!==a&&(!q._isBoolean||1==q)&&((q=this.scanner["$eos?"]())===a||q._isBoolean&&1!=
q);)this.$skip_delimiter(),d=d["$+"](1);return this.attributes};l.$rekey=function(a){return k.AttributeList.$rekey(this.attributes,a)};b.defs(t,"$rekey",function(b,c){var q,d;(q=c.$each_with_index,q._p=(d=function(c,h){var f,e=a,m=a;null==c&&(c=a);null==h&&(h=a);if(!1===c||c===a)return a;e=h["$+"](1);return(f=m=b["$[]"](e))===a||f._isBoolean&&1!=f?a:b["$[]="](c,m)},d._s=this,d),q).call(c);return b});l.$parse_attribute=function(b,c){var q,d,n,h,f,e=a,m=a,l=m=a,k=a,p=a,m=e=k=a;null==b&&(b=0);null==
c&&(c=[]);e=!1;this.$skip_blank();if((m=this.scanner.$peek(1))["$=="]('"'))m=this.$parse_attribute_value(this.scanner.$get_byte()),l=a;else if(m["$=="]("'"))m=this.$parse_attribute_value(this.scanner.$get_byte()),l=a,e=!0;else{m=this.$scan_name();k=0;p=a;if((q=this.scanner["$eos?"]())===a||q._isBoolean&&1!=q)k=!1!==(q=this.$skip_blank())&&q!==a?q:0,p=this.scanner.$get_byte();else if(!1===m||m===a)return!1;if((q=!1!==(d=p["$!"]())&&d!==a?d:p["$=="](this.delimiter))===a||q._isBoolean&&1!=q)if((q=!1!==
(d=p["$=="]("=")["$!"]())&&d!==a?d:m["$!"]())===a||q._isBoolean&&1!=q){if(this.$skip_blank(),(q=this.scanner.$peek(1))!==a&&(!q._isBoolean||1==q))if((p=this.scanner.$get_byte())["$=="]('"'))l=this.$parse_attribute_value(p);else if(p["$=="]("'"))l=this.$parse_attribute_value(p),e=!0;else if(p["$=="](this.delimiter))l=a;else if(l=""+p+this.$scan_to_delimiter(),l["$=="]("None"))return!0}else m=""+m+" "["$*"](k)+p+this.$scan_to_delimiter(),l=a;else l=a}if(!1!==l&&l!==a)if(k=m,"options"["$==="](k)||"opts"["$==="](k))m=
"options",(q=(d=l.$split(",")).$each,q._p=(n=function(c){var b=n._s||this;null==b.attributes&&(b.attributes=a);null==c&&(c=a);return b.attributes["$[]="](""+c.$strip()+"-option","")},n._s=this,n),q).call(d),this.attributes["$[]="](m,l);else if("title"["$==="](k))this.attributes["$[]="](m,l);else this.attributes["$[]="](m,(q=(h=(f=!1!==e&&e!==a)?l["$empty?"]()["$!"]():f,!1!==h&&h!==a?this.block:h))===a||q._isBoolean&&1!=q?l:this.block.$apply_normal_subs(l));else{e=(q=(h=(f=!1!==e&&e!==a)?m["$empty?"]()["$!"]():
f,!1!==h&&h!==a?this.block:h))===a||q._isBoolean&&1!=q?m:this.block.$apply_normal_subs(m);if((q=m=c["$[]"](b))!==a&&(!q._isBoolean||1==q))this.attributes["$[]="](m,e);this.attributes["$[]="](b["$+"](1),e)}return!0};l.$parse_attribute_value=function(b){var c,q=a;if(this.scanner.$peek(1)["$=="](b))return this.scanner.$get_byte(),"";if((c=q=this.$scan_to_quote(b))===a||c._isBoolean&&1!=c)return""+b+this.$scan_to_delimiter();this.scanner.$get_byte();return q.$gsub(k.EscapedQuoteRxs["$[]"](b),b)};l.$skip_blank=
function(){return this.scanner.$skip(k.BlankRx)};l.$skip_delimiter=function(){return this.scanner.$skip(this.delimiter_skip_pattern)};l.$scan_name=function(){return this.scanner.$scan(k.NameRx)};l.$scan_to_delimiter=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)};return(l.$scan_to_quote=function(a){return this.scanner.$scan(k.BoundaryRxs["$[]"](a))},a)&&"scan_to_quote"})(d(v,"Asciidoctor"),null)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.slice,r=b.module,z=b.klass,v=b.hash2;return function(w){w=r(w,"Asciidoctor");(function(r,$super){function t(){}var l=t=z(r,$super,"Block",t),k=l._proto,p=l._scope,g,c;k.attributes=k.content_model=k.lines=k.subs=k.blocks=k.context=k.style=a;b.cdecl(p,"DEFAULT_CONTENT_MODEL",v("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",
pass:"raw",thematic_break:"empty",video:"empty"}));p.DEFAULT_CONTENT_MODEL["$default="]("simple");b.defn(l,"$blockname",k.$context);l.$attr_accessor("lines");k.$initialize=g=function(c,l,n){var h=d.call(arguments,0),f,e,m=g._p,k=a,t=a;null==n&&(n=v([],{}));g._p=null;b.find_super_dispatcher(this,"initialize",g,m).apply(this,h);this.content_model=!1!==(f=n["$[]"]("content_model"))&&f!==a?f:p.DEFAULT_CONTENT_MODEL["$[]"](l);(f=n["$key?"]("subs"))===a||f._isBoolean&&1!=f?(this.subs=[],this.default_subs=
a):(f=k=n["$[]"]("subs"))===a||f._isBoolean&&1!=f?(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):(k["$=="]("default")?this.default_subs=n["$[]"]("default_subs"):(f=(null==(e=b.Object._scope.Array)?b.cm("Array"):e)["$==="](k))===a||f._isBoolean&&1!=f?(this.default_subs=a,this.attributes["$[]="]("subs",""+k)):(this.default_subs=k.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(f=(t=n["$[]"]("source"))["$nil_or_empty?"]())===a||f._isBoolean&&1!=f?(f=(null==(e=
b.Object._scope.String)?b.cm("String"):e)["$==="](t))===a||f._isBoolean&&1!=f?this.lines=t.$dup():this.lines=p.Helpers.$normalize_lines_from_string(t):this.lines=[]};k.$content=c=function(){var g=d.call(arguments,0),l,n,h=this,f=c._p,e=a,m=a,k=a,t=a;c._p=null;return function(){e=h.content_model;if("compound"["$==="](e))return b.find_super_dispatcher(h,"content",c,f).apply(h,g);if("simple"["$==="](e))return h.$apply_subs(h.lines["$*"](p.EOL),h.subs);if("verbatim"["$==="](e)||"raw"["$==="](e)){m=h.$apply_subs(h.lines,
h.subs);if(m.$size()["$<"](2))return m["$[]"](0);for(;(l=(n=k=m["$[]"](0),!1!==n&&n!==a?k.$rstrip()["$empty?"]():n))!==a&&(!l._isBoolean||1==l);)m.$shift();for(;(l=(n=t=m["$[]"](-1),!1!==n&&n!==a?t.$rstrip()["$empty?"]():n))!==a&&(!l._isBoolean||1==l);)m.$pop();return m["$*"](p.EOL)}h.content_model["$=="]("empty")||h.$warn("Unknown content model '"+h.content_model+"' for block: "+h.$to_s());return a}()};k.$source=function(){return this.lines["$*"](p.EOL)};return(k.$to_s=function(){var c=a,c=this.content_model["$=="]("compound")?
"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+c+"}>"},a)&&"to_s"})(w,w._scope.AbstractBlock)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2;return function(b){(function(b,$super){function d(){}var t=(d=r(b,$super,"Callouts",d))._proto;t.co_index=t.lists=t.list_index=a;t.$initialize=function(){this.lists=[];this.list_index=0;return this.$next_list()};t.$register=function(b){var d=a;this.$current_list()["$<<"](z(["ordinal","id"],{ordinal:b.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=this.co_index["$+"](1);return d};t.$read_next_id=function(){var b=a,d=a,b=a,d=this.$current_list();
this.co_index["$<="](d.$size())&&(b=d["$[]"](this.co_index["$-"](1))["$[]"]("id"));this.co_index=this.co_index["$+"](1);return b};t.$callout_ids=function(b){var d,p,g;return(d=(p=this.$current_list()).$map,d._p=(g=function(c){null==c&&(c=a);return c["$[]"]("ordinal")["$=="](b)?""+c["$[]"]("id")+" ":a},g._s=this,g),d).call(p).$join().$chop()};t.$current_list=function(){return this.lists["$[]"](this.list_index["$-"](1))};t.$next_list=function(){this.list_index=this.list_index["$+"](1);if(this.lists.$size()["$<"](this.list_index))this.lists["$<<"]([]);
this.co_index=1;return a};t.$rewind=function(){this.co_index=this.list_index=1;return a};t.$generate_next_callout_id=function(){return this.$generate_callout_id(this.list_index,this.co_index)};return(t.$generate_callout_id=function(a,b){return"CO"+a+"-"+b},a)&&"generate_callout_id"})(d(b,"Asciidoctor"),null)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2;return function(v){v=d(v,"Asciidoctor");var w=v._scope;d(v,"Converter");a;(function(a,$super){function b(){}var d=b=r(a,$super,"Base",b);return d.$include(d._scope.Converter)})(w.Converter,null);(function(d,$super){function t(){}var l=t=r(d,$super,"BuiltIn",t),k=l._proto;k.$initialize=function(b,g){null==g&&z([],{});return a};k.$convert=function(b,g,c){var q;null==g&&(g=a);null==c&&(c=z([],{}));!1!==(q=g)&&q!==a?q:g=b.$node_name();return(q=c["$empty?"]())===
a||q._isBoolean&&1!=q?this.$send(g,b,c):this.$send(g,b)};b.defn(l,"$handles?",k["$respond_to?"]);k.$content=function(a){return a.$content()};b.defn(l,"$pass",k.$content);return(k.$skip=function(b){return a},a)&&"skip"})(w.Converter,null)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2;return function(v){(function(v){(function(d,$super){function t(){}var l=t=r(d,$super,"Factory",t),k=l._proto,p=l._scope;k.converters=k.star_converter=a;l.__default__=a;(function(g){g._proto.$default=function(c){var g,d;null==this.__default__&&(this.__default__=a);null==c&&(c=!0);if(!1===c||c===a)c=!1!==(g=this.__default__)&&g!==a?g:this.$new();else{if(!1===(g=this.__default__)||g===a){try{d=null==b.Object._scope.ThreadSafe?a:"constant",this.$new((null==
(d=b.Object._scope.ThreadSafe)?b.cm("ThreadSafe"):d)._scope.Cache.$new())}catch(n){if(b.$rescue(n,[null==(d=b.Object._scope.LoadError)?b.cm("LoadError"):d]))this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem recommended when registering custom converters."),this.$new();else throw n;}g=this.__default__=void 0}c=g}return c};g._proto.$register=function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)};g._proto.$resolve=function(a){return this.$default().$resolve(a)};
g._proto.$create=function(a,b){null==b&&(b=z([],{}));return this.$default().$create(a,b)};g._proto.$converters=function(){return this.$default().$converters()};return(g._proto.$unregister_all=function(){return this.$default().$unregister_all()},a)&&"unregister_all"})(l.$singleton_class());l.$attr_reader("converters");k.$initialize=function(b){var c;null==b&&(b=a);this.converters=!1!==(c=b)&&c!==a?c:z([],{});return this.star_converter=a};k.$register=function(b,c){var q,d,n;null==c&&(c=["*"]);(q=(d=
c).$each,q._p=(n=function(c){var f=n._s||this;null==f.converters&&(f.converters=a);null==c&&(c=a);f.converters["$[]="](c,b);return c["$=="]("*")?f.star_converter=b:a},n._s=this,n),q).call(d);return a};k.$resolve=function(b){var c,q;return c=this.converters,!1!==c&&c!==a?!1!==(q=this.converters["$[]"](b))&&q!==a?q:this.star_converter:c};k.$unregister_all=function(){this.converters.$clear();return this.star_converter=a};return(k.$create=function(g,c){var q,d,n=a,h=n=a,f=a;null==c&&(c=z([],{}));if((q=
n=this.$resolve(g))!==a&&(!q._isBoolean||1==q))return(q=n["$is_a?"](null==(d=b.Object._scope.Class)?b.cm("Class"):d))===a||q._isBoolean&&1!=q?n:n.$new(g,c);n=function(){h=g;if("html5"["$==="](h)){var e;try{e=null!=(null==(d=b.Object._scope.Asciidoctor)?b.cm("Asciidoctor"):d)._scope.Converter._scope.Html5Converter?"constant":a}catch(f){if(f._klass===Opal.NameError)e=a;else throw f;}q=e;return p.Html5Converter.$new(g,c)}if("docbook5"["$==="](h)){var m;try{m=null!=(null==(d=b.Object._scope.Asciidoctor)?
b.cm("Asciidoctor"):d)._scope.Converter._scope.DocBook5Converter?"constant":a}catch(n){if(n._klass===Opal.NameError)m=a;else throw n;}q=m;return p.DocBook5Converter.$new(g,c)}if("docbook45"["$==="](h)){var l;try{l=null!=(null==(d=b.Object._scope.Asciidoctor)?b.cm("Asciidoctor"):d)._scope.Converter._scope.DocBook45Converter?"constant":a}catch(k){if(k._klass===Opal.NameError)l=a;else throw k;}q=l;return p.DocBook45Converter.$new(g,c)}return a}();if((q=c["$key?"]("template_dirs"))===a||q._isBoolean&&
1!=q)return n;var e;try{e=null!=(null==(d=b.Object._scope.Asciidoctor)?b.cm("Asciidoctor"):d)._scope.Converter._scope.TemplateConverter?"constant":a}catch(m){if(m._klass===Opal.NameError)e=a;else throw m;}q=e;var l;try{l=null!=(null==(d=b.Object._scope.Asciidoctor)?b.cm("Asciidoctor"):d)._scope.Converter._scope.CompositeConverter?"constant":a}catch(k){if(k._klass===Opal.NameError)l=a;else throw k;}q=l;f=p.TemplateConverter.$new(g,c["$[]"]("template_dirs"),c);return p.CompositeConverter.$new(g,f,n)},
a)&&"create"})(d(v,"Converter"),null)})(d(v,"Asciidoctor"))}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.slice,r=b.module,z=b.range,v=b.hash2;(function(w){w=r(w,"Asciidoctor");(function(w){w=r(w,"Converter");var u=w._proto,t=w._scope;(function(l){l=r(l,"Config");var k=l._scope;l._proto.$register_for=function(b){var g,c,q,l,n,h=a;b=d.call(arguments,0);k.Factory.$register(this,b);h=function(a){return a}(this.$singleton_class());b["$=="](["*"])?(g=(c=h).$send,g._p=(q=function(a){return!0},q._s=this,q),g).call(c,"define_method","converts?"):(g=(l=h).$send,g._p=(n=function(c){null==
c&&(c=a);return b["$include?"](c)},n._s=this,n),g).call(l,"define_method","converts?");return a};b.donate(l,["$register_for"])})(w);(function(d){d=r(d,"BackendInfo");var k=d._proto,p=d._scope;k.$backend_info=function(){var b;null==this.backend_info&&(this.backend_info=a);return!1!==(b=this.backend_info)&&b!==a?b:this.backend_info=this.$setup_backend_info()};k.$setup_backend_info=function(){var g,c=a,d=a,l=a,n=a;null==this.backend&&(this.backend=a);((g=this.backend)===a||g._isBoolean&&1!=g)&&this.$raise(null==
(g=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):g,"Cannot determine backend for converter: "+this.$class());c=this.backend.$sub(p.TrailingDigitsRx,"");(g=d=p.DEFAULT_EXTENSIONS["$[]"](c))===a||g._isBoolean&&1!=g?(c="html",d=".html",n=l="html"):l=d["$[]"](z(1,-1,!1));return v(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:c,outfilesuffix:d,filetype:l,htmlsyntax:n})};k.$filetype=function(b){null==b&&(b=a);return!1!==b&&b!==a?this.$backend_info()["$[]="]("filetype",b):this.$backend_info()["$[]"]("filetype")};
k.$basebackend=function(b){null==b&&(b=a);return!1!==b&&b!==a?this.$backend_info()["$[]="]("basebackend",b):this.$backend_info()["$[]"]("basebackend")};k.$outfilesuffix=function(b){null==b&&(b=a);return!1!==b&&b!==a?this.$backend_info()["$[]="]("outfilesuffix",b):this.$backend_info()["$[]"]("outfilesuffix")};k.$htmlsyntax=function(b){null==b&&(b=a);return!1!==b&&b!==a?this.$backend_info()["$[]="]("htmlsyntax",b):this.$backend_info()["$[]"]("htmlsyntax")};b.donate(d,"$backend_info $setup_backend_info $filetype $basebackend $outfilesuffix $htmlsyntax".split(" "))})(w);
(function(b){var d=b._scope;return(b._proto.$included=function(a){return a.$extend(d.Config)},a)&&"included"})(w.$singleton_class());w.$include(t.Config);w.$include(t.BackendInfo);u.$initialize=function(a,b){null==b&&v([],{});this.backend=a;return this.$setup_backend_info()};u.$convert=function(a,d,p){var g;null==p&&v([],{});return this.$raise(null==(g=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):g)};b.defn(w,"$convert_with_options",u.$convert);b.donate(w,["$initialize","$convert",
"$convert_with_options"])})(w);(function(d){d=r(d,"Writer");var u=d._scope;d._proto.$write=function(d,l){var k,p,g,c;(k=l["$respond_to?"]("write"))===a||k._isBoolean&&1!=k?(k=(p=null==(c=b.Object._scope.File)?b.cm("File"):c).$open,k._p=(g=function(c){null==c&&(c=a);return c.$write(d)},g._s=this,g),k).call(p,l,"w"):(l.$write(d.$chomp()),l.$write(u.EOL));return a};b.donate(d,["$write"])})(w);(function(d){d=r(d,"VoidWriter");var u=d._proto;d.$include(d._scope.Writer);u.$write=function(b,d){return a};
b.donate(d,["$write"])})(w)})(b.top);return!0})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2,v=b.range;return function(w){w=d(w,"Asciidoctor")._scope;(function(d,$super){function t(){}var l=t=r(d,$super,"Html5Converter",t),k=l._proto,p=l._scope;k.xml_mode=k.void_element_slash=k.stylesheets=a;b.cdecl(p,"QUOTE_TAGS",z("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>",
"</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));p.QUOTE_TAGS["$default="]([a,a,a]);k.$initialize=function(b,c){var d;null==c&&(c=z([],{}));this.xml_mode=c["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(d=this.xml_mode)===a||d._isBoolean&&1!=d?a:"/";return this.stylesheets=p.Stylesheets.$instance()};k.$document=function(b){var c,d,l,n,h,f=
a,e=a,m=a,k=a,t=a,r=a,X=a,w=t=t=r=r=r=r=k=k=k=X=a,t=a,f=[],e=this.void_element_slash,m="<br"+e+">",k=b.$attr("asset-uri-scheme","https");if((c=k["$empty?"]())===a||c._isBoolean&&1!=c)k=""+k+":";t=""+k+"//cdnjs.cloudflare.com/ajax/libs";r=!1!==(c=b.$safe()["$>="](p.SafeMode._scope.SECURE))&&c!==a?c:b["$attr?"]("linkcss");f["$<<"]("<!DOCTYPE html>");X=(c=b["$attr?"]("nolang"))===a||c._isBoolean&&1!=c?' lang="'+b.$attr("lang","en")+'"':a;f["$<<"]("<html"+((c=this.xml_mode)===a||c._isBoolean&&1!=c?a:
' xmlns="http://www.w3.org/1999/xhtml"')+X+">");f["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+e+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+e+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+e+'>\n<meta name="generator" content="Asciidoctor '+b.$attr("asciidoctor-version")+'"'+e+">");if((c=b["$attr?"]("app-name"))!==a&&(!c._isBoolean||1==c))f["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+
'"'+e+">");if((c=b["$attr?"]("description"))!==a&&(!c._isBoolean||1==c))f["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+e+">");if((c=b["$attr?"]("keywords"))!==a&&(!c._isBoolean||1==c))f["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+e+">");if((c=b["$attr?"]("authors"))!==a&&(!c._isBoolean||1==c))f["$<<"]('<meta name="author" content="'+b.$attr("authors")+'"'+e+">");if((c=b["$attr?"]("copyright"))!==a&&(!c._isBoolean||1==c))f["$<<"]('<meta name="copyright" content="'+
b.$attr("copyright")+'"'+e+">");f["$<<"]("<title>"+b.$doctitle(z(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((c=p.DEFAULT_STYLESHEET_KEYS["$include?"](b.$attr("stylesheet")))!==a&&(!c._isBoolean||1==c)){if((c=X=b.$attr("webfonts"))!==a&&(!c._isBoolean||1==c))f["$<<"]('<link rel="stylesheet" href="'+k+"//fonts.googleapis.com/css?family="+((c=X["$empty?"]())===a||c._isBoolean&&1!=c?X:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400")+
'"'+e+">");if(!1!==r&&r!==a)f["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(p.DEFAULT_STYLESHEET_NAME,b.$attr("stylesdir",""),!1)+'"'+e+">");else f["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((c=b["$attr?"]("stylesheet"))!==a&&(!c._isBoolean||1==c))if(!1!==r&&r!==a)f["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+e+">");else f["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),
b.$attr("stylesdir","")),z(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((c=b["$attr?"]("icons","font"))!==a&&(!c._isBoolean||1==c))if((c=b["$attr?"]("iconfont-remote"))===a||c._isBoolean&&1!=c)k=""+b.$attr("iconfont-name","font-awesome")+".css",f["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(k,b.$attr("stylesdir",""),!1)+'"'+e+">");else f["$<<"]('<link rel="stylesheet" href="'+b.$attr("iconfont-cdn",""+t+"/font-awesome/4.2.0/css/font-awesome.min.css")+'"'+e+">");k=b.$attr("source-highlighter");
if("coderay"["$==="](k)){if(b.$attr("coderay-css","class")["$=="]("class"))if(!1!==r&&r!==a)f["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),b.$attr("stylesdir",""),!1)+'"'+e+">");else f["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](k)){if(b.$attr("pygments-css","class")["$=="]("class"))if(k=b.$attr("pygments-style"),!1!==r&&r!==a)f["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(k),
b.$attr("stylesdir",""),!1)+'"'+e+">");else f["$<<"](this.stylesheets.$embed_pygments_stylesheet(k))}else"highlightjs"["$==="](k)||"highlight.js"["$==="](k)?(r=b.$attr("highlightjsdir",""+t+"/highlight.js/8.4"),f["$<<"]('<link rel="stylesheet" href="'+r+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+e+'>\n<script src="'+r+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlightingOnLoad()\x3c/script>')):"prettify"["$==="](k)&&(r=b.$attr("prettifydir",""+t+"/prettify/r298"),f["$<<"]('<link rel="stylesheet" href="'+
r+"/"+b.$attr("prettify-theme","prettify")+'.min.css"'+e+'>\n<script src="'+r+"/prettify.min.js\">\x3c/script>\n<script>document.addEventListener('DOMContentLoaded', prettyPrint)\x3c/script>"));(c=b["$attr?"]("stem"))===a||c._isBoolean&&1!=c||(r=b.$attr("eqnums","none"),r["$=="]("")&&(r="AMS"),r=' equationNumbers: { autoNumber: "'+r+'" } ',f["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['+p.INLINE_MATH_DELIMITERS["$[]"]("latexmath").$to_s()+"],\n    displayMath: ["+
p.BLOCK_MATH_DELIMITERS["$[]"]("latexmath").$to_s()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+p.BLOCK_MATH_DELIMITERS["$[]"]("asciimath").$to_s()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+r+'}\n});\n\x3c/script>\n<script src="'+t+'/mathjax/2.4.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));if((c=(t=b.$docinfo())["$empty?"]())===a||c._isBoolean&&1!=c)f["$<<"](t);f["$<<"]("</head>");t=[];if((c=b.$id())!==a&&(!c._isBoolean||
1==c))t["$<<"]('id="'+b.$id()+'"');if((c=(d=(l=b["$attr?"]("toc-class"),!1!==l&&l!==a?b["$attr?"]("toc"):l),!1!==d&&d!==a?b["$attr?"]("toc-placement","auto"):d))===a||c._isBoolean&&1!=c)t["$<<"]('class="'+b.$doctype()+'"');else t["$<<"]('class="'+b.$doctype()+" "+b.$attr("toc-class")+" toc-"+b.$attr("toc-position","header")+'"');if((c=b["$attr?"]("max-width"))!==a&&(!c._isBoolean||1==c))t["$<<"]('style="max-width: '+b.$attr("max-width")+';"');f["$<<"]("<body "+t["$*"](" ")+">");if((c=b.$noheader())===
a||c._isBoolean&&1!=c){f["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){f["$<<"]("<h1>"+b.$doctitle()+" Manual Page</h1>");if((c=(d=b["$attr?"]("toc"),!1!==d&&d!==a?b["$attr?"]("toc-placement","auto"):d))!==a&&(!c._isBoolean||1==c))f["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");f["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+b.$attr("manname")+" - "+
b.$attr("manpurpose")+"</p>\n</div>")}else{if((c=b["$has_header?"]())!==a&&(!c._isBoolean||1==c)){if((c=b.$notitle())===a||c._isBoolean&&1!=c)f["$<<"]("<h1>"+b.$header().$title()+"</h1>");w=[];if((c=b["$attr?"]("author"))!==a&&(!c._isBoolean||1==c)){w["$<<"]('<span id="author" class="author">'+b.$attr("author")+"</span>"+m);if((c=b["$attr?"]("email"))!==a&&(!c._isBoolean||1==c))w["$<<"]('<span id="email" class="email">'+b.$sub_macros(b.$attr("email"))+"</span>"+m);(t=b.$attr("authorcount").$to_i())["$>"](1)&&
(c=(d=v(2,t,!1)).$each,c._p=(n=function(c){var e;null==c&&(c=a);w["$<<"]('<span id="author'+c+'" class="author">'+b.$attr("author_"+c)+"</span>"+m);return(e=b["$attr?"]("email_"+c))===a||e._isBoolean&&1!=e?a:w["$<<"]('<span id="email'+c+'" class="email">'+b.$sub_macros(b.$attr("email_"+c))+"</span>"+m)},n._s=this,n),c).call(d)}if((c=b["$attr?"]("revnumber"))!==a&&(!c._isBoolean||1==c))w["$<<"]('<span id="revnumber">'+(!1!==(c=b.$attr("version-label"))&&c!==a?c:"").$downcase()+" "+b.$attr("revnumber")+
((c=b["$attr?"]("revdate"))===a||c._isBoolean&&1!=c?"":",")+"</span>");if((c=b["$attr?"]("revdate"))!==a&&(!c._isBoolean||1==c))w["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if((c=b["$attr?"]("revremark"))!==a&&(!c._isBoolean||1==c))w["$<<"](""+m+'<span id="revremark">'+b.$attr("revremark")+"</span>");if((c=w["$empty?"]())===a||c._isBoolean&&1!=c)f["$<<"]('<div class="details">'),f.$concat(w),f["$<<"]("</div>")}if((c=(l=b["$attr?"]("toc"),!1!==l&&l!==a?b["$attr?"]("toc-placement","auto"):
l))!==a&&(!c._isBoolean||1==c))f["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}f["$<<"]("</div>")}f["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");(c=(l=b["$footnotes?"](),!1!==l&&l!==a?b["$attr?"]("nofootnotes")["$!"]():l))===a||c._isBoolean&&1!=c||(f["$<<"]('<div id="footnotes">\n<hr'+e+">"),(c=(l=b.$footnotes()).$each,c._p=(h=function(b){null==b&&(b=a);return f["$<<"]('<div class="footnote" id="_footnote_'+
b.$index()+'">\n<a href="#_footnoteref_'+b.$index()+'">'+b.$index()+"</a>. "+b.$text()+"\n</div>")},h._s=this,h),c).call(l),f["$<<"]("</div>"));if((c=b.$nofooter())===a||c._isBoolean&&1!=c){f["$<<"]('<div id="footer">');f["$<<"]('<div id="footer-text">');if((c=b["$attr?"]("revnumber"))!==a&&(!c._isBoolean||1==c))f["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+m);if((c=b["$attr?"]("last-update-label"))!==a&&(!c._isBoolean||1==c))f["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));
f["$<<"]("</div>");if((c=(t=b.$docinfo("footer"))["$empty?"]())===a||c._isBoolean&&1!=c)f["$<<"](t);f["$<<"]("</div>")}f["$<<"]("</body>");f["$<<"]("</html>");return f["$*"](p.EOL)};k.$embedded=function(b){var c,d,l,n=a,h=a,n=[];(c=(d=b.$notitle()["$!"](),!1!==d&&d!==a?b["$has_header?"]():d))===a||c._isBoolean&&1!=c||(h=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',n["$<<"]("<h1"+h+">"+b.$header().$title()+"</h1>"));n["$<<"](b.$content());(c=(d=b["$footnotes?"](),!1!==d&&d!==a?b["$attr?"]("nofootnotes")["$!"]():
d))===a||c._isBoolean&&1!=c||(n["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(c=(d=b.$footnotes()).$each,c._p=(l=function(b){null==b&&(b=a);return n["$<<"]('<div class="footnote" id="_footnote_'+b.$index()+'">\n<a href="#_footnoteref_'+b.$index()+'">'+b.$index()+"</a> "+b.$text()+"\n</div>")},l._s=this,l),c).call(d),n["$<<"]("</div>"));return n["$*"](p.EOL)};k.$outline=function(b,c){var d,l,n,h=a,f=a,e=a,m=a,k=a,t=a;null==c&&(c=z([],{}));if((d=(h=b.$sections())["$empty?"]())!==
a&&(!d._isBoolean||1==d))return a;f=!1!==(d=c["$[]"]("sectnumlevels"))&&d!==a?d:b.$document().$attr("sectnumlevels",3).$to_i();e=!1!==(d=c["$[]"]("toclevels"))&&d!==a?d:b.$document().$attr("toclevels",2).$to_i();m=[];k=(t=h["$[]"](0)).$level();(d=(l=k["$=="](0))?t.$special():l)===a||d._isBoolean&&1!=d||(k=1);m["$<<"]('<ul class="sectlevel'+k+'">');(d=(l=h).$each,d._p=(n=function(b){var c=n._s||this,g,h,d,q=a,l=a;null==b&&(b=a);q=(g=(h=(d=b.$numbered(),!1!==d&&d!==a?b.$caption()["$!"]():d),!1!==h&&
h!==a?b.$level()["$<="](f):h))===a||g._isBoolean&&1!=g?a:""+b.$sectnum()+" ";if((g=(h=b.$level()["$<"](e))?l=c.$outline(b,z(["toclevels","secnumlevels"],{toclevels:e,secnumlevels:f})):h)===a||g._isBoolean&&1!=g)return m["$<<"]('<li><a href="#'+b.$id()+'">'+q+b.$captioned_title()+"</a></li>");m["$<<"]('<li><a href="#'+b.$id()+'">'+q+b.$captioned_title()+"</a>");m["$<<"](l);return m["$<<"]("</li>")},n._s=this,n),d).call(l);m["$<<"]("</ul>");return m["$*"](p.EOL)};k.$section=function(b){var c,d,l,n=
a,h=a,f=a,e=a,m=a,k=a,p=a,t=a,r=a,n=b.$level();(c=(d=n["$=="](0))?b.$special():d)===a||c._isBoolean&&1!=c||(n=1);h="h"+n["$+"](1);f=e=m=k=a;(c=b.$id())===a||c._isBoolean&&1!=c||((f=' id="'+b.$id()+'"',(c=b.$document()["$attr?"]("sectanchors"))===a||c._isBoolean&&1!=c)?(c=b.$document()["$attr?"]("sectlinks"))===a||c._isBoolean&&1!=c||(m='<a class="link" href="#'+b.$id()+'">',k="</a>"):e='<a class="anchor" href="#'+b.$id()+'"></a>');if(n["$=="](0))return"<h1"+f+' class="sect0">'+e+m+b.$title()+k+"</h1>\n"+
b.$content();p=(c=t=b.$role())===a||c._isBoolean&&1!=c?' class="sect'+n+'"':' class="sect'+n+" "+t+'"';r=(c=(d=(l=b.$numbered(),!1!==l&&l!==a?b.$caption()["$!"]():l),!1!==d&&d!==a?n["$<="](b.$document().$attr("sectnumlevels",3).$to_i()):d))===a||c._isBoolean&&1!=c?a:""+b.$sectnum()+" ";return"<div"+p+">\n<"+h+f+">"+e+m+r+b.$captioned_title()+k+"</"+h+">\n"+(n["$=="](1)?'<div class="sectionbody">\n'+b.$content()+"\n</div>":b.$content())+"\n</div>"};k.$admonition=function(b){var c,d=a,l=a,n=a,h=a,f=
a,d=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',l=b.$attr("name"),n=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'<div class="title">'+b.$title()+"</div>\n",h=(c=b.$document()["$attr?"]("icons"))===a||c._isBoolean&&1!=c?'<div class="title">'+b.$caption()+"</div>":(c=b.$document()["$attr?"]("icons","font"))===a||c._isBoolean&&1!=c?'<img src="'+b.$icon_uri(l)+'" alt="'+b.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+l+'" title="'+b.$caption()+'"></i>';return"<div"+d+
' class="admonitionblock '+l+(c=f=b.$role(),!1!==c&&c!==a?" "+f:c)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+n+b.$content()+"\n</td>\n</tr>\n</table>\n</div>"};k.$audio=function(b){var c,d=a,l=a,n=a,h=n=a,d=b.$document()["$attr?"]("htmlsyntax","xml"),l=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',n=["audioblock",b.$style(),b.$role()].$compact(),n=' class="'+n["$*"](" ")+'"',h=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'<div class="title">'+b.$captioned_title()+
"</div>\n";return"<div"+l+n+">\n"+h+'<div class="content">\n<audio src="'+b.$media_uri(b.$attr("target"))+'"'+((c=b["$option?"]("autoplay"))===a||c._isBoolean&&1!=c?a:this.$append_boolean_attribute("autoplay",d))+((c=b["$option?"]("nocontrols"))===a||c._isBoolean&&1!=c?this.$append_boolean_attribute("controls",d):a)+((c=b["$option?"]("loop"))===a||c._isBoolean&&1!=c?a:this.$append_boolean_attribute("loop",d))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"};k.$colist=function(b){var c,
d,l,n,h,f=a,e=a,m=a,k=m=a,f=[],e=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',m=["colist",b.$style(),b.$role()].$compact(),m=' class="'+m["$*"](" ")+'"';f["$<<"]("<div"+e+m+">");if((c=b["$title?"]())!==a&&(!c._isBoolean||1==c))f["$<<"]('<div class="title">'+b.$title()+"</div>");(c=b.$document()["$attr?"]("icons"))===a||c._isBoolean&&1!=c?(f["$<<"]("<ol>"),(c=(n=b.$items()).$each,c._p=(h=function(b){null==b&&(b=a);return f["$<<"]("<li>\n<p>"+b.$text()+"</p>\n</li>")},h._s=this,h),c).call(n),
f["$<<"]("</ol>")):(f["$<<"]("<table>"),k=b.$document()["$attr?"]("icons","font"),(c=(d=b.$items()).$each_with_index,c._p=(l=function(c,e){var h=l._s||this,m=a,m=a;null==h.void_element_slash&&(h.void_element_slash=a);null==c&&(c=a);null==e&&(e=a);m=e["$+"](1);m=!1!==k&&k!==a?'<i class="conum" data-value="'+m+'"></i><b>'+m+"</b>":'<img src="'+b.$icon_uri("callouts/"+m)+'" alt="'+m+'"'+h.void_element_slash+">";return f["$<<"]("<tr>\n<td>"+m+"</td>\n<td>"+c.$text()+"</td>\n</tr>")},l._s=this,l),c).call(d),
f["$<<"]("</table>"));f["$<<"]("</div>");return f["$*"](p.EOL)};k.$dlist=function(b){var c,d,l,n,h,f,e,m=a,k=a,t=a,r=t=t=a,X=k=a,m=[],k=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',t=b.$style(),t=("qanda"["$==="](t)?["qlist","qanda",b.$role()]:"horizontal"["$==="](t)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),t=' class="'+t["$*"](" ")+'"';m["$<<"]("<div"+k+t+">");if((c=b["$title?"]())!==a&&(!c._isBoolean||1==c))m["$<<"]('<div class="title">'+b.$title()+"</div>");
t=b.$style();"qanda"["$==="](t)?(m["$<<"]("<ol>"),(c=(d=b.$items()).$each,c._p=(l=function(b,c){var e=l._s||this,f,g,h;null==b&&(b=a);null==c&&(c=a);m["$<<"]("<li>");(f=(g=[].concat(b)).$each,f._p=(h=function(b){null==b&&(b=a);return m["$<<"]("<p><em>"+b.$text()+"</em></p>")},h._s=e,h),f).call(g);if(!1!==c&&c!==a){if((f=c["$text?"]())!==a&&(!f._isBoolean||1==f))m["$<<"]("<p>"+c.$text()+"</p>");if((f=c["$blocks?"]())!==a&&(!f._isBoolean||1==f))m["$<<"](c.$content())}return m["$<<"]("</li>")},l._s=
this,l),c).call(d),m["$<<"]("</ol>")):"horizontal"["$==="](t)?(r=this.void_element_slash,m["$<<"]("<table>"),(c=!1!==(n=b["$attr?"]("labelwidth"))&&n!==a?n:b["$attr?"]("itemwidth"))===a||c._isBoolean&&1!=c||(m["$<<"]("<colgroup>"),k=(c=b["$attr?"]("labelwidth"))===a||c._isBoolean&&1!=c?a:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',m["$<<"]("<col"+k+r+">"),k=(c=b["$attr?"]("itemwidth"))===a||c._isBoolean&&1!=c?a:' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"',m["$<<"]("<col"+
k+r+">"),m["$<<"]("</colgroup>")),(c=(n=b.$items()).$each,c._p=(h=function(c,e){var f=h._s||this,d,n,q,l=a,k=a;null==c&&(c=a);null==e&&(e=a);m["$<<"]("<tr>");m["$<<"]('<td class="hdlist1'+((d=b["$option?"]("strong"))===a||d._isBoolean&&1!=d?a:" strong")+'">');l=[].concat(c);k=l["$[]"](-1);(d=(n=l).$each,d._p=(q=function(b){var c;null==b&&(b=a);m["$<<"](b.$text());return(c=b["$=="](k)["$!"]())===a||c._isBoolean&&1!=c?a:m["$<<"]("<br"+r+">")},q._s=f,q),d).call(n);m["$<<"]("</td>");m["$<<"]('<td class="hdlist2">');
if(!1!==e&&e!==a){if((d=e["$text?"]())!==a&&(!d._isBoolean||1==d))m["$<<"]("<p>"+e.$text()+"</p>");if((d=e["$blocks?"]())!==a&&(!d._isBoolean||1==d))m["$<<"](e.$content())}m["$<<"]("</td>");return m["$<<"]("</tr>")},h._s=this,h),c).call(n),m["$<<"]("</table>")):(m["$<<"]("<dl>"),X=(c=b.$style())===a||c._isBoolean&&1!=c?' class="hdlist1"':a,(c=(f=b.$items()).$each,c._p=(e=function(b,c){var f=e._s||this,g,h,d;null==b&&(b=a);null==c&&(c=a);(g=(h=[].concat(b)).$each,g._p=(d=function(b){null==b&&(b=a);
return m["$<<"]("<dt"+X+">"+b.$text()+"</dt>")},d._s=f,d),g).call(h);if(!1!==c&&c!==a){m["$<<"]("<dd>");if((g=c["$text?"]())!==a&&(!g._isBoolean||1==g))m["$<<"]("<p>"+c.$text()+"</p>");if((g=c["$blocks?"]())!==a&&(!g._isBoolean||1==g))m["$<<"](c.$content());return m["$<<"]("</dd>")}return a},e._s=this,e),c).call(f),m["$<<"]("</dl>"));m["$<<"]("</div>");return m["$*"](p.EOL)};k.$example=function(b){var c,d=a,l=a,n=a,d=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',l=(c=b["$title?"]())===
a||c._isBoolean&&1!=c?a:'<div class="title">'+b.$captioned_title()+"</div>\n";return"<div"+d+' class="'+((c=n=b.$role())===a||c._isBoolean&&1!=c?"exampleblock":["exampleblock",n]["$*"](" "))+'">\n'+l+'<div class="content">\n'+b.$content()+"\n</div>\n</div>"};k.$floating_title=function(b){var c,d=a,l=a,n=a,d="h"+b.$level()["$+"](1),l=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',n=[b.$style(),b.$role()].$compact();return"<"+d+l+' class="'+n["$*"](" ")+'">'+b.$title()+"</"+d+">"};k.$image=
function(b){var c,d,l=a,n=a,h=n=l=l=a,f=n=a,e=h=a,m=e=a,l=(c=b["$attr?"]("align"))===a||c._isBoolean&&1!=c?a:b.$attr("align"),n=(c=b["$attr?"]("float"))===a||c._isBoolean&&1!=c?a:b.$attr("float");(c=!1!==(d=l)&&d!==a?d:n)===a||c._isBoolean&&1!=c?l=a:(l=[!1!==l&&l!==a?"text-align: "+l:a,!1!==n&&n!==a?"float: "+n:a].$compact(),l=' style="'+l["$*"](";")+'"');n=(c=b["$attr?"]("width"))===a||c._isBoolean&&1!=c?a:' width="'+b.$attr("width")+'"';h=(c=b["$attr?"]("height"))===a||c._isBoolean&&1!=c?a:' height="'+
b.$attr("height")+'"';n='<img src="'+b.$image_uri(b.$attr("target"))+'" alt="'+b.$attr("alt")+'"'+n+h+this.void_element_slash+">";(c=f=b.$attr("link"))===a||c._isBoolean&&1!=c||(n='<a class="image" href="'+f+'">'+n+"</a>");h=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"';e=["imageblock",b.$style(),b.$role()].$compact();e=' class="'+e["$*"](" ")+'"';m=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'\n<div class="title">'+b.$captioned_title()+"</div>";return"<div"+h+e+l+'>\n<div class="content">\n'+
n+"\n</div>"+m+"\n</div>"};k.$listing=function(b){var c,d=a,l=a,n=a,h=a,f=h=d=n=d=a,e=a,d=!1!==(c=b.$document()["$attr?"]("prewrap")["$!"]())&&c!==a?c:b["$option?"]("nowrap");b.$style()["$=="]("source")?(n=(c=l=b.$attr("language",a,!1))===a||c._isBoolean&&1!=c?a:' data-lang="'+l+'"',h=b.$document().$attr("source-highlighter"),"coderay"["$==="](h)?d=' class="CodeRay highlight'+(!1!==d&&d!==a?" nowrap":a)+'"':"pygments"["$==="](h)?d=' class="pygments highlight'+(!1!==d&&d!==a?" nowrap":a)+'"':"highlightjs"["$==="](h)||
"highlight.js"["$==="](h)?(d=' class="highlightjs highlight'+(!1!==d&&d!==a?" nowrap":a)+'"',!1!==l&&l!==a&&(n=' class="language-'+l+'"'+n)):"prettify"["$==="](h)?(d=' class="prettyprint highlight'+(!1!==d&&d!==a?" nowrap":a)+((c=b["$attr?"]("linenums"))===a||c._isBoolean&&1!=c?a:" linenums")+'"',!1!==l&&l!==a&&(n=' class="language-'+l+'"'+n)):"html-pipeline"["$==="](h)?(d=!1!==l&&l!==a?' lang="'+l+'"':a,n=a):(d=' class="highlight'+(!1!==d&&d!==a?" nowrap":a)+'"',!1!==l&&l!==a&&(n=' class="language-'+
l+'"'+n)),n="<pre"+d+"><code"+n+">",d="</code></pre>"):(n="<pre"+(!1!==d&&d!==a?' class="nowrap"':a)+">",d="</pre>");h=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"';f=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'<div class="title">'+b.$captioned_title()+"</div>\n";return"<div"+h+' class="listingblock'+(c=e=b.$role(),!1!==c&&c!==a?" "+e:c)+'">\n'+f+'<div class="content">\n'+n+b.$content()+d+"\n</div>\n</div>"};k.$literal=function(b){var c,d=a,l=a,n=a,h=a,d=(c=b.$id())===a||c._isBoolean&&
1!=c?a:' id="'+b.$id()+'"',l=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'<div class="title">'+b.$title()+"</div>\n",n=!1!==(c=b.$document()["$attr?"]("prewrap")["$!"]())&&c!==a?c:b["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(c=h=b.$role(),!1!==c&&c!==a?" "+h:c)+'">\n'+l+'<div class="content">\n<pre'+(!1!==n&&n!==a?' class="nowrap"':a)+">"+b.$content()+"</pre>\n</div>\n</div>"};k.$stem=function(g){var c,d,l=a,n=a,h=a,f=a,e=a,m=a,l=(c=g.$id())===a||c._isBoolean&&1!=c?a:' id="'+g.$id()+
'"',n=(c=g["$title?"]())===a||c._isBoolean&&1!=c?a:'<div class="title">'+g.$title()+"</div>\n";c=b.to_ary(p.BLOCK_MATH_DELIMITERS["$[]"](g.$style().$to_sym()));h=null==c[0]?a:c[0];f=null==c[1]?a:c[1];if((c=(d=(e=g.$content())["$start_with?"](h),!1!==d&&d!==a?e["$end_with?"](f):d))===a||c._isBoolean&&1!=c)e=""+h+e+f;return"<div"+l+' class="'+((c=m=g.$role())===a||c._isBoolean&&1!=c?"stemblock":["stemblock",m]["$*"](" "))+'">\n'+n+'<div class="content">\n'+e+"\n</div>\n</div>"};k.$olist=function(b){var c,
d,l,n=a,h=a,f=a,e=h=f=a,f=a,n=[],h=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',f=["olist",b.$style(),b.$role()].$compact(),f=' class="'+f["$*"](" ")+'"';n["$<<"]("<div"+h+f+">");if((c=b["$title?"]())!==a&&(!c._isBoolean||1==c))n["$<<"]('<div class="title">'+b.$title()+"</div>");h=(c=e=b.$list_marker_keyword())===a||c._isBoolean&&1!=c?a:' type="'+e+'"';f=(c=b["$attr?"]("start"))===a||c._isBoolean&&1!=c?a:' start="'+b.$attr("start")+'"';n["$<<"]('<ol class="'+b.$style()+'"'+h+f+">");(c=
(d=b.$items()).$each,c._p=(l=function(b){var c;null==b&&(b=a);n["$<<"]("<li>");n["$<<"]("<p>"+b.$text()+"</p>");if((c=b["$blocks?"]())!==a&&(!c._isBoolean||1==c))n["$<<"](b.$content());return n["$<<"]("</li>")},l._s=this,l),c).call(d);n["$<<"]("</ol>");n["$<<"]("</div>");return n["$*"](p.EOL)};k.$open=function(b){var c,d,l,n,h=a,f=a,e=a,m=a;if((h=b.$style())["$=="]("abstract")){if((c=(d=b.$parent()["$=="](b.$document()))?b.$document().$doctype()["$=="]("book"):d)===a||c._isBoolean&&1!=c)return f=
(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',e=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'<div class="title">'+b.$title()+"</div>","<div"+f+' class="quoteblock abstract'+(c=m=b.$role(),!1!==c&&c!==a?" "+m:c)+'">\n'+e+"<blockquote>\n"+b.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((c=(d=h["$=="]("partintro"))?!1!==(l=!1!==(n=b.$level()["$=="](0)["$!"]())&&
n!==a?n:b.$parent().$context()["$=="]("section")["$!"]())&&l!==a?l:b.$document().$doctype()["$=="]("book")["$!"]():d)===a||c._isBoolean&&1!=c)return f=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',e=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'<div class="title">'+b.$title()+"</div>","<div"+f+' class="openblock'+((c=(d=!1!==h&&h!==a)?h["$=="]("open")["$!"]():d)===a||c._isBoolean&&1!=c?"":" "+h)+(c=m=b.$role(),!1!==c&&c!==a?" "+m:c)+'">\n'+e+'<div class="content">\n'+b.$content()+"\n</div>\n</div>";
this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""};k.$page_break=function(a){return'<div style="page-break-after: always;"></div>'};k.$paragraph=function(b){var c,d=a,d=(c=b.$id())===a||c._isBoolean&&1!=c?(c=b.$role())===a||c._isBoolean&&1!=c?' class="paragraph"':' class="paragraph '+b.$role()+'"':(c=b.$role())===a||c._isBoolean&&1!=c?' id="'+b.$id()+'" class="paragraph"':' id="'+b.$id()+'" class="paragraph '+
b.$role()+'"';return(c=b["$title?"]())===a||c._isBoolean&&1!=c?"<div"+d+">\n<p>"+b.$content()+"</p>\n</div>":"<div"+d+'>\n<div class="title">'+b.$title()+"</div>\n<p>"+b.$content()+"</p>\n</div>"};k.$preamble=function(b){var c,d,l=a,l=(c=(d=b["$attr?"]("toc"),!1!==d&&d!==a?b["$attr?"]("toc-placement","preamble"):d))===a||c._isBoolean&&1!=c?a:'\n<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b.$document())+"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+
b.$content()+"\n</div>"+l+"\n</div>"};k.$quote=function(b){var c,d,l=a,n=a,h=n=a,f=a,e=a,m=a,m=f=a,l=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',n=["quoteblock",b.$role()].$compact(),n=' class="'+n["$*"](" ")+'"',h=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'\n<div class="title">'+b.$title()+"</div>",f=(c=b["$attr?"]("attribution"))===a||c._isBoolean&&1!=c?a:b.$attr("attribution"),e=(c=b["$attr?"]("citetitle"))===a||c._isBoolean&&1!=c?a:b.$attr("citetitle");(c=!1!==(d=f)&&d!==a?d:
e)===a||c._isBoolean&&1!=c?m=a:(m=!1!==e&&e!==a?"<cite>"+e+"</cite>":a,f=!1!==f&&f!==a?"&#8212; "+f+(!1!==e&&e!==a?"<br"+this.void_element_slash+">\n":a):a,m='\n<div class="attribution">\n'+f+m+"\n</div>");return"<div"+l+n+">"+h+"\n<blockquote>\n"+b.$content()+"\n</blockquote>"+m+"\n</div>"};k.$thematic_break=function(a){return"<hr"+this.void_element_slash+">"};k.$sidebar=function(b){var c,d=a,l=a,n=a,d=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',l=(c=b["$title?"]())===a||c._isBoolean&&
1!=c?a:'<div class="title">'+b.$title()+"</div>\n";return"<div"+d+' class="'+((c=n=b.$role())===a||c._isBoolean&&1!=c?"sidebarblock":["sidebarblock",n]["$*"](" "))+'">\n<div class="content">\n'+l+b.$content()+"\n</div>\n</div>"};k.$table=function(b){var c,d,l,n,h,f,e,m,k,t,r=a,X=a,w=a,v=a,G=a,K=v=w=G=a,E=a,r=[],X=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',w=["tableblock","frame-"+b.$attr("frame","all"),"grid-"+b.$attr("grid","all")],v=[];if((c=b["$option?"]("autowidth"))===a||c._isBoolean&&
1!=c)if((G=b.$attr("tablepcwidth"))["$=="](100))w["$<<"]("spread");else v["$<<"]("width: "+G+"%;");if((c=G=b.$role())!==a&&(!c._isBoolean||1==c))w["$<<"](G);w=' class="'+w["$*"](" ")+'"';if((c=b["$attr?"]("float"))!==a&&(!c._isBoolean||1==c))v["$<<"]("float: "+b.$attr("float")+";");v=(c=v["$empty?"]())===a||c._isBoolean&&1!=c?' style="'+v["$*"](" ")+'"':a;r["$<<"]("<table"+X+w+v+">");if((c=b["$title?"]())!==a&&(!c._isBoolean||1==c))r["$<<"]('<caption class="title">'+b.$captioned_title()+"</caption>");
b.$attr("rowcount")["$>"](0)&&(K=this.void_element_slash,r["$<<"]("<colgroup>"),(c=b["$option?"]("autowidth"))===a||c._isBoolean&&1!=c?(c=(n=b.$columns()).$each,c._p=(h=function(b){null==b&&(b=a);return r["$<<"]('<col style="width: '+b.$attr("colpcwidth")+'%;"'+K+">")},h._s=this,h),c).call(n):(E="<col"+K+">",(c=(d=b.$columns().$size()).$times,c._p=(l=function(){return r["$<<"](E)},l._s=this,l),c).call(d)),r["$<<"]("</colgroup>"),(c=(f=(m=(k=["head","foot","body"]).$select,m._p=(t=function(c){null==
c&&(c=a);return b.$rows()["$[]"](c)["$empty?"]()["$!"]()},t._s=this,t),m).call(k)).$each,c._p=(e=function(c){var f=e._s||this,h,d,m;null==c&&(c=a);r["$<<"]("<t"+c+">");(h=(d=b.$rows()["$[]"](c)).$each,h._p=(m=function(e){var f=m._s||this,h,d,n;null==e&&(e=a);r["$<<"]("<tr>");(h=(d=e).$each,h._p=(n=function(e){var f=n._s||this,h,d,m,q,l=a,k=a,y=k=a,p=a,t=a,H=a;null==e&&(e=a);c["$=="]("head")?l=e.$text():(k=e.$style(),"asciidoc"["$==="](k)?l="<div>"+e.$content()+"</div>":"verse"["$==="](k)?l='<div class="verse">'+
e.$text()+"</div>":"literal"["$==="](k)?l='<div class="literal"><pre>'+e.$text()+"</pre></div>":(l="",(h=(d=e.$content()).$each,h._p=(m=function(b){null==b&&(b=a);return l=""+l+'<p class="tableblock">'+b+"</p>"},m._s=f,m),h).call(d)));k=(h=!1!==(q=c["$=="]("head"))&&q!==a?q:e.$style()["$=="]("header"))===a||h._isBoolean&&1!=h?"td":"th";y=' class="tableblock halign-'+e.$attr("halign")+" valign-"+e.$attr("valign")+'"';p=(h=e.$colspan())===a||h._isBoolean&&1!=h?a:' colspan="'+e.$colspan()+'"';t=(h=e.$rowspan())===
a||h._isBoolean&&1!=h?a:' rowspan="'+e.$rowspan()+'"';H=(h=b.$document()["$attr?"]("cellbgcolor"))===a||h._isBoolean&&1!=h?a:' style="background-color: '+b.$document().$attr("cellbgcolor")+';"';return r["$<<"]("<"+k+y+p+t+H+">"+l+"</"+k+">")},n._s=f,n),h).call(d);return r["$<<"]("</tr>")},m._s=f,m),h).call(d);return r["$<<"]("</t"+c+">")},e._s=this,e),c).call(f));r["$<<"]("</table>");return r["$*"](p.EOL)};k.$toc=function(b){var c,d,l=a,n=a,h=a,f=a,e=a,m=a;if((c=(d=(l=b.$document())["$attr?"]("toc-placement",
"macro"),!1!==d&&d!==a?l["$attr?"]("toc"):d))===a||c._isBoolean&&1!=c)return"\x3c!-- toc disabled --\x3e";(c=b.$id())===a||c._isBoolean&&1!=c?(n=' id="toc"',h=' id="toctitle"'):(n=' id="'+b.$id()+'"',h=' id="'+b.$id()+'title"');f=(c=b["$title?"]())===a||c._isBoolean&&1!=c?l.$attr("toc-title"):b.$title();e=(c=b["$attr?"]("levels"))===a||c._isBoolean&&1!=c?a:b.$attr("levels").$to_i();m=(c=b["$role?"]())===a||c._isBoolean&&1!=c?l.$attr("toc-class","toc"):b.$role();return"<div"+n+' class="'+m+'">\n<div'+
h+' class="title">'+f+"</div>\n"+this.$outline(l,z(["toclevels"],{toclevels:e}))+"\n</div>"};k.$ulist=function(b){var c,d,l,n=a,h=a,f=a,e=a,m=a,k=a,t=a,n=[],h=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',f=["ulist",b.$style(),b.$role()].$compact(),m=e=a;(c=k=b["$option?"]("checklist"))===a||c._isBoolean&&1!=c?t=(c=b.$style())===a||c._isBoolean&&1!=c?a:' class="'+b.$style()+'"':(f.$insert(1,"checklist"),t=' class="checklist"',(c=b["$option?"]("interactive"))===a||c._isBoolean&&1!=c?(c=
b.$document()["$attr?"]("icons","font"))===a||c._isBoolean&&1!=c?(e="&#10003; ",m="&#10063; "):(e='<i class="fa fa-check-square-o"></i> ',m='<i class="fa fa-square-o"></i> '):(c=b.$document()["$attr?"]("htmlsyntax","xml"))===a||c._isBoolean&&1!=c?(e='<input type="checkbox" data-item-complete="1" checked> ',m='<input type="checkbox" data-item-complete="0"> '):(e='<input type="checkbox" data-item-complete="1" checked="checked"/> ',m='<input type="checkbox" data-item-complete="0"/> '));n["$<<"]("<div"+
h+' class="'+f["$*"](" ")+'">');if((c=b["$title?"]())!==a&&(!c._isBoolean||1==c))n["$<<"]('<div class="title">'+b.$title()+"</div>");n["$<<"]("<ul"+t+">");(c=(d=b.$items()).$each,c._p=(l=function(b){var c,f;null==b&&(b=a);n["$<<"]("<li>");if((c=(f=!1!==k&&k!==a)?b["$attr?"]("checkbox"):f)===a||c._isBoolean&&1!=c)n["$<<"]("<p>"+b.$text()+"</p>");else n["$<<"]("<p>"+((c=b["$attr?"]("checked"))===a||c._isBoolean&&1!=c?m:e)+b.$text()+"</p>");if((c=b["$blocks?"]())!==a&&(!c._isBoolean||1==c))n["$<<"](b.$content());
return n["$<<"]("</li>")},l._s=this,l),c).call(d);n["$<<"]("</ul>");n["$<<"]("</div>");return n["$*"](p.EOL)};k.$verse=function(b){var c,d,l=a,n=a,h=n=a,f=a,e=a,m=a,m=f=a,l=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="'+b.$id()+'"',n=["verseblock",b.$role()].$compact(),n=' class="'+n["$*"](" ")+'"',h=(c=b["$title?"]())===a||c._isBoolean&&1!=c?a:'\n<div class="title">'+b.$title()+"</div>",f=(c=b["$attr?"]("attribution"))===a||c._isBoolean&&1!=c?a:b.$attr("attribution"),e=(c=b["$attr?"]("citetitle"))===
a||c._isBoolean&&1!=c?a:b.$attr("citetitle");(c=!1!==(d=f)&&d!==a?d:e)===a||c._isBoolean&&1!=c?m=a:(m=!1!==e&&e!==a?"<cite>"+e+"</cite>":a,f=!1!==f&&f!==a?"&#8212; "+f+(!1!==e&&e!==a?"<br"+this.void_element_slash+">\n":a):a,m='\n<div class="attribution">\n'+f+m+"\n</div>");return"<div"+l+n+">"+h+'\n<pre class="content">'+b.$content()+"</pre>"+m+"\n</div>"};k.$video=function(d){var c,q,l=this,n=a,h=a,f=a,e=a,m=a,k=a,p=a,t=a,r=a,w=a,v=a,G=a,K=a,E=a,x=a,B=a,z=a,A=a,F=a,D=a,J=a,I=a,O=a,ca=a,P=a,Z=a,ba=
a,Q=a,ga=a,C=a,n=d.$document()["$attr?"]("htmlsyntax","xml"),h=(c=d.$id())===a||c._isBoolean&&1!=c?a:' id="'+d.$id()+'"',f=["videoblock",d.$style(),d.$role()].$compact(),e=' class="'+f["$*"](" ")+'"',m=(c=d["$title?"]())===a||c._isBoolean&&1!=c?a:'\n<div class="title">'+d.$captioned_title()+"</div>",k=(c=d["$attr?"]("width"))===a||c._isBoolean&&1!=c?a:' width="'+d.$attr("width")+'"',p=(c=d["$attr?"]("height"))===a||c._isBoolean&&1!=c?a:' height="'+d.$attr("height")+'"';return function(){t=d.$attr("poster");
if("vimeo"["$==="](t))return r=(c=d["$attr?"]("start",a,!1))===a||c._isBoolean&&1!=c?a:"#at="+d.$attr("start"),w="?",v=(c=d["$option?"]("autoplay"))===a||c._isBoolean&&1!=c?a:""+w+"autoplay=1",!1!==v&&v!==a&&(w="&amp;"),G=(c=d["$option?"]("loop"))===a||c._isBoolean&&1!=c?a:""+w+"loop=1","<div"+h+e+">"+m+'\n<div class="content">\n<iframe'+k+p+' src="//player.vimeo.com/video/'+d.$attr("target")+r+v+G+'" frameborder="0"'+((c=d["$option?"]("nofullscreen"))===a||c._isBoolean&&1!=c?l.$append_boolean_attribute("allowfullscreen",
n):a)+"></iframe>\n</div>\n</div>";if("youtube"["$==="](t))return K=(c=d["$option?"]("related"))===a||c._isBoolean&&1!=c?0:1,E=(c=d["$attr?"]("start",a,!1))===a||c._isBoolean&&1!=c?a:"&amp;start="+d.$attr("start"),x=(c=d["$attr?"]("end",a,!1))===a||c._isBoolean&&1!=c?a:"&amp;end="+d.$attr("end"),v=(c=d["$option?"]("autoplay"))===a||c._isBoolean&&1!=c?a:"&amp;autoplay=1",G=(c=d["$option?"]("loop"))===a||c._isBoolean&&1!=c?a:"&amp;loop=1",B=(c=d["$option?"]("nocontrols"))===a||c._isBoolean&&1!=c?a:
"&amp;controls=0",(c=d["$option?"]("nofullscreen"))===a||c._isBoolean&&1!=c?(z=a,A=l.$append_boolean_attribute("allowfullscreen",n)):(z="&amp;fs=0",A=a),F=(c=d["$option?"]("modest"))===a||c._isBoolean&&1!=c?a:"&amp;modestbranding=1",D=(c=d["$attr?"]("theme",a,!1))===a||c._isBoolean&&1!=c?a:"&amp;theme="+d.$attr("theme"),J=(c=d["$attr?"]("lang"))===a||c._isBoolean&&1!=c?a:"&amp;hl="+d.$attr("lang"),c=b.to_ary(d.$attr("target").$split("/",2)),I=null==c[0]?a:c[0],O=null==c[1]?a:c[1],(c=!1!==(q=O)&&q!==
a?q:O=d.$attr("list",a,!1))===a||c._isBoolean&&1!=c?(c=b.to_ary(I.$split(",",2)),I=null==c[0]?a:c[0],P=null==c[1]?a:c[1],ca=(c=!1!==(q=P)&&q!==a?q:P=d.$attr("playlist",a,!1))===a||c._isBoolean&&1!=c?a:"&amp;playlist="+P):ca="&amp;list="+O,"<div"+h+e+">"+m+'\n<div class="content">\n<iframe'+k+p+' src="//www.youtube.com/embed/'+I+"?rel="+K+E+x+v+G+B+ca+z+F+D+J+'" frameborder="0"'+A+"></iframe>\n</div>\n</div>";Z=(c=(""+(ba=d.$attr("poster")))["$empty?"]())===a||c._isBoolean&&1!=c?' poster="'+d.$media_uri(ba)+
'"':a;Q=d.$attr("start",a,!1);ga=d.$attr("end",a,!1);C=(c=!1!==(q=Q)&&q!==a?q:ga)===a||c._isBoolean&&1!=c?a:"#t="+Q+(!1!==ga&&ga!==a?",":a)+ga;return"<div"+h+e+">"+m+'\n<div class="content">\n<video src="'+d.$media_uri(d.$attr("target"))+C+'"'+k+p+Z+((c=d["$option?"]("autoplay"))===a||c._isBoolean&&1!=c?a:l.$append_boolean_attribute("autoplay",n))+((c=d["$option?"]("nocontrols"))===a||c._isBoolean&&1!=c?l.$append_boolean_attribute("controls",n):a)+((c=d["$option?"]("loop"))===a||c._isBoolean&&1!=
c?a:l.$append_boolean_attribute("loop",n))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()};k.$inline_anchor=function(b){var c,d,l=this,n=a,h=a,f=a,e=a,m=a,k=a,n=b.$target();return function(){h=b.$type();if("xref"["$==="](h))return f=!1!==(c=b.$attr("refid"))&&c!==a?c:n,e=!1!==(c=b.$text())&&c!==a?c:!1!==(d=b.$document().$references()["$[]"]("ids")["$[]"](f))&&d!==a?d:"["+f+"]",'<a href="'+n+'">'+e+"</a>";if("ref"["$==="](h))return'<a id="'+n+'"></a>';if("link"["$==="](h)){m=
[];if((c=b.$id())!==a&&(!c._isBoolean||1==c))m["$<<"](' id="'+b.$id()+'"');if((c=k=b.$role())!==a&&(!c._isBoolean||1==c))m["$<<"](' class="'+k+'"');if((c=b["$attr?"]("title"))!==a&&(!c._isBoolean||1==c))m["$<<"](' title="'+b.$attr("title")+'"');if((c=b["$attr?"]("window"))!==a&&(!c._isBoolean||1==c))m["$<<"](' target="'+b.$attr("window")+'"');return'<a href="'+n+'"'+m.$join()+">"+b.$text()+"</a>"}return"bibref"["$==="](h)?'<a id="'+n+'"></a>['+n+"]":l.$warn("asciidoctor: WARNING: unknown anchor type: "+
b.$type().$inspect())}()};k.$inline_break=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"};k.$inline_button=function(a){return'<b class="button">'+a.$text()+"</b>"};k.$inline_callout=function(b){var c,d=a;if((c=b.$document()["$attr?"]("icons","font"))===a||c._isBoolean&&1!=c){if((c=b.$document()["$attr?"]("icons"))===a||c._isBoolean&&1!=c)return'<b class="conum">('+b.$text()+")</b>";d=b.$icon_uri("callouts/"+b.$text());return'<img src="'+d+'" alt="'+b.$text()+'"'+this.void_element_slash+
">"}return'<i class="conum" data-value="'+b.$text()+'"></i><b>('+b.$text()+")</b>"};k.$inline_footnote=function(b){var c,d=a,l=a;if((c=d=b.$attr("index"))===a||c._isBoolean&&1!=c)return b.$type()["$=="]("xref")?'<span class="footnoteref red" title="Unresolved footnote reference.">['+b.$text()+"]</span>":a;if(b.$type()["$=="]("xref"))return'<span class="footnoteref">[<a class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</span>";l=(c=b.$id())===a||c._isBoolean&&1!=c?a:' id="_footnote_'+
b.$id()+'"';return'<span class="footnote"'+l+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</span>"};k.$inline_image=function(b){var c,d,l,n=a,h=a,f=a,e=n=f=f=h=h=a,f=a;(c=(d=(n=b.$type())["$=="]("icon"))?b.$document()["$attr?"]("icons","font"):d)===a||c._isBoolean&&1!=c?(c=(d=n["$=="]("icon"))?b.$document()["$attr?"]("icons")["$!"]():d)===a||c._isBoolean&&1!=c?(h=(c=n["$=="]("icon"))===a||c._isBoolean&&1!=c?b.$image_uri(b.$target()):b.$icon_uri(b.$target()),
f=(c=(d=["alt","width","height","title"]).$map,c._p=(l=function(c){var e;null==c&&(c=a);return(e=b["$attr?"](c))===a||e._isBoolean&&1!=e?a:" "+c+'="'+b.$attr(c)+'"'},l._s=this,l),c).call(d).$join(),h='<img src="'+h+'"'+f+this.void_element_slash+">"):h="["+b.$attr("alt")+"]":(h="fa fa-"+b.$target(),(c=b["$attr?"]("size"))===a||c._isBoolean&&1!=c||(h=""+h+" fa-"+b.$attr("size")),(c=b["$attr?"]("rotate"))===a||c._isBoolean&&1!=c||(h=""+h+" fa-rotate-"+b.$attr("rotate")),(c=b["$attr?"]("flip"))===a||
c._isBoolean&&1!=c||(h=""+h+" fa-flip-"+b.$attr("flip")),f=(c=b["$attr?"]("title"))===a||c._isBoolean&&1!=c?a:' title="'+b.$attr("title")+'"',h='<i class="'+h+'"'+f+"></i>");(c=b["$attr?"]("link"))===a||c._isBoolean&&1!=c||(f=(c=b["$attr?"]("window"))===a||c._isBoolean&&1!=c?a:' target="'+b.$attr("window")+'"',h='<a class="image" href="'+b.$attr("link")+'"'+f+">"+h+"</a>");n=(c=e=b.$role())===a||c._isBoolean&&1!=c?n:""+n+" "+e;f=(c=b["$attr?"]("float"))===a||c._isBoolean&&1!=c?a:' style="float: '+
b.$attr("float")+'"';return'<span class="'+n+'"'+f+">"+h+"</span>"};k.$inline_indexterm=function(a){return a.$type()["$=="]("visible")?a.$text():""};k.$inline_kbd=function(b){var c,d,l,n=a,n=a;if((n=b.$attr("keys")).$size()["$=="](1))return"<kbd>"+n["$[]"](0)+"</kbd>";n=(c=(d=n).$map,c._p=(l=function(b){null==b&&(b=a);return"<kbd>"+b+"</kbd>+"},l._s=this,l),c).call(d).$join().$chop();return'<span class="keyseq">'+n+"</span>"};k.$inline_menu=function(b){var c,d,l,n=a,h=a,f=h=a,n=b.$attr("menu");if((c=
(h=b.$attr("submenus"))["$empty?"]()["$!"]())===a||c._isBoolean&&1!=c)return(c=f=b.$attr("menuitem"))===a||c._isBoolean&&1!=c?'<span class="menu">'+n+"</span>":'<span class="menuseq"><span class="menu">'+n+'</span>&#160;&#9656; <span class="menuitem">'+f+"</span></span>";h=(c=(d=h).$map,c._p=(l=function(b){null==b&&(b=a);return'<span class="submenu">'+b+"</span>&#160;&#9656; "},l._s=this,l),c).call(d).$join().$chop();return'<span class="menuseq"><span class="menu">'+n+"</span>&#160;&#9656; "+h+' <span class="menuitem">'+
b.$attr("menuitem")+"</span></span>"};k.$inline_quoted=function(d){var c,q=a,l=a,n=a,h=a,q=a;c=b.to_ary(p.QUOTE_TAGS["$[]"](d.$type()));q=null==c[0]?a:c[0];l=null==c[1]?a:c[1];n=null==c[2]?a:c[2];q=(c=h=d.$role())===a||c._isBoolean&&1!=c?""+q+d.$text()+l:!1!==n&&n!==a?""+q.$chop()+' class="'+h+'">'+d.$text()+l:'<span class="'+h+'">'+q+d.$text()+l+"</span>";return(c=d.$id())===a||c._isBoolean&&1!=c?q:'<a id="'+d.$id()+'"></a>'+q};return(k.$append_boolean_attribute=function(b,c){return!1!==c&&c!==a?
" "+b+'="'+b+'"':" "+b},a)&&"append_boolean_attribute"})(w.Converter,w.Converter._scope.BuiltIn)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.slice,r=b.module,z=b.klass,v=b.hash2,w=b.range;return function(x){x=r(x,"Asciidoctor");(function(r,$super){function l(){}var k=l=z(r,$super,"Document",l),p=k._proto,g=k._scope,c,q,y,n;p.attributes=p.safe=p.reader=p.callouts=p.base_dir=p.parsed=p.parent_document=p.extensions=p.options=p.counters=p.references=p.doctype=p.backend=p.header=p.blocks=p.attributes_modified=p.id=p.original_attributes=p.attribute_overrides=p.converter=p.docinfo_processor_extensions=p.document=
a;b.cdecl(g,"Footnote",(null==(c=b.Object._scope.Struct)?b.cm("Struct"):c).$new("index","id","text"));(function(b,$super){function c(){}var d=c=z(b,$super,"AttributeEntry",c),g=d._proto;d.$attr_reader("name","value","negate");g.$initialize=function(b,c,e){var h;null==e&&(e=a);this.name=b;this.value=c;return this.negate=(h=e["$nil?"]())===a||h._isBoolean&&1!=h?e:c["$nil?"]()};return(g.$save_to=function(b){var c;return(!1!==(c=b["$[]"]("attribute_entries"))&&c!==a?c:b["$[]="]("attribute_entries",[]))["$<<"](this)},
a)&&"save_to"})(k,null);(function(c,$super){function e(){}var d=e=z(c,$super,"Title",e),g=d._proto,n=d._scope;g.sanitized=g.subtitle=g.combined=a;d.$attr_reader("main");d.$attr_reader("subtitle");d.$attr_reader("combined");g.$initialize=function(c,e){var h,d;null==e&&(e=v([],{}));(h=(d=this.sanitized=e["$[]"]("sanitize"),!1!==d&&d!==a?c["$include?"]("<"):d))===a||h._isBoolean&&1!=h||(c=c.$gsub(n.XmlSanitizeRx,"").$tr_s(" "," ").$strip());return(h=(this.combined=c)["$include?"](": "))===a||h._isBoolean&&
1!=h?(this.main=c,this.subtitle=a):(h=b.to_ary(c.$rpartition(": ")),this.main=null==h[0]?a:h[0],this.subtitle=null==h[2]?a:h[2])};g["$sanitized?"]=function(){return this.sanitized};g["$subtitle?"]=function(){return this.subtitle["$!"]()["$!"]()};return(g.$to_s=function(){return this.combined},a)&&"to_s"})(k,null);k.$attr_reader("safe");k.$attr_reader("compat_mode");k.$attr_reader("sourcemap");k.$attr_reader("references");k.$attr_reader("counters");k.$attr_reader("callouts");k.$attr_reader("header");
k.$attr_reader("base_dir");k.$attr_reader("options");k.$attr_reader("parent_document");k.$attr_reader("reader");k.$attr_reader("converter");k.$attr_reader("extensions");p.$initialize=q=function(c,f){var e,d,n,l,k,y,p,r,u,K,E,x=a,B=a,z=a,A=a,F=A=a,D=a,J=x=D=A=x=A=A=a;null==c&&(c=a);null==f&&(f=v([],{}));q._p=null;b.find_super_dispatcher(this,"initialize",q,null).apply(this,[this,"document"]);if((e=x=f.$delete("parent"))===a||e._isBoolean&&1!=e){this.parent_document=a;this.references=v("ids footnotes links images indexterms includes".split(" "),
{ids:v([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:(null==(e=b.Object._scope.Set)?b.cm("Set"):e).$new()});B=v([],{});(e=(n=!1!==(k=f["$[]"]("attributes"))&&k!==a?k:v([],{})).$each,e._p=(d=function(b,c){var e;null==b&&(b=a);null==c&&(c=a);(e=b["$start_with?"]("!"))===a||e._isBoolean&&1!=e?(e=b["$end_with?"]("!"))===a||e._isBoolean&&1!=e||(b=b.$chop(),c=a):(b=b["$[]"](w(1,-1,!1)),c=a);return B["$[]="](b.$downcase(),c)},d._s=this,d),e).call(n);this.attribute_overrides=B;if((e=(A=f["$[]"]("safe"))["$!"]())===
a||e._isBoolean&&1!=e)if((e=(null==(k=b.Object._scope.Fixnum)?b.cm("Fixnum"):k)["$==="](A))===a||e._isBoolean&&1!=e)try{this.safe=g.SafeMode.$const_get(A.$to_s().$upcase())}catch(I){this.safe=g.SafeMode._scope.SECURE}else this.safe=A;else this.safe=g.SafeMode._scope.SECURE;this.sourcemap=f["$[]"]("sourcemap");this.compat_mode=!1;this.converter=a;try{z=null!=(null==(e=b.Object._scope.Asciidoctor)?b.cm("Asciidoctor"):e)._scope.Extensions?"constant":a}catch(O){if(O._klass===Opal.NameError)z=a;else throw O;
}this.extensions=a}else this.parent_document=x,e="base_dir",d=f,!1!==(n=d["$[]"](e))&&n!==a?n:d["$[]="](e,x.$base_dir()),this.references=(e=(d=x.$references()).$inject,e._p=(l=function(b,c){null==b&&(b=a);key=c[0];ref=c[1];if(key["$=="]("footnotes"))b["$[]="]("footnotes",[]);else b["$[]="](key,ref);return b},l._s=this,l),e).call(d,v([],{})),B=x.$attributes().$dup(),B.$delete("doctype"),B.$delete("compat-mode"),this.attribute_overrides=B,this.safe=x.$safe(),this.compat_mode=x.$compat_mode(),this.sourcemap=
x.$sourcemap(),this.converter=x.$converter(),z=!1,this.extensions=x.$extensions();this.parsed=!1;this.header=a;this.counters=v([],{});this.callouts=g.Callouts.$new();this.attributes_modified=(null==(e=b.Object._scope.Set)?b.cm("Set"):e).$new();this.options=f;this.docinfo_processor_extensions=v([],{});A=(e="header_footer",k=f,!1!==(y=k["$[]"](e))&&y!==a?y:k["$[]="](e,!1));f.$freeze();F=this.attributes;F["$[]="]("encoding","UTF-8");F["$[]="]("sectids","");if(!1===A||A===a)F["$[]="]("notitle","");F["$[]="]("toc-placement",
"auto");F["$[]="]("stylesheet","");F["$[]="]("webfonts","");if(!1!==A&&A!==a)F["$[]="]("copycss","");F["$[]="]("prewrap","");F["$[]="]("attribute-undefined",g.Compliance.$attribute_undefined());F["$[]="]("attribute-missing",g.Compliance.$attribute_missing());F["$[]="]("iconfont-remote","");F["$[]="]("caution-caption","Caution");F["$[]="]("important-caption","Important");F["$[]="]("note-caption","Note");F["$[]="]("tip-caption","Tip");F["$[]="]("warning-caption","Warning");F["$[]="]("appendix-caption",
"Appendix");F["$[]="]("example-caption","Example");F["$[]="]("figure-caption","Figure");F["$[]="]("table-caption","Table");F["$[]="]("toc-title","Table of Contents");F["$[]="]("manname-title","NAME");F["$[]="]("untitled-label","Untitled");F["$[]="]("version-label","Version");F["$[]="]("last-update-label","Last updated");B["$[]="]("asciidoctor","");B["$[]="]("asciidoctor-version",g.VERSION);D=(e=(k=g.SafeMode.$constants()).$detect,e._p=(p=function(b){var c=p._s||this;null==c.safe&&(c.safe=a);null==
b&&(b=a);return g.SafeMode.$const_get(b)["$=="](c.safe)},p._s=this,p),e).call(k).$to_s().$downcase();B["$[]="]("safe-mode-name",D);B["$[]="]("safe-mode-"+D,"");B["$[]="]("safe-mode-level",this.safe);B["$[]="]("embedded",!1!==A&&A!==a?a:"");e="max-include-depth";y=B;!1!==(r=y["$[]"](e))&&r!==a?r:y["$[]="](e,64);if((e=B["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===a||e._isBoolean&&1!=e)B["$[]="]("allow-uri-read",a);B["$[]="]("user-home",g.USER_HOME);if((e=B["$key?"]("numbered"))!==a&&(!e._isBoolean||
1==e))B["$[]="]("sectnums",B.$delete("numbered"));(e=f["$[]"]("base_dir"))===a||e._isBoolean&&1!=e?(e=B["$[]"]("docdir"))===a||e._isBoolean&&1!=e?this.base_dir=B["$[]="]("docdir",(null==(e=b.Object._scope.File)?b.cm("File"):e).$expand_path((null==(e=b.Object._scope.Dir)?b.cm("Dir"):e).$pwd())):this.base_dir=B["$[]="]("docdir",(null==(e=b.Object._scope.File)?b.cm("File"):e).$expand_path(B["$[]"]("docdir"))):this.base_dir=B["$[]="]("docdir",(null==(e=b.Object._scope.File)?b.cm("File"):e).$expand_path(f["$[]"]("base_dir")));
if((e=A=f["$[]"]("backend"))!==a&&(!e._isBoolean||1==e))B["$[]="]("backend",""+A);if((e=A=f["$[]"]("doctype"))!==a&&(!e._isBoolean||1==e))B["$[]="]("doctype",""+A);if(this.safe["$>="](g.SafeMode._scope.SERVER)){e="copycss";y=B;!1!==(r=y["$[]"](e))&&r!==a?r:y["$[]="](e,a);e="source-highlighter";y=B;!1!==(r=y["$[]"](e))&&r!==a?r:y["$[]="](e,a);e="backend";y=B;!1!==(r=y["$[]"](e))&&r!==a?r:y["$[]="](e,g.DEFAULT_BACKEND);if((e=(y=x["$!"](),!1!==y&&y!==a?B["$key?"]("docfile"):y))!==a&&(!e._isBoolean||
1==e))B["$[]="]("docfile",B["$[]"]("docfile")["$[]"](w(B["$[]"]("docdir").$length()["$+"](1),-1,!1)));B["$[]="]("docdir","");B["$[]="]("user-home",".");if(this.safe["$>="](g.SafeMode._scope.SECURE)){if((e=B.$fetch("linkcss","")["$nil?"]())===a||e._isBoolean&&1!=e)B["$[]="]("linkcss","");e="icons";y=B;!1!==(r=y["$[]"](e))&&r!==a?r:y["$[]="](e,a)}}(e=(y=B).$delete_if,e._p=(u=function(c,e){var f,d,h,m=a;null==c&&(c=a);null==e&&(e=a);m=!1;(f=e["$nil?"]())===a||f._isBoolean&&1!=f?((f=(d=(null==(h=b.Object._scope.String)?
b.cm("String"):h)["$==="](e),!1!==d&&d!==a?e["$end_with?"]("@"):d))===a||f._isBoolean&&1!=f||(e=e.$chop(),m=!0),F["$[]="](c,e)):F.$delete(c);return m},u._s=this,u),e).call(y);(e=F["$key?"]("compat-mode"))===a||e._isBoolean&&1!=e||(this.compat_mode=!0);if(!1!==x&&x!==a)return e="doctype",r=F,!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,g.DEFAULT_DOCTYPE),this.reader=g.Reader.$new(c,f["$[]"]("cursor")),g.Parser.$parse(this.reader,this),this.callouts.$rewind(),this.parsed=!0;e="backend";r=F;!1!==(K=r["$[]"](e))&&
K!==a?K:r["$[]="](e,g.DEFAULT_BACKEND);e="doctype";r=F;!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,g.DEFAULT_DOCTYPE);this.$update_backend_attributes(F["$[]"]("backend"),!0);x=(null==(e=b.Object._scope.Time)?b.cm("Time"):e).$now();A=(e="localdate",r=F,!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,x.$strftime("%Y-%m-%d")));if((e=D=F["$[]"]("localtime"))===a||e._isBoolean&&1!=e)try{D=F["$[]="]("localtime",x.$strftime("%H:%M:%S %Z"))}catch(ca){D=F["$[]="]("localtime",x.$strftime("%H:%M:%S"))}e="localdatetime";
r=F;!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,""+A+" "+D);e="docdate";r=F;!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,A);e="doctime";r=F;!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,D);e="docdatetime";r=F;!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,""+A+" "+D);e="stylesdir";r=F;!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,"https://cdn.rawgit.com/asciidocfx/AsciidocFX/master/src/main/resources/public/css");e="iconsdir";r=F;!1!==(K=r["$[]"](e))&&K!==a?K:r["$[]="](e,(null==(E=b.Object._scope.File)?b.cm("File"):
E).$join(F.$fetch("imagesdir","./images"),"icons"));if(!1!==z&&z!==a){if((e=x=f["$[]"]("extensions_registry"))===a||e._isBoolean&&1!=e)x=(e=(null==(r=b.Object._scope.Proc)?b.cm("Proc"):r)["$==="](J=f["$[]"]("extensions")))===a||e._isBoolean&&1!=e?g.Extensions._scope.Registry.$new():(e=(r=g.Extensions).$build_registry,e._p=J.$to_proc(),e).call(r);else if((e=!1!==(r=g.Extensions._scope.Registry["$==="](x))&&r!==a?r:(K=null==(E=b.Object._scope.RUBY_ENGINE_JRUBY)?b.cm("RUBY_ENGINE_JRUBY"):E,!1!==K&&K!==
a?(null==(E=b.Object._scope.AsciidoctorJ)?b.cm("AsciidoctorJ"):E)._scope.Extensions._scope.ExtensionRegistry["$==="](x):K))===a||e._isBoolean&&1!=e)x=g.Extensions._scope.Registry.$new();this.extensions=x.$activate(this)}return this.reader=g.PreprocessorReader.$new(this,c,g.Reader._scope.Cursor.$new(F["$[]"]("docfile"),this.base_dir))};p.$parse=function(b){var c,e,d,n,q,l=a,k=a;null==b&&(b=a);return(c=this.parsed)===a||c._isBoolean&&1!=c?(l=this,!1!==b&&b!==a&&(this.reader=g.PreprocessorReader.$new(l,
b,g.Reader._scope.Cursor.$new(this.attributes["$[]"]("docfile"),this.base_dir))),(c=(e=k=(d=this.parent_document)===a||d._isBoolean&&1!=d?this.extensions:a,!1!==e&&e!==a?k["$preprocessors?"]():e))===a||c._isBoolean&&1!=c||(c=(e=k.$preprocessors()).$each,c._p=(n=function(b){var c=n._s||this,e;null==c.reader&&(c.reader=a);null==b&&(b=a);return c.reader=!1!==(e=b.$process_method()["$[]"](l,c.reader))&&e!==a?e:c.reader},n._s=this,n),c).call(e),g.Parser.$parse(this.reader,l,v(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),
this.callouts.$rewind(),(c=(d=!1!==k&&k!==a)?k["$treeprocessors?"]():d)===a||c._isBoolean&&1!=c||(c=(d=k.$treeprocessors()).$each,c._p=(q=function(b){var c,e,f,d=a;null==b&&(b=a);return(c=(e=(f=d=b.$process_method()["$[]"](l),!1!==f&&f!==a?g.Document["$==="](d):f),!1!==e&&e!==a?d["$=="](l)["$!"]():e))===a||c._isBoolean&&1!=c?a:l=d},q._s=this,q),c).call(d),this.parsed=!0,l):this};p.$counter=function(b,c){var e,d,g=a,n=a;null==c&&(c=a);if((e=(d=g=(n=this.attributes["$[]"](b))["$nil_or_empty?"]()["$!"](),
!1!==d&&d!==a?this.counters["$key?"](b):d))===a||e._isBoolean&&1!=e)(e=c["$nil?"]())===a||e._isBoolean&&1!=e?c.$to_i().$to_s()["$=="](c)&&(c=c.$to_i()):c=this.$nextval(!1!==g&&g!==a?n:0),this.counters["$[]="](b,c);else this.counters["$[]="](b,this.$nextval(n));return this.attributes["$[]="](b,this.counters["$[]"](b))};p.$counter_increment=function(b,c){var e=a,e=this.$counter(b);g.AttributeEntry.$new(b,e).$save_to(c.$attributes());return e};p.$nextval=function(c){var f,e,d=a;return(f=(null==(e=b.Object._scope.Integer)?
b.cm("Integer"):e)["$==="](c))===a||f._isBoolean&&1!=f?(d=c.$to_i(),(f=d.$to_s()["$=="](c.$to_s())["$!"]())===a||f._isBoolean&&1!=f?d["$+"](1):c["$[]"](0).$ord()["$+"](1).$chr()):c["$+"](1)};p.$register=function(c,f){var e,d,g=a,g=c;return"ids"["$==="](g)?(e=(null==(d=b.Object._scope.Array)?b.cm("Array"):d)["$==="](f))===a||e._isBoolean&&1!=e?this.references["$[]"]("ids")["$[]="](f,"["["$+"](f)["$+"]("]")):this.references["$[]"]("ids")["$[]="](f["$[]"](0),!1!==(e=f["$[]"](1))&&e!==a?e:"["["$+"](f["$[]"](0))["$+"]("]")):
"footnotes"["$==="](g)||"indexterms"["$==="](g)?this.references["$[]"](c)["$<<"](f):(e=this.options["$[]"]("catalog_assets"))===a||e._isBoolean&&1!=e?a:this.references["$[]"](c)["$<<"](f)};p["$footnotes?"]=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()};p.$footnotes=function(){return this.references["$[]"]("footnotes")};p["$nested?"]=function(){return this.parent_document["$!"]()["$!"]()};p["$embedded?"]=function(){return this.attributes["$key?"]("embedded")};p["$extensions?"]=
function(){return this.extensions["$!"]()["$!"]()};p.$source=function(){var b;return(b=this.reader)===a||b._isBoolean&&1!=b?a:this.reader.$source()};p.$source_lines=function(){var b;return(b=this.reader)===a||b._isBoolean&&1!=b?a:this.reader.$source_lines()};p.$doctype=function(){var b;return!1!==(b=this.doctype)&&b!==a?b:this.doctype=this.attributes["$[]"]("doctype")};p.$backend=function(){var b;return!1!==(b=this.backend)&&b!==a?b:this.backend=this.attributes["$[]"]("backend")};p["$basebackend?"]=
function(a){return this.attributes["$[]"]("basebackend")["$=="](a)};p.$title=function(){return this.attributes["$[]"]("title")};p["$title="]=function(b){var c;!1!==(c=this.header)&&c!==a?c:this.header=g.Section.$new(this,0);return this.header["$title="](b)};p.$doctitle=function(b){var c,e,d=a,n=a;null==b&&(b=v([],{}));if((c=(d=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==a&&(!c._isBoolean||1==c))d=this.$title();else if((c=(e=n=this.$first_section(),!1!==e&&e!==a?n["$title?"]():
e))!==a&&(!c._isBoolean||1==c))d=n.$title();else if((c=(e=b["$[]"]("use_fallback"),!1!==e&&e!==a?d=this.attributes["$[]"]("untitled-label"):e))===a||c._isBoolean&&1!=c)return a;return(c=b["$[]"]("partition"))===a||c._isBoolean&&1!=c?(c=(e=b["$[]"]("sanitize"),!1!==e&&e!==a?d["$include?"]("<"):e))===a||c._isBoolean&&1!=c?d:d.$gsub(g.XmlSanitizeRx,"").$tr_s(" "," ").$strip():g.Title.$new(d,b)};b.defn(k,"$name",p.$doctitle);p.$author=function(){return this.attributes["$[]"]("author")};p.$revdate=function(){return this.attributes["$[]"]("revdate")};
p.$notitle=function(){var b;return b=this.attributes["$key?"]("showtitle")["$!"](),!1!==b&&b!==a?this.attributes["$key?"]("notitle"):b};p.$noheader=function(){return this.attributes["$key?"]("noheader")};p.$nofooter=function(){return this.attributes["$key?"]("nofooter")};p.$first_section=function(){var b,c,e,d;return(b=this["$has_header?"]())===a||b._isBoolean&&1!=b?(b=(c=!1!==(d=this.blocks)&&d!==a?d:[]).$detect,b._p=(e=function(b){null==b&&(b=a);return b.$context()["$=="]("section")},e._s=this,
e),b).call(c):this.header};p["$has_header?"]=function(){var b;return(b=this.header)===a||b._isBoolean&&1!=b?!1:!0};b.defn(k,"$header?",p["$has_header?"]);p["$<<"]=y=function(c){var f=d.call(arguments,0),e=y._p;y._p=null;b.find_super_dispatcher(this,"<<",y,e).apply(this,f);return c.$context()["$=="]("section")?this.$assign_index(c):a};p.$finalize_header=function(b,c){null==c&&(c=!0);this.$clear_playback_attributes(b);this.$save_attributes();if(!1===c||c===a)b["$[]="]("invalid-header",!0);return b};
p.$save_attributes=function(){var b,c,e,d,n=a,q=a,l=a,k=a,y=a,p=a,r=a,k=l=a;if((n=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((b=!1!==(c=this["$attribute_locked?"]("toc"))&&c!==a?c:this.attributes_modified["$include?"]("toc"))===a||b._isBoolean&&1!=b)n["$[]="]("toc","");if((b=!1!==(c=this["$attribute_locked?"]("sectnums"))&&c!==a?c:this.attributes_modified["$include?"]("sectnums"))===a||b._isBoolean&&1!=b)n["$[]="]("sectnums","")}if((b=!1!==(c=n["$key?"]("doctitle"))&&c!==a?c:(q=
this.$doctitle())["$!"]())===a||b._isBoolean&&1!=b)n["$[]="]("doctitle",q);if((b=this.id)===a||b._isBoolean&&1!=b)this.id=n["$[]"]("css-signature");l=(b=k=(c=n.$delete("toc2"))===a||c._isBoolean&&1!=c?n["$[]"]("toc"):"left")===a||b._isBoolean&&1!=b?a:(b=(c=y=n.$fetch("toc-placement","macro"),!1!==c&&c!==a?y["$=="]("auto")["$!"]():c))===a||b._isBoolean&&1!=b?n["$[]"]("toc-position"):y;if((b=(c=!1!==k&&k!==a)?!1!==(e=k["$empty?"]()["$!"]())&&e!==a?e:l["$nil_or_empty?"]()["$!"]():c)!==a&&(!b._isBoolean||
1==b)){p="left";r="toc2";l=(b=l["$nil_or_empty?"]()["$!"]())===a||b._isBoolean&&1!=b?(b=k["$empty?"]()["$!"]())===a||b._isBoolean&&1!=b?p:k:l;n["$[]="]("toc","");n["$[]="]("toc-placement","auto");k=l;if("left"["$==="](k)||"<"["$==="](k)||"&lt;"["$==="](k))n["$[]="]("toc-position","left");else if("right"["$==="](k)||">"["$==="](k)||"&gt;"["$==="](k))n["$[]="]("toc-position","right");else if("top"["$==="](k)||"^"["$==="](k))n["$[]="]("toc-position","top");else if("bottom"["$==="](k)||"v"["$==="](k))n["$[]="]("toc-position",
"bottom");else"preamble"["$==="](k)||"macro"["$==="](k)?(n["$[]="]("toc-position","content"),n["$[]="]("toc-placement",l)):n.$delete("toc-position"),r=a;!1!==r&&r!==a&&(b="toc-class",c=n,!1!==(e=c["$[]"](b))&&e!==a?e:c["$[]="](b,r))}if((b=n["$key?"]("compat-mode"))===a||b._isBoolean&&1!=b)this.compat_mode=!1;else{if((b=n["$has_key?"]("language"))!==a&&(!b._isBoolean||1==b))n["$[]="]("source-language",n["$[]"]("language"));this.compat_mode=!0}this.original_attributes=n.$dup();return(b=this["$nested?"]())===
a||b._isBoolean&&1!=b?(b=(c=g.FLEXIBLE_ATTRIBUTES).$each,b._p=(d=function(b){var c=d._s||this,e,f;null==c.attribute_overrides&&(c.attribute_overrides=a);null==b&&(b=a);return(e=(f=c.attribute_overrides["$key?"](b),!1!==f&&f!==a?c.attribute_overrides["$[]"](b):f))===a||e._isBoolean&&1!=e?a:c.attribute_overrides.$delete(b)},d._s=this,d),b).call(c):a};p.$restore_attributes=function(){return this.attributes=this.original_attributes};p.$clear_playback_attributes=function(a){return a.$delete("attribute_entries")};
p.$playback_attributes=function(b){var c,e,d;return(c=b["$key?"]("attribute_entries"))===a||c._isBoolean&&1!=c?a:(c=(e=b["$[]"]("attribute_entries")).$each,c._p=(d=function(b){var c=d._s||this,e,f=a;null==c.attributes&&(c.attributes=a);null==b&&(b=a);f=b.$name();if((e=b.$negate())===a||e._isBoolean&&1!=e)return c.attributes["$[]="](f,b.$value()),f["$=="]("compat-mode")?c.compat_mode=!0:a;c.attributes.$delete(f);return f["$=="]("compat-mode")?c.compat_mode=!1:a},d._s=this,d),c).call(e)};p.$set_attribute=
function(b,c){var e,d=a;if((e=this["$attribute_locked?"](b))===a||e._isBoolean&&1!=e){d=b;if("backend"["$==="](d))this.$update_backend_attributes(this.$apply_attribute_value_subs(c));else if("doctype"["$==="](d))this.$update_doctype_attributes(this.$apply_attribute_value_subs(c));else this.attributes["$[]="](b,this.$apply_attribute_value_subs(c));this.attributes_modified["$<<"](b);return!0}return!1};p.$delete_attribute=function(b){var c;return(c=this["$attribute_locked?"](b))===a||c._isBoolean&&1!=
c?(this.attributes.$delete(b),this.attributes_modified["$<<"](b),!0):!1};p["$attribute_locked?"]=function(a){return this.attribute_overrides["$key?"](a)};p.$apply_attribute_value_subs=function(b){var c,e=a,d=a;if((c=e=g.AttributeEntryPassMacroRx.$match(b))===a||c._isBoolean&&1!=c)return this.$apply_header_subs(b);if((c=e["$[]"](1)["$empty?"]()["$!"]())===a||c._isBoolean&&1!=c)return e["$[]"](2);d=this.$resolve_pass_subs(e["$[]"](1));return(c=d["$empty?"]())===a||c._isBoolean&&1!=c?this.$apply_subs(e["$[]"](2),
d):e["$[]"](2)};p.$update_backend_attributes=function(b,c){var e,d,n,q=a,l=a,k=a,y=a,p=a,r=l=a,u=a,v=a,r=a;null==c&&(c=!1);if((e=!1!==(d=c)&&d!==a?d:(n=!1!==b&&b!==a)?b["$=="](this.attributes["$[]"]("backend"))["$!"]():n)===a||e._isBoolean&&1!=e)return a;q=this.attributes;l=q["$[]"]("backend");k=q["$[]"]("basebackend");y=q["$[]"]("doctype");if((e=b["$start_with?"]("xhtml"))!==a&&(!e._isBoolean||1==e))q["$[]="]("htmlsyntax","xml"),b=b["$[]"](w(1,-1,!1));else if((e=b["$start_with?"]("html"))!==a&&(!e._isBoolean||
1==e))q["$[]="]("htmlsyntax","html");(e=p=g.BACKEND_ALIASES["$[]"](b))===a||e._isBoolean&&1!=e||(b=p);!1!==l&&l!==a&&(q.$delete("backend-"+l),!1!==y&&y!==a&&q.$delete("backend-"+l+"-doctype-"+y));!1!==y&&y!==a&&(q["$[]="]("doctype-"+y,""),q["$[]="]("backend-"+b+"-doctype-"+y,""));q["$[]="]("backend",b);q["$[]="]("backend-"+b,"");if((e=g.Converter._scope.BackendInfo["$==="](this.converter=this.$create_converter()))===a||e._isBoolean&&1!=e){if(l=b.$sub(g.TrailingDigitsRx,""),u=!1!==(e=g.DEFAULT_EXTENSIONS["$[]"](l))&&
e!==a?e:".html",r=u["$[]"](w(1,-1,!1)),(e=this["$attribute_locked?"]("outfilesuffix"))===a||e._isBoolean&&1!=e)q["$[]="]("outfilesuffix",u)}else{l=this.converter.$basebackend();if((e=this["$attribute_locked?"]("outfilesuffix"))===a||e._isBoolean&&1!=e)q["$[]="]("outfilesuffix",this.converter.$outfilesuffix());r=this.converter.$filetype()}(e=v=q["$[]"]("filetype"))===a||e._isBoolean&&1!=e||q.$delete("filetype-"+v);q["$[]="]("filetype",r);q["$[]="]("filetype-"+r,"");if((e=r=g.DEFAULT_PAGE_WIDTHS["$[]"](l))===
a||e._isBoolean&&1!=e)q.$delete("pagewidth");else q["$[]="]("pagewidth",r);if((e=l["$=="](k)["$!"]())!==a&&(!e._isBoolean||1==e)&&(!1!==k&&k!==a&&(q.$delete("basebackend-"+k),!1!==y&&y!==a&&q.$delete("basebackend-"+k+"-doctype-"+y)),q["$[]="]("basebackend",l),q["$[]="]("basebackend-"+l,""),!1!==y&&y!==a))q["$[]="]("basebackend-"+l+"-doctype-"+y,"");return this.backend=a};p.$update_doctype_attributes=function(b){var c,e,d=a,g=a,n=a,q=a;if((c=(e=!1!==b&&b!==a)?b["$=="](this.attributes["$[]"]("doctype"))["$!"]():
e)===a||c._isBoolean&&1!=c)return a;d=this.attributes;g=d["$[]"]("doctype");n=d["$[]"]("backend");q=d["$[]"]("basebackend");!1!==g&&g!==a&&(d.$delete("doctype-"+g),!1!==n&&n!==a&&d.$delete("backend-"+n+"-doctype-"+g),!1!==q&&q!==a&&d.$delete("basebackend-"+q+"-doctype-"+g));d["$[]="]("doctype",b);d["$[]="]("doctype-"+b,"");if(!1!==n&&n!==a)d["$[]="]("backend-"+n+"-doctype-"+b,"");if(!1!==q&&q!==a)d["$[]="]("basebackend-"+q+"-doctype-"+b,"");return this.doctype=a};p.$create_converter=function(){var c,
f=a,e=a,d=a,n=a,q=a,f=v([],{});f["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));e=(c=d=this.options["$[]"]("template_dir"))===a||c._isBoolean&&1!=c?(c=e=this.options["$[]"]("template_dirs"))===a||c._isBoolean&&1!=c?a:f["$[]="]("template_dirs",e):f["$[]="]("template_dirs",[d]);!1!==e&&e!==a&&(f["$[]="]("template_cache",this.options.$fetch("template_cache",!0)),f["$[]="]("template_engine",this.options["$[]"]("template_engine")),f["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),
f["$[]="]("eruby",this.options["$[]"]("eruby")));q=(c=n=this.options["$[]"]("converter"))===a||c._isBoolean&&1!=c?g.Converter._scope.Factory.$default(!1):g.Converter._scope.Factory.$new((null==(c=b.Object._scope.Hash)?b.cm("Hash"):c)["$[]"](this.$backend(),n));return q.$create(this.$backend(),f)};p.$convert=function(b){var c,e,d,n=a,q=a,l=a,k=a;null==b&&(b=v([],{}));((c=this.parsed)===a||c._isBoolean&&1!=c)&&this.$parse();this.$restore_attributes();if((c=!1!==(e=this.safe["$>="](g.SafeMode._scope.SERVER))&&
e!==a?e:b["$empty?"]())===a||c._isBoolean&&1!=c)((c=this.attributes["$[]="]("outfile",b["$[]"]("outfile")))===a||c._isBoolean&&1!=c)&&this.attributes.$delete("outfile"),((c=this.attributes["$[]="]("outdir",b["$[]"]("outdir")))===a||c._isBoolean&&1!=c)&&this.attributes.$delete("outdir");((c=this.converter)===a||c._isBoolean&&1!=c)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?q=(c=(e=n=this.blocks["$[]"](0),
!1!==e&&e!==a?n.$content_model()["$=="]("compound")["$!"]():e))===a||c._isBoolean&&1!=c?"":n.$content():(l=(c=(e=b["$key?"]("header_footer"))===a||e._isBoolean&&1!=e?this.options["$[]"]("header_footer"):b["$[]"]("header_footer"))===a||c._isBoolean&&1!=c?"embedded":"document",q=this.converter.$convert(this,l));!((c=this.parent_document)===a||c._isBoolean&&1!=c)||(c=(e=k=this.extensions,!1!==e&&e!==a?k["$postprocessors?"]():e))===a||c._isBoolean&&1!=c||(c=(e=k.$postprocessors()).$each,c._p=(d=function(b){var c=
d._s||this;null==b&&(b=a);return q=b.$process_method()["$[]"](c,q)},d._s=this,d),c).call(e);return q};b.defn(k,"$render",p.$convert);p.$write=function(c,f){var e,d,n,q;return(e=g.Writer["$==="](this.converter))===a||e._isBoolean&&1!=e?((e=f["$respond_to?"]("write"))===a||e._isBoolean&&1!=e?(e=(d=null==(q=b.Object._scope.File)?b.cm("File"):q).$open,e._p=(n=function(b){null==b&&(b=a);return b.$write(c)},n._s=this,n),e).call(d,f,"w"):(f.$write(c.$chomp()),f.$write(g.EOL)),a):this.converter.$write(c,
f)};p.$content=n=function(){var a=d.call(arguments,0),c=n._p;n._p=null;this.attributes.$delete("title");return b.find_super_dispatcher(this,"content",n,c).apply(this,a)};p.$docinfo=function(b,c){var e,d,n,q,l=a,k=a,y=a,p=a,r=a,u=a,k=k=r=l=a;null==b&&(b="header");null==c&&(c=a);if(this.$safe()["$>="](g.SafeMode._scope.SECURE))return"";l=b["$=="]("footer")?"-footer":a;if(!1===c||c===a)c=this.attributes["$[]"]("outfilesuffix");k=this.attributes["$[]"]("docinfodir");y=a;p=this.attributes["$key?"]("docinfo");
r=this.attributes["$key?"]("docinfo1");u=this.attributes["$key?"]("docinfo2");l="docinfo"+l+c;(e=!1!==(d=r)&&d!==a?d:u)===a||e._isBoolean&&1!=e||(r=this.$normalize_system_path(l,k),(e=y=this.$read_asset(r,v(["normalize"],{normalize:!0})))===a||e._isBoolean&&1!=e||(y=this.$sub_attributes(y)));(e=(d=!1!==(n=p)&&n!==a?n:u,!1!==d&&d!==a?this.attributes["$key?"]("docname"):d))===a||e._isBoolean&&1!=e||(r=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+l,k),(e=k=this.$read_asset(r,
v(["normalize"],{normalize:!0})))===a||e._isBoolean&&1!=e||(k=this.$sub_attributes(k),y=!1!==y&&y!==a?""+y+g.EOL+k:k));(e=(d=this.extensions,!1!==d&&d!==a?this["$docinfo_processors?"](b):d))===a||e._isBoolean&&1!=e||(k=(e=(d=this.docinfo_processor_extensions["$[]"](b)).$map,e._p=(q=function(b){var c=q._s||this;null==b&&(b=a);return b.$process_method()["$[]"](c)},q._s=this,q),e).call(d).$compact()["$*"](g.EOL),y=!1!==y&&y!==a?""+y+g.EOL+k:k);return""+y};p["$docinfo_processors?"]=function(b){var c,
e;null==b&&(b="header");return(c=this.docinfo_processor_extensions["$key?"](b))===a||c._isBoolean&&1!=c?(c=(e=this.extensions,!1!==e&&e!==a?this.document.$extensions()["$docinfo_processors?"](b):e))===a||c._isBoolean&&1!=c?this.docinfo_processor_extensions["$[]="](b,!1):this.docinfo_processor_extensions["$[]="](b,this.document.$extensions().$docinfo_processors(b))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](b)["$=="](!1)["$!"]()};return(p.$to_s=function(){var b;return"#<"+this.$class()+
"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((b=this.header["$=="](a)["$!"]())===a||b._isBoolean&&1!=b?a:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"},a)&&"to_s"})(x,x._scope.AbstractBlock)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2;return function(v){v=d(v,"Asciidoctor");(function(d,$super){function u(){}var t=u=r(d,$super,"Inline",u),l=t._proto,k;t.$attr_reader("text");t.$attr_reader("type");t.$attr_accessor("target");l.$initialize=k=function(d,g,c,q){var l,n=a;null==c&&(c=a);null==q&&(q=z([],{}));k._p=null;b.find_super_dispatcher(this,"initialize",k,null).apply(this,[d,g]);this.node_name="inline_"+g;this.text=c;this.id=q["$[]"]("id");this.type=q["$[]"]("type");this.target=
q["$[]"]("target");return(l=(n=q["$[]"]("attributes"))["$nil_or_empty?"]())===a||l._isBoolean&&1!=l?this.$update_attributes(n):a};l["$block?"]=function(){return!1};l["$inline?"]=function(){return!0};l.$convert=function(){return this.$converter().$convert(this)};return b.defn(t,"$render",l.$convert)})(v,v._scope.AbstractNode)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.slice,r=b.module,z=b.klass;return function(v){v=r(v,"Asciidoctor");var w=v._scope;(function(r,$super){function t(){}var l=t=z(r,$super,"List",t),k=l._proto,p,g;k.blocks=k.context=k.document=k.style=a;b.defn(l,"$items",k.$blocks);b.defn(l,"$items?",k["$blocks?"]);k.$initialize=p=function(a,g){var l=d.call(arguments,0),n=p._p;p._p=null;return b.find_super_dispatcher(this,"initialize",p,n).apply(this,l)};k.$content=function(){return this.blocks};k.$convert=g=function(){var c=
d.call(arguments,0),q=g._p,l=a;g._p=null;return this.context["$=="]("colist")?(l=b.find_super_dispatcher(this,"convert",g,q).apply(this,c),this.document.$callouts().$next_list(),l):b.find_super_dispatcher(this,"convert",g,q).apply(this,c)};b.defn(l,"$render",k.$convert);return(k.$to_s=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},a)&&"to_s"})(v,w.AbstractBlock);(function(d,$super){function r(){}
var l=r=z(d,$super,"ListItem",r),k=l._proto,p=l._scope,g;k.text=k.blocks=a;l.$attr_accessor("marker");k.$initialize=g=function(c,d){null==d&&(d=a);g._p=null;b.find_super_dispatcher(this,"initialize",g,null).apply(this,[c,"list_item"]);this.text=d;return this.level=c.$level()};k["$text?"]=function(){return this.text["$nil_or_empty?"]()["$!"]()};k.$text=function(){return this.$apply_subs(this.text)};k.$fold_first=function(b,d){var g,n,h,f,e,m,l=a,k=a;null==b&&(b=!1);null==d&&(d=!1);(g=(n=(h=l=this.blocks["$[]"](0),
!1!==h&&h!==a?l["$is_a?"](p.Block):h),!1!==n&&n!==a?!1!==(h=(f=l.$context()["$=="]("paragraph"))?b["$!"]():f)&&h!==a?h:(f=(e=!1!==(m=d)&&m!==a?m:b["$!"](),!1!==e&&e!==a?l.$context()["$=="]("literal"):e),!1!==f&&f!==a?l["$option?"]("listparagraph"):f):n))===a||g._isBoolean&&1!=g||(k=this.$blocks().$shift(),((g=this.text["$nil_or_empty?"]())===a||g._isBoolean&&1!=g)&&k.$lines().$unshift(this.text),this.text=k.$source());return a};return(k.$to_s=function(){var b;return"#<"+this.$class()+"@"+this.$object_id()+
" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(b=this.blocks)&&b!==a?b:[]).$size()+"}>"},a)&&"to_s"})(v,w.AbstractBlock)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.breaker,r=b.module,z=b.klass,v=b.hash2,w=b.range,x=b.gvars;return function(u){(function(r,$super){function k(){}var p=k=z(r,$super,"Parser",k),g=p._proto,c=p._scope;b.cdecl(c,"BlockMatchData",c.Struct.$new("context","masq","tip","terminator"));g.$initialize=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")};b.defs(p,"$parse",function(c,d,g){var h,f,e=a,m=a;null==g&&(g=v([],{}));e=this.$parse_document_header(c,d);if((h=
g["$[]"]("header_only"))===a||h._isBoolean&&1!=h)for(;(f=c["$has_more_lines?"]())!==a&&(!f._isBoolean||1==f);)if(f=b.to_ary(this.$next_section(c,d,e)),m=null==f[0]?a:f[0],e=null==f[1]?a:f[1],!1!==m&&m!==a)d["$<<"](m);return d});b.defs(p,"$parse_document_header",function(c,d){var g,h,f=a,e=a,m=a,k=a,p=a,r=k=a,f=this.$parse_block_metadata_lines(c,d);if((g=f["$has_key?"]("title"))!==a&&(!g._isBoolean||1==g))return d.$finalize_header(f,!1);e=a;if((g=(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===
a||g._isBoolean&&1!=g)d["$title="](m),e=m;k=a;if((g=this["$is_next_line_document_title?"](c,f))!==a&&(!g._isBoolean||1==g)){(g=d.$sourcemap())===a||g._isBoolean&&1!=g||(p=c.$cursor());g=b.to_ary(this.$parse_section_title(c,d));d["$id="](null==g[0]?a:g[0]);k=null==g[2]?a:g[2];r=null==g[4]?a:g[4];if(!1===e||e===a)d["$title="](k),e=k;!1!==r&&r!==a||d.$set_attribute("compat-mode","");if(!1!==p&&p!==a)d.$header()["$source_location="](p);d.$attributes()["$[]="]("doctitle",k);if((g=d.$id())===a||g._isBoolean&&
1!=g)d["$id="](f.$delete("id"));this.$parse_header_metadata(c,d)}(g=(h=(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]()["$!"](),!1!==h&&h!==a?m["$=="](k)["$!"]():h))===a||g._isBoolean&&1!=g||(d["$title="](m),e=m);if(!1!==e&&e!==a)d.$attributes()["$[]="]("doctitle",e);d.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,d);return d.$finalize_header(f)});b.defs(p,"$parse_manpage_header",function(b,d){var g,h=a,h=h=a;(g=h=c.ManpageTitleVolnumRx.$match(d.$attributes()["$[]"]("doctitle")))===
a||g._isBoolean&&1!=g?this.$warn("asciidoctor: ERROR: "+b.$prev_line_info()+": malformed manpage title"):(d.$attributes()["$[]="]("mantitle",d.$sub_attributes(h["$[]"](1).$rstrip().$downcase())),d.$attributes()["$[]="]("manvolnum",h["$[]"](2).$strip()));b.$skip_blank_lines();if((g=this["$is_next_line_section?"](b,v([],{})))===a||g._isBoolean&&1!=g)return this.$warn("asciidoctor: ERROR: "+b.$prev_line_info()+": name section expected");h=this.$initialize_section(b,d,v([],{}));if(h.$level()["$=="](1)){h=
b.$read_lines_until(v(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((g=h=c.ManpageNamePurposeRx.$match(h))===a||g._isBoolean&&1!=g)return this.$warn("asciidoctor: ERROR: "+b.$prev_line_info()+": malformed name section body");d.$attributes()["$[]="]("manname",d.$sub_attributes(h["$[]"](1)));d.$attributes()["$[]="]("manpurpose",h["$[]"](2));return d.$backend()["$=="]("manpage")?(d.$attributes()["$[]="]("docname",d.$attributes()["$[]"]("manname")),d.$attributes()["$[]="]("outfilesuffix",
"."+d.$attributes()["$[]"]("manvolnum"))):a}return this.$warn("asciidoctor: ERROR: "+b.$prev_line_info()+": name section title must be at level 1")});b.defs(p,"$next_section",function(d,g,n){var h,f,e,m,k=a,p=a,r=a,t=a,u=a,w=a,G=a,x=a,E=G=a,z=E=E=a,B=a,u=p=a;null==n&&(n=v([],{}));r=p=k=!1;if((h=(f=(e=g.$context()["$=="]("document"))?g.$blocks()["$empty?"]():e,!1!==f&&f!==a?!1!==(e=!1!==(m=t=g["$has_header?"]())&&m!==a?m:n.$delete("invalid-header"))&&e!==a?e:this["$is_next_line_section?"](d,n)["$!"]():
f))===a||h._isBoolean&&1!=h)u=g.$document().$doctype(),w=this.$initialize_section(d,g,n),n=(h=G=n["$[]"]("title"))===a||h._isBoolean&&1!=h?v([],{}):v(["title"],{title:G}),G=w.$level(),(h=(f=G["$=="](0))?u["$=="]("book"):f)===a||h._isBoolean&&1!=h?x=[G["$+"](1)]:(p=w.$special()["$!"](),x=(h=(f=w.$special(),!1!==f&&f!==a?["preface","appendix"]["$include?"](w.$sectname()):f))===a||h._isBoolean&&1!=h?[G["$+"](1)]:[G["$+"](2)]);else{u=g.$doctype();if((h=!1!==(f=t)&&f!==a?f:(e=u["$=="]("book"))?n["$[]"](1)["$=="]("abstract")["$!"]():
e)!==a&&(!h._isBoolean||1==h)){k=r=c.Block.$new(g,"preamble",v(["content_model"],{content_model:"compound"}));if((h=(f=u["$=="]("book"))?g["$attr?"]("preface-title"):f)!==a&&(!h._isBoolean||1==h))k["$title="](g.$attr("preface-title"));g["$<<"](k)}w=g;G=0;x=(h=g.$attributes()["$has_key?"]("fragment"))===a||h._isBoolean&&1!=h?u["$=="]("book")?[0,1]:[1]:a}for(d.$skip_blank_lines();(f=d["$has_more_lines?"]())!==a&&(!f._isBoolean||1==f);){this.$parse_block_metadata_lines(d,w,n);if((f=E=this["$is_next_line_section?"](d,
n))===a||f._isBoolean&&1!=f)(E=d.$line_info(),(f=z=this.$next_block(d,!1!==(e=r)&&e!==a?e:w,n,v(["parse_metadata"],{parse_metadata:!1})))===a||f._isBoolean&&1!=f)||(!1!==p&&p!==a&&((f=w["$blocks?"]()["$!"]())===a||f._isBoolean&&1!=f?w.$blocks().$size()["$=="](1)&&((B=w.$blocks()["$[]"](0),(f=(e=r["$!"](),!1!==e&&e!==a?B.$content_model()["$=="]("compound"):e))===a||f._isBoolean&&1!=f)?(f=B.$content_model()["$=="]("compound")["$!"]())===a||f._isBoolean&&1!=f||(r=c.Block.$new(w,"open",v(["content_model"],
{content_model:"compound"})),r["$style="]("partintro"),w.$blocks().$shift(),B.$style()["$=="]("partintro")&&(B["$context="]("paragraph"),B["$style="](a)),B["$parent="](r),r["$<<"](B),z["$parent="](r),w["$<<"](r)):this.$warn("asciidoctor: ERROR: "+E+": illegal block content outside of partintro block")):(f=z.$style()["$=="]("partintro")["$!"]())===a||f._isBoolean&&1!=f||(z.$context()["$=="]("paragraph")?(z["$context="]("open"),z["$style="]("partintro")):(r=c.Block.$new(w,"open",v(["content_model"],
{content_model:"compound"})),r["$style="]("partintro"),z["$parent="](r),w["$<<"](r)))),(!1!==(f=r)&&f!==a?f:w)["$<<"](z),n=v([],{}));else if(E=E["$+"](w.$document().$attr("leveloffset",0).$to_i()),(f=!1!==(e=E["$>"](G))&&e!==a?e:(m=w.$context()["$=="]("document"))?E["$=="](0):m)===a||f._isBoolean&&1!=f){(f=(e=E["$=="](0))?u["$=="]("book")["$!"]():e)===a||f._isBoolean&&1!=f||this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections");break}else(f=(e=E["$=="](0))?
u["$=="]("book")["$!"]():e)===a||f._isBoolean&&1!=f?(f=(e=!1!==x&&x!==a)?x["$include?"](E)["$!"]():e)===a||f._isBoolean&&1!=f||this.$warn(("asciidoctor: WARNING: "+d.$line_info()+": section title out of sequence: ")["$+"]("expected "+(x.$size()["$>"](1)?"levels":"level")+" "+x["$*"](" or ")+", ")["$+"]("got level "+E)):this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections"),f=b.to_ary(this.$next_section(d,w,n)),E=null==f[0]?a:f[0],n=null==f[1]?a:f[1],
w["$<<"](E);d.$skip_blank_lines()}if(!1!==p&&p!==a)((h=(f=w["$blocks?"](),!1!==f&&f!==a?w.$blocks()["$[]"](-1).$context()["$=="]("section"):f))===a||h._isBoolean&&1!=h)&&this.$warn("asciidoctor: ERROR: "+d.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==k&&k!==a)if(p=g,(h=k["$blocks?"]())===a||h._isBoolean&&1!=h)p.$blocks().$shift();else if((h=(f=(e=c.Compliance.$unwrap_standalone_preamble(),!1!==e&&e!==a?p.$blocks().$size()["$=="](1):e),
!1!==f&&f!==a?u["$=="]("book")["$!"]():f))!==a&&(!h._isBoolean||1==h))for(p.$blocks().$shift();(f=u=k.$blocks().$shift())!==a&&(!f._isBoolean||1==f);)u["$parent="](p),p["$<<"](u);return[(h=w["$=="](g)["$!"]())===a||h._isBoolean&&1!=h?a:w,n.$dup()]});b.defs(p,"$next_block",function(d,g,n,h){var f,e,m,k,p,r,t,u,x,G,K,E,z,B,M,A,F,D,J,I=a,O=a,ca=a,P=a,Z=a,ba=a,Q=a,ga=a,C=a,R=a,na=a,ra=a,la=a,S=a,L=a,N=a,ja=a,fa=a,ea=a,ka=a,da=a,ia=L=ea=L=a,ha=ea=L=C=C=a,oa=a,ma=ha=ea=L=C=ha=a,W=a,pa=C=a,ta=L=L=C=C=a,
qa=S=N=L=a,ua=a,va=a,wa=S=N=N=a,sa=I=a,xa=a;null==n&&(n=v([],{}));null==h&&(h=v([],{}));I=d.$skip_blank_lines();if((f=d["$has_more_lines?"]())===a||f._isBoolean&&1!=f)return a;(f=(e=O=h["$[]"]("text"),!1!==e&&e!==a?I["$>"](0):e))===a||f._isBoolean&&1!=f||(h.$delete("text"),O=!1);ca=h.$fetch("parse_metadata",!0);P=g.$document();(f=Z=P.$extensions())===a||f._isBoolean&&1!=f?ba=Q=!1:(ba=Z["$blocks?"](),Q=Z["$block_macros?"]());ga=g["$is_a?"](c.List);na=R=C=a;ra=P.$sourcemap();for(la=a;(e=(m=C["$!"](),
!1!==m&&m!==a?d["$has_more_lines?"]():m))!==a&&(!e._isBoolean||1==e);)if((e=(m=!1!==ca&&ca!==a)?this.$parse_block_metadata_line(d,P,n,h):m)===a||e._isBoolean&&1!=e){!1!==ra&&ra!==a&&(la=d.$cursor());S=d.$read_line();L=!1;fa=ja=N=a;(e=n["$[]"](1))===a||e._isBoolean&&1!=e||(e=b.to_ary(this.$parse_style_attribute(n,d)),R=null==e[0]?a:e[0],na=null==e[1]?a:e[1]);(e=ea=this["$is_delimited_block?"](S,!0))===a||e._isBoolean&&1!=e||((L=!0,N=ja=ea.$context(),fa=ea.$terminator(),(e=R["$!"]())===a||e._isBoolean&&
1!=e)?(e=R["$=="](N.$to_s())["$!"]())===a||e._isBoolean&&1!=e||((e=ea.$masq()["$include?"](R))===a||e._isBoolean&&1!=e?(e=(m=ea.$masq()["$include?"]("admonition"),!1!==m&&m!==a?c.ADMONITION_STYLES["$include?"](R):m))===a||e._isBoolean&&1!=e?(e=(m=!1!==ba&&ba!==a)?Z["$registered_for_block?"](R,N):m)===a||e._isBoolean&&1!=e?(this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for "+N+" block: "+R),R=N.$to_s()):N=R.$to_sym():N="admonition":N=R.$to_sym()):R=n["$[]="]("style",N.$to_s()));
if(!1===L||L===a)for(;(m=!0)!==a&&(!m._isBoolean||1==m);){if((m=(k=(p=!1!==R&&R!==a)?c.Compliance.$strict_verbatim_paragraphs():p,!1!==k&&k!==a?c.VERBATIM_STYLES["$include?"](R):k))!==a&&(!m._isBoolean||1==m)){N=R.$to_sym();d.$unshift_line(S);break}if(!1===O||O===a)if(ka=(m=c.Compliance.$markdown_syntax())===a||m._isBoolean&&1!=m?S.$chr():S.$lstrip().$chr(),(m=(k=(p=c.LAYOUT_BREAK_LINES["$has_key?"](ka),!1!==p&&p!==a?S.$length()["$>="](3):p),!1!==k&&k!==a?((p=c.Compliance.$markdown_syntax())===a||
p._isBoolean&&1!=p?c.LayoutBreakLineRx:c.LayoutBreakLinePlusRx)["$=~"](S):k))!==a&&(!m._isBoolean||1==m)){C=c.Block.$new(g,c.LAYOUT_BREAK_LINES["$[]"](ka),v(["content_model"],{content_model:"empty"}));break}else if((m=(k=S["$end_with?"]("]"),!1!==k&&k!==a?da=c.MediaBlockMacroRx.$match(S):k))!==a&&(!m._isBoolean||1==m)){L=da["$[]"](1).$to_sym();C=c.Block.$new(g,L,v(["content_model"],{content_model:"empty"}));ea=L["$=="]("image")?["alt","width","height"]:L["$=="]("video")?["poster","width","height"]:
[];if((m=!1!==(k=R["$!"]())&&k!==a?k:na)===a||m._isBoolean&&1!=m){if(L["$=="]("image"))n["$[]="]("alt",R);n.$delete("style");R=a}C.$parse_attributes(da["$[]"](3),ea,v(["unescape_input","sub_input","sub_result","into"],{unescape_input:L["$=="]("image"),sub_input:!0,sub_result:!1,into:n}));L=C.$sub_attributes(da["$[]"](2),v(["attribute_missing"],{attribute_missing:"drop-line"}));if((m=L["$empty?"]())!==a&&(!m._isBoolean||1==m)){if(P.$attributes().$fetch("attribute-missing",c.Compliance.$attribute_missing())["$=="]("skip"))return c.Block.$new(g,
"paragraph",v(["content_model","source"],{content_model:"simple",source:[S]}));n.$clear();return a}n["$[]="]("target",L);break}else if((m=(k=ka["$=="]("t"))?da=c.TocBlockMacroRx.$match(S):k)!==a&&(!m._isBoolean||1==m)){C=c.Block.$new(g,"toc",v(["content_model"],{content_model:"empty"}));C.$parse_attributes(da["$[]"](1),[],v(["sub_result","into"],{sub_result:!1,into:n}));break}else if((m=(k=(p=!1!==Q&&Q!==a)?da=c.GenericBlockMacroRx.$match(S):p,!1!==k&&k!==a?ia=Z["$registered_for_block_macro?"](da["$[]"](1)):
k))!==a&&(!m._isBoolean||1==m)){L=da["$[]"](2);C=da["$[]"](3);if(ia.$config()["$[]"]("content_model")["$=="]("attributes"))((m=C["$empty?"]())===a||m._isBoolean&&1!=m)&&P.$parse_attributes(C,!1!==(m=ia.$config()["$[]"]("pos_attrs"))&&m!==a?m:[],v(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:n}));else n["$[]="]("text",C);(m=C=ia.$config()["$[]"]("default_attrs"))===a||m._isBoolean&&1!=m||(m=(k=C).$each,m._p=(r=function(b,c){var e,f,d;null==b&&(b=a);null==c&&(c=a);return e=b,f=
n,!1!==(d=f["$[]"](e))&&d!==a?d:f["$[]="](e,c)},r._s=this,r),m).call(k);if((m=C=ia.$process_method()["$[]"](g,L,n.$dup()))===a||m._isBoolean&&1!=m)return n.$clear(),a;n.$replace(C.$attributes());break}if((m=da=c.CalloutListRx.$match(S))!==a&&(!m._isBoolean||1==m)){C=c.List.$new(g,"colist");n["$[]="]("style","arabic");d.$unshift_line(S);for(L=1;(p=(t=d["$has_more_lines?"](),!1!==t&&t!==a?da=c.CalloutListRx.$match(d.$peek_line()):t))!==a&&(!p._isBoolean||1==p);)if((p=da["$[]"](1).$to_i()["$=="](L)["$!"]())===
a||p._isBoolean&&1!=p||this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+d.$lineno()["$-"](2)+": callout list item index: expected "+L+" got "+da["$[]"](1)),ea=this.$next_list_item(d,C,da),L=L["$+"](1),!1!==ea&&ea!==a)if(C["$<<"](ea),ha=P.$callouts().$callout_ids(C.$items().$size()),(p=ha["$empty?"]()["$!"]())===a||p._isBoolean&&1!=p)this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+d.$lineno()["$-"](2)+": no callouts refer to list item "+C.$items().$size());else ea.$attributes()["$[]="]("coids",
ha);P.$callouts().$next_list();break}else if((m=c.UnorderedListRx["$=~"](S))!==a&&(!m._isBoolean||1==m)){d.$unshift_line(S);C=this.$next_outline_list(d,"ulist",g);break}else if((m=da=c.OrderedListRx.$match(S))!==a&&(!m._isBoolean||1==m)){d.$unshift_line(S);C=this.$next_outline_list(d,"olist",g);if((m=(p=n["$[]"]("style")["$!"](),!1!==p&&p!==a?C.$attributes()["$[]"]("style")["$!"]():p))!==a&&(!m._isBoolean||1==m))if(oa=C.$items()["$[]"](0).$marker(),(m=oa["$start_with?"]("."))===a||m._isBoolean&&1!=
m)R=(m=(p=c.ORDERED_LIST_STYLES).$detect,m._p=(u=function(b){null==b&&(b=a);return c.OrderedListMarkerRxMap["$[]"](b)["$=~"](oa)},u._s=this,u),m).call(p),n["$[]="]("style",(!1!==(m=R)&&m!==a?m:c.ORDERED_LIST_STYLES["$[]"](0)).$to_s());else n["$[]="]("style",(!1!==(m=c.ORDERED_LIST_STYLES["$[]"](oa.$length()["$-"](1)))&&m!==a?m:c.ORDERED_LIST_STYLES["$[]"](0)).$to_s());break}else if((m=da=c.DefinitionListRx.$match(S))!==a&&(!m._isBoolean||1==m)){d.$unshift_line(S);C=this.$next_labeled_list(d,da,g);
break}else if((m=(t=!1!==(x=R["$=="]("float"))&&x!==a?x:R["$=="]("discrete"),!1!==t&&t!==a?this["$is_section_title?"](S,(x=c.Compliance.$underline_style_section_titles())===a||x._isBoolean&&1!=x?a:d.$peek_line(!0)):t))!==a&&(!m._isBoolean||1==m)){d.$unshift_line(S);m=b.to_ary(this.$parse_section_title(d,P));ha=null==m[0]?a:m[0];C=null==m[1]?a:m[1];L=null==m[2]?a:m[2];ea=null==m[3]?a:m[3];if(!1!==C&&C!==a)n["$[]="]("reftext",C);(m=n["$has_key?"]("id"))===a||m._isBoolean&&1!=m||(!1!==(m=ha)&&m!==a?
m:ha=n["$[]"]("id"));C=c.Block.$new(g,"floating_title",v(["content_model"],{content_model:"empty"}));if((m=ha["$nil_or_empty?"]())===a||m._isBoolean&&1!=m)C["$id="](ha);else ha=c.Section.$new(g),ha["$title="](L),C["$id="](ha.$generate_id());C["$level="](ea);C["$title="](L);break}else if((m=(t=!1!==R&&R!==a)?R["$=="]("normal")["$!"]():t)!==a&&(!m._isBoolean||1==m))if((m=c.PARAGRAPH_STYLES["$include?"](R))===a||m._isBoolean&&1!=m)if((m=c.ADMONITION_STYLES["$include?"](R))===a||m._isBoolean&&1!=m)if((m=
(t=!1!==ba&&ba!==a)?Z["$registered_for_block?"](R,"paragraph"):t)===a||m._isBoolean&&1!=m)this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for paragraph: "+R),R=a;else{N=R.$to_sym();ja="paragraph";d.$unshift_line(S);break}else{N="admonition";ja="paragraph";d.$unshift_line(S);break}else{N=R.$to_sym();ja="paragraph";d.$unshift_line(S);break}ma=(m=I["$=="](0))?ga:m;if((m=(t=R["$=="]("normal")["$!"](),!1!==t&&t!==a?c.LiteralParagraphRx["$=~"](S):t))===a||m._isBoolean&&1!=m){d.$unshift_line(S);
W=(m=(x=d).$read_lines_until,m._p=(K=function(b){var e=K._s||this,f,d,g;null==b&&(b=a);return!1!==(f=(d=!1!==ma&&ma!==a)?c.AnyListRx["$=~"](b):d)&&f!==a?f:(d=c.Compliance.$block_terminates_paragraph(),!1!==d&&d!==a?!1!==(g=e["$is_delimited_block?"](b))&&g!==a?g:c.BlockAttributeLineRx["$=~"](b):d)},K._s=this,K),m).call(x,v(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0}));
if((m=W["$empty?"]())!==a&&(!m._isBoolean||1==m))return d.$advance(),a;this.$catalog_inline_anchors(W.$join(c.EOL),P);C=W["$[]"](0);if((m=(E=O["$!"](),!1!==E&&E!==a?pa=c.AdmonitionParagraphRx.$match(C):E))===a||m._isBoolean&&1!=m)if((m=(E=(z=O["$!"](),!1!==z&&z!==a?c.Compliance.$markdown_syntax():z),!1!==E&&E!==a?C["$start_with?"]("> "):E))===a||m._isBoolean&&1!=m)if((m=(z=(M=(A=(F=O["$!"](),!1!==F&&F!==a?W.$size()["$>"](1):F),!1!==A&&A!==a?C["$start_with?"]('"'):A),!1!==M&&M!==a?W["$[]"](-1)["$start_with?"]("-- "):
M),!1!==z&&z!==a?W["$[]"](-2)["$end_with?"]('"'):z))===a||m._isBoolean&&1!=m)(m=(z=R["$=="]("normal"))?!1!==(M=(ka=W["$[]"](0).$chr())["$=="](" "))&&M!==a?M:ka["$=="](c.TAB):z)===a||m._isBoolean&&1!=m||(C=W["$[]"](0),L=C.$lstrip(),ta=this.$line_length(C)["$-"](this.$line_length(L)),W["$[]="](0,L),(m=(z=W.$size()).$times,m._p=(D=function(b){null==b&&(b=a);return b["$>"](0)?W["$[]="](b,W["$[]"](b)["$[]"](w(ta,-1,!1))):a},D._s=this,D),m).call(z)),C=c.Block.$new(g,"paragraph",v(["content_model","source",
"attributes"],{content_model:"simple",source:W,attributes:n}));else{W["$[]="](0,C["$[]"](w(1,-1,!1)));m=b.to_ary(W.$pop()["$[]"](w(3,-1,!1)).$split(", ",2));C=null==m[0]?a:m[0];for(L=null==m[1]?a:m[1];(z=W["$[]"](-1)["$empty?"]())!==a&&(!z._isBoolean||1==z);)W.$pop();W["$[]="](-1,W["$[]"](-1).$chop());n["$[]="]("style","quote");if(!1!==C&&C!==a)n["$[]="]("attribution",C);if(!1!==L&&L!==a)n["$[]="]("citetitle",L);C=c.Block.$new(g,"quote",v(["content_model","source","attributes"],{content_model:"simple",
source:W,attributes:n}))}else{(m=(E=W)["$map!"],m._p=(B=function(b){var c;null==b&&(b=a);return b["$=="](">")?b["$[]"](w(1,-1,!1)):(c=b["$start_with?"]("> "))===a||c._isBoolean&&1!=c?b:b["$[]"](w(2,-1,!1))},B._s=this,B),m).call(E);if((m=W["$[]"](-1)["$start_with?"]("-- "))===a||m._isBoolean&&1!=m)m=b.to_ary(a),C=null==m[0]?a:m[0],L=null==m[1]?a:m[1];else for(m=b.to_ary(W.$pop()["$[]"](w(3,-1,!1)).$split(", ",2)),C=null==m[0]?a:m[0],L=null==m[1]?a:m[1];(z=W["$[]"](-1)["$empty?"]())!==a&&(!z._isBoolean||
1==z);)W.$pop();n["$[]="]("style","quote");if(!1!==C&&C!==a)n["$[]="]("attribution",C);if(!1!==L&&L!==a)n["$[]="]("citetitle",L);C=this.$build_block("quote","compound",!1,g,c.Reader.$new(W),n)}else W["$[]="](0,pa.$post_match().$lstrip()),n["$[]="]("style",pa["$[]"](1)),n["$[]="]("name",C=pa["$[]"](1).$downcase()),m="caption",E=n,!1!==(z=E["$[]"](m))&&z!==a?z:E["$[]="](m,P.$attributes()["$[]"](""+C+"-caption")),C=c.Block.$new(g,"admonition",v(["content_model","source","attributes"],{content_model:"simple",
source:W,attributes:n}))}else d.$unshift_line(S),W=(m=(t=d).$read_lines_until,m._p=(G=function(b){var e=G._s||this,f,d,g;null==b&&(b=a);return!1!==(f=(d=!1!==ma&&ma!==a)?c.AnyListRx["$=~"](b):d)&&f!==a?f:(d=c.Compliance.$block_terminates_paragraph(),!1!==d&&d!==a?!1!==(g=e["$is_delimited_block?"](b))&&g!==a?g:c.BlockAttributeLineRx["$=~"](b):d)},G._s=this,G),m).call(t,v(["break_on_blank_lines","break_on_list_continuation","preserve_last_line"],{break_on_blank_lines:!0,break_on_list_continuation:!0,
preserve_last_line:!0})),this["$reset_block_indent!"](W),C=c.Block.$new(g,"literal",v(["content_model","source","attributes"],{content_model:"verbatim",source:W,attributes:n})),!1!==ga&&ga!==a&&C.$set_option("listparagraph");break}if((e=(m=C["$!"](),!1!==m&&m!==a?N:m))!==a&&(!e._isBoolean||1==e))if((e=!1!==(m=N["$=="]("abstract"))&&m!==a?m:N["$=="]("partintro"))===a||e._isBoolean&&1!=e||(N="open"),L=N,"admonition"["$==="](L))n["$[]="]("name",C=R.$downcase()),e="caption",m=n,!1!==(M=m["$[]"](e))&&
M!==a?M:m["$[]="](e,P.$attributes()["$[]"](""+C+"-caption")),C=this.$build_block(N,"compound",fa,g,d,n);else{if("comment"["$==="](L))return this.$build_block(N,"skip",fa,g,d,n),a;if("example"["$==="](L))C=this.$build_block(N,"compound",fa,g,d,n);else if("listing"["$==="](L)||"fenced_code"["$==="](L)||"source"["$==="](L)){if(N["$=="]("fenced_code")){R=n["$[]="]("style","source");e=b.to_ary(S["$[]"](w(3,-1,!1)).$split(",",2));N=null==e[0]?a:e[0];S=null==e[1]?a:e[1];if((e=(m=!1!==N&&N!==a)?(N=N.$strip())["$empty?"]()["$!"]():
m)!==a&&(!e._isBoolean||1==e)){if(n["$[]="]("language",N),(e=(m=!1!==S&&S!==a)?S.$strip()["$empty?"]()["$!"]():m)!==a&&(!e._isBoolean||1==e))n["$[]="]("linenums","")}else if((e=qa=P.$attributes()["$[]"]("source-language"))!==a&&(!e._isBoolean||1==e))n["$[]="]("language",qa);fa=fa["$[]"](w(0,2,!1))}else if(N["$=="]("source")&&(c.AttributeList.$rekey(n,[a,"language","linenums"]),((e=n["$has_key?"]("language"))===a||e._isBoolean&&1!=e)&&(e=qa=P.$attributes()["$[]"]("source-language"))!==a&&(!e._isBoolean||
1==e)))n["$[]="]("language",qa);C=this.$build_block("listing","verbatim",fa,g,d,n)}else if("literal"["$==="](L))C=this.$build_block(N,"verbatim",fa,g,d,n);else if("pass"["$==="](L))C=this.$build_block(N,"raw",fa,g,d,n);else if("stem"["$==="](L)||"latexmath"["$==="](L)||"asciimath"["$==="](L)){if(N["$=="]("stem"))n["$[]="]("style",(e=ua=n["$[]"](2))===a||e._isBoolean&&1!=e?(e=(va=P.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===a||e._isBoolean&&1!=e?va:"asciimath":(e=ua["$include?"]("tex"))===
a||e._isBoolean&&1!=e?"asciimath":"latexmath");C=this.$build_block("stem","raw",fa,g,d,n)}else if("open"["$==="](L)||"sidebar"["$==="](L))C=this.$build_block(N,"compound",fa,g,d,n);else if("table"["$==="](L)){N=d.$cursor();N=c.Reader.$new(d.$read_lines_until(v(["terminator","skip_line_comments"],{terminator:fa,skip_line_comments:!0})),N);L=fa.$chr();if(","["$==="](L))n["$[]="]("format","csv");else if(":"["$==="](L))n["$[]="]("format","dsv");C=this.$next_table(N,g,n)}else if("quote"["$==="](L)||"verse"["$==="](L))c.AttributeList.$rekey(n,
[a,"attribution","citetitle"]),C=this.$build_block(N,N["$=="]("verse")?"verbatim":"compound",fa,g,d,n);else if((e=(m=!1!==ba&&ba!==a)?ia=Z["$registered_for_block?"](N,ja):m)===a||e._isBoolean&&1!=e)this.$raise("Unsupported block type "+N+" at "+d.$line_info());else if((e=(S=ia.$config()["$[]"]("content_model"))["$=="]("skip")["$!"]())===a||e._isBoolean&&1!=e||((e=(wa=!1!==(m=ia.$config()["$[]"]("pos_attrs"))&&m!==a?m:[])["$empty?"]()["$!"]())===a||e._isBoolean&&1!=e||c.AttributeList.$rekey(n,[a].$concat(wa)),
(e=C=ia.$config()["$[]"]("default_attrs"))===a||e._isBoolean&&1!=e||(e=(m=C).$each,e._p=(J=function(b,c){var e,f,d;null==b&&(b=a);null==c&&(c=a);return e=b,f=n,!1!==(d=f["$[]"](e))&&d!==a?d:f["$[]="](e,c)},J._s=this,J),e).call(m)),C=this.$build_block(N,S,fa,g,d,n,v(["extension"],{extension:ia})),(e=(M=!1!==C&&C!==a)?S["$=="]("skip")["$!"]():M)===a||e._isBoolean&&1!=e)return n.$clear(),a}}else d.$advance();if(!1!==C&&C!==a){if(!1!==la&&la!==a)C["$source_location="](la);if((f=C["$title?"]())===a||f._isBoolean&&
1!=f)C["$title="](n["$[]"]("title"));if(C.$context()["$=="]("image")){if(I=n["$[]"]("target"),C.$document().$register("images",I),f="alt",e=n,!1!==(M=e["$[]"](f))&&M!==a?M:e["$[]="](f,(null==(A=b.Object._scope.File)?b.cm("File"):A).$basename(I,(null==(A=b.Object._scope.File)?b.cm("File"):A).$extname(I)).$tr("_-"," ")),n["$[]="]("alt",C.$sub_specialcharacters(n["$[]"]("alt"))),C.$assign_caption(n.$delete("caption"),"figure"),!((f=sa=n["$[]"]("scaledwidth"))===a||f._isBoolean&&1!=f||(f=w(48,57,!1)["$include?"]((!1!==
(e=sa["$[]"](-1))&&e!==a?e:0).$ord()))===a||f._isBoolean&&1!=f))n["$[]="]("scaledwidth",""+sa+"%")}else f=C,!1!==(e=f.$caption())&&e!==a?e:f["$caption="](n.$delete("caption"));C["$style="](n["$[]"]("style"));(f=xa=(e=C,!1!==(M=e.$id())&&M!==a?M:e["$id="](n["$[]"]("id"))))===a||f._isBoolean&&1!=f||P.$register("ids",[xa,!1!==(f=n["$[]"]("reftext"))&&f!==a?f:(e=C["$title?"]())===a||e._isBoolean&&1!=e?a:C.$title()]);((f=n["$empty?"]())===a||f._isBoolean&&1!=f)&&C.$attributes().$update(n);C.$lock_in_subs();
(f=C["$sub?"]("callouts"))===a||f._isBoolean&&1!=f||!((f=this.$catalog_callouts(C.$source(),P))===a||f._isBoolean&&1!=f)||C.$remove_sub("callouts")}return C});b.defs(p,"$is_delimited_block?",function(b,d){var g,h,f=a,e=a,m=a,k=a,p=a,m=f=a;null==d&&(d=!1);if((g=(h=(f=b.$length())["$>"](1))?c.DELIMITED_BLOCK_LEADERS["$include?"](b["$[]"](w(0,1,!1))):h)===a||g._isBoolean&&1!=g)return a;if(f["$=="](2))e=b,m=2;else{f["$<="](4)?(e=b,m=f):(e=b["$[]"](w(0,3,!1)),m=4);k=!1;if((g=c.Compliance.$markdown_syntax())!==
a&&(!g._isBoolean||1==g)&&(p=m["$=="](4)?e.$chop():e,p["$=="]("```"))){if((g=(h=m["$=="](4))?e["$end_with?"]("`"):h)!==a&&(!g._isBoolean||1==g))return a;e=p;m=3;k=!0}if((g=(h=m["$=="](3))?k["$!"]():h)!==a&&(!g._isBoolean||1==g))return a}return(g=c.DELIMITED_BLOCKS["$has_key?"](e))===a||g._isBoolean&&1!=g?a:(g=!1!==(h=m["$<"](4))&&h!==a?h:m["$=="](f))===a||g._isBoolean&&1!=g?(""+e+e["$[]"](w(-1,-1,!1))["$*"](f["$-"](m)))["$=="](b)?!1!==d&&d!==a?((g=c.DELIMITED_BLOCKS["$[]"](e)).$to_a?g=g.$to_a():g._isArray?
g:g=[g],f=null==g[0]?a:g[0],m=null==g[1]?a:g[1],c.BlockMatchData.$new(f,m,e,b)):!0:a:!1!==d&&d!==a?((g=c.DELIMITED_BLOCKS["$[]"](e)).$to_a?g=g.$to_a():g._isArray?g:g=[g],f=null==g[0]?a:g[0],m=null==g[1]?a:g[1],c.BlockMatchData.$new(f,m,e,e)):!0});b.defs(p,"$build_block",function(b,d,g,h,f,e,m){var k,p,r,t,w=a,u=a,G=w=u=a,x=a,G=G=a;null==m&&(m=v([],{}));(k=!1!==(p=d["$=="]("skip"))&&p!==a?p:d["$=="]("raw"))===a||k._isBoolean&&1!=k?(w=!1,u=d):(w=d["$=="]("skip"),u="simple");(k=g["$nil?"]())===a||k._isBoolean&&
1!=k?(k=u["$=="]("compound")["$!"]())===a||k._isBoolean&&1!=k?g["$=="](!1)?(u=a,w=f):(u=a,G=f.$cursor(),w=c.Reader.$new(f.$read_lines_until(v(["terminator","skip_processing"],{terminator:g,skip_processing:w})),G)):(u=f.$read_lines_until(v(["terminator","skip_processing"],{terminator:g,skip_processing:w})),w=a):(u["$=="]("verbatim")?u=f.$read_lines_until(v(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(d["$=="]("compound")&&(d="simple"),
u=(k=(p=f).$read_lines_until,k._p=(r=function(b){var e=r._s||this,f,d;null==b&&(b=a);return f=c.Compliance.$block_terminates_paragraph(),!1!==f&&f!==a?!1!==(d=e["$is_delimited_block?"](b))&&d!==a?d:c.BlockAttributeLineRx["$=~"](b):f},r._s=this,r),k).call(p,v(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments","skip_processing"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0,skip_processing:w}))),w=a);if(d["$=="]("skip"))return e.$clear(),
u;if((k=(t=d["$=="]("verbatim"))?x=e["$[]"]("indent"):t)!==a&&(!k._isBoolean||1==k))this["$reset_block_indent!"](u,x.$to_i());if((k=G=m["$[]"]("extension"))===a||k._isBoolean&&1!=k)G=c.Block.$new(h,b,v(["content_model","source","attributes"],{content_model:d,source:u,attributes:e}));else{e.$delete("style");if((k=G=G.$process_method()["$[]"](h,!1!==(t=w)&&t!==a?t:c.Reader.$new(u),e.$dup()))===a||k._isBoolean&&1!=k)return a;e.$replace(G.$attributes());(k=(t=G.$content_model()["$=="]("compound"))?(u=
G.$lines())["$nil_or_empty?"]()["$!"]():t)===a||k._isBoolean&&1!=k||(d="compound",w=c.Reader.$new(u))}(k=(t=e["$has_key?"]("title"),!1!==t&&t!==a?G.$document()["$attr?"](""+G.$context()+"-caption"):t))===a||k._isBoolean&&1!=k||(G["$title="](e.$delete("title")),G.$assign_caption(e.$delete("caption")));d["$=="]("compound")&&this.$parse_blocks(w,G);return G});b.defs(p,"$parse_blocks",function(b,d){for(var g,h=a;(g=b["$has_more_lines?"]())!==a&&(!g._isBoolean||1==g);)if(h=c.Parser.$next_block(b,d),!1!==
h&&h!==a)d["$<<"](h)});b.defs(p,"$next_outline_list",function(b,d,g){var h,f,e=a,m=a,k=a,p=a,r=a,t=a,e=c.List.$new(g,d);if(g.$context()["$=="](d))e["$level="](g.$level()["$+"](1));else e["$level="](1);for(;(h=(f=b["$has_more_lines?"](),!1!==f&&f!==a?m=c.ListRxMap["$[]"](d).$match(b.$peek_line()):f))!==a&&(!h._isBoolean||1==h);){k=this.$resolve_list_marker(d,m["$[]"](1));if((h=(f=e["$items?"](),!1!==f&&f!==a?k["$=="](e.$items()["$[]"](0).$marker())["$!"]():f))===a||h._isBoolean&&1!=h)p=e.$level();
else for(p=e.$level()["$+"](1),r=g;r.$context()["$=="](d);){if(k["$=="](r.$items()["$[]"](0).$marker())){p=r.$level();break}r=r.$parent()}if((h=!1!==(f=e["$items?"]()["$!"]())&&f!==a?f:p["$=="](e.$level()))!==a&&(!h._isBoolean||1==h))t=this.$next_list_item(b,e,m);else if(p["$<"](e.$level()))break;else if(p["$>"](e.$level()))e.$items()["$[]"](-1)["$<<"](this.$next_block(b,e));if(!1!==t&&t!==a)e["$<<"](t);t=a;b.$skip_blank_lines()}return e});b.defs(p,"$catalog_callouts",function(b,d){var g,h,f=a,f=
!1;(g=b["$include?"]("<"))===a||g._isBoolean&&1!=g||(g=b.$scan,g._p=(h=function(){var b,c=a;null==x["~"]&&(x["~"]=a);c=x["~"];(b=c["$[]"](0).$chr()["$=="]("\\")["$!"]())===a||b._isBoolean&&1!=b||d.$callouts().$register(c["$[]"](2));return f=!0},h._s=this,h),g).call(b,c.CalloutQuickScanRx);return f});b.defs(p,"$catalog_inline_anchors",function(b,d){var g,h;(g=b["$include?"]("["))===a||g._isBoolean&&1!=g||(g=b.$scan,g._p=(h=function(){var b,c=a,g=a,c=a;null==x["~"]&&(x["~"]=a);c=x["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==
a&&(!b._isBoolean||1==b))return a;g=!1!==(b=c["$[]"](1))&&b!==a?b:c["$[]"](3);c=!1!==(b=c["$[]"](2))&&b!==a?b:c["$[]"](4);return d.$register("ids",[g,c])},h._s=this,h),g).call(b,c.InlineAnchorRx);return a});b.defs(p,"$next_labeled_list",function(d,g,n){for(var h,f,e=a,m=a,k=a,p=a,r=a,e=c.List.$new(n,"dlist"),m=a,k=c.DefinitionListSiblingRx["$[]"](g["$[]"](2));(h=(f=d["$has_more_lines?"](),!1!==f&&f!==a?g=k.$match(d.$peek_line()):f))!==a&&(!h._isBoolean||1==h);)if(h=b.to_ary(this.$next_list_item(d,
e,g,k)),p=null==h[0]?a:h[0],r=null==h[1]?a:h[1],(h=(f=!1!==m&&m!==a)?m["$[]"](-1)["$!"]():f)===a||h._isBoolean&&1!=h)e.$items()["$<<"](m=[[p],r]);else m.$pop(),m["$[]"](0)["$<<"](p),m["$<<"](r);return e});b.defs(p,"$next_list_item",function(b,d,g,h){var f,e,m=a,k=a,p=a,r=a,t=p=a,u=t=t=r=a,x=a,G=x=u=a,z=a;null==h&&(h=a);if((m=d.$context())["$=="]("dlist"))k=c.ListItem.$new(d,g["$[]"](1)),p=c.ListItem.$new(d,g["$[]"](3)),r=g["$[]"](3)["$nil_or_empty?"]()["$!"]();else{p=g["$[]"](2);t=!1;(f=(e=m["$=="]("ulist"))?
p["$start_with?"]("["):e)===a||f._isBoolean&&1!=f||((f=p["$start_with?"]("[ ] "))===a||f._isBoolean&&1!=f?(f=!1!==(e=p["$start_with?"]("[x] "))&&e!==a?e:p["$start_with?"]("[*] "))===a||f._isBoolean&&1!=f||(r=t=!0,p=p["$[]"](w(3,-1,!1)).$lstrip()):(t=!0,r=!1,p=p["$[]"](w(3,-1,!1)).$lstrip()));p=c.ListItem.$new(d,p);if(!1!==t&&t!==a&&(d.$attributes()["$[]="]("checklist-option",""),p.$attributes()["$[]="]("checkbox",""),!1!==r&&r!==a))p.$attributes()["$[]="]("checked","");!1!==(f=h)&&f!==a?f:h=this.$resolve_list_marker(m,
g["$[]"](1),d.$items().$size(),!0,b);p["$marker="](h);r=!0}b.$advance();t=b.$cursor();t=c.Reader.$new(this.$read_lines_for_list_item(b,m,h,r),t);if((f=t["$has_more_lines?"]())!==a&&(!f._isBoolean||1==f)){u=t.$skip_line_comments();x=t.$peek_line();((f=u["$empty?"]())===a||f._isBoolean&&1!=f)&&t.$unshift_lines(u);(f=x["$nil?"]()["$!"]())===a||f._isBoolean&&1!=f?x=u=!1:(u=x["$empty?"](),(f=(e=u["$!"](),!1!==e&&e!==a?m["$=="]("dlist")["$!"]():e))===a||f._isBoolean&&1!=f||(r=!1),x=(f=u["$!"](),!1!==f&&
f!==a?x["$empty?"]()["$!"]():f));for(G=v(["text"],{text:r["$!"]()});(e=t["$has_more_lines?"]())!==a&&(!e._isBoolean||1==e);)if(z=this.$next_block(t,d,v([],{}),G),!1!==z&&z!==a)p["$<<"](z);p.$fold_first(u,x)}if(m["$=="]("dlist")){if((f=!1!==(e=p["$text?"]())&&e!==a?e:p["$blocks?"]())===a||f._isBoolean&&1!=f)p=a;return[k,p]}return p});b.defs(p,"$read_lines_for_list_item",function(b,d,g,h){var f,e,m,k,p,r,t,u,w,G,z,E,Y,B=a,M=a,A=a,F=a,D=a,J=a,I=a,J=a;null==x["~"]&&(x["~"]=a);null==g&&(g=a);null==h&&
(h=!0);B=[];M="inactive";A=!1;for(F=a;(e=b["$has_more_lines?"]())!==a&&(!e._isBoolean||1==e);){D=b.$read_line();if((e=this["$is_sibling_list_item?"](D,d,g))!==a&&(!e._isBoolean||1==e))break;J=(e=B["$empty?"]())===a||e._isBoolean&&1!=e?B["$[]"](-1):a;if(J["$=="](c.LIST_CONTINUATION)){if(M["$=="]("inactive")&&(M="active",h=!0,!1===A||A===a))B["$[]="](-1,"");if(D["$=="](c.LIST_CONTINUATION)){(e=M["$=="]("frozen")["$!"]())===a||e._isBoolean&&1!=e||(M="frozen",B["$<<"](D));D=a;continue}}if((e=I=this["$is_delimited_block?"](D,
!0))===a||e._isBoolean&&1!=e)if((e=(m=(k=d["$=="]("dlist"))?M["$=="]("active")["$!"]():k,!1!==m&&m!==a?c.BlockAttributeLineRx["$=~"](D):m))===a||e._isBoolean&&1!=e)if((e=(m=M["$=="]("active"))?D["$empty?"]()["$!"]():m)===a||e._isBoolean&&1!=e)if((e=(k=J["$nil?"]()["$!"](),!1!==k&&k!==a?J["$empty?"]():k))===a||e._isBoolean&&1!=e)(e=D["$empty?"]()["$!"]())===a||e._isBoolean&&1!=e||(h=!0),(e=J=(z=(E=!1!==A&&A!==a?["dlist"]:c.NESTABLE_LIST_CONTEXTS).$detect,z._p=(Y=function(b){null==b&&(b=a);return c.ListRxMap["$[]"](b)["$=~"](D)},
Y._s=this,Y),z).call(E))===a||e._isBoolean&&1!=e||(A=!0,(e=(z=J["$=="]("dlist"))?x["~"]["$[]"](3)["$nil_or_empty?"]():z)===a||e._isBoolean&&1!=e||(h=!1)),B["$<<"](D);else{if(!((e=D["$empty?"]())===a||e._isBoolean&&1!=e||(b.$skip_blank_lines(),D=b.$read_line(),(e=!1!==(k=D["$nil?"]())&&k!==a?k:this["$is_sibling_list_item?"](D,d,g))===a||e._isBoolean&&1!=e)))break;if(D["$=="](c.LIST_CONTINUATION))F=B.$size(),B["$<<"](D);else if(!1!==h&&h!==a)if((e=this["$is_sibling_list_item?"](D,d,g))===a||e._isBoolean&&
1!=e)if((e=J=(k=(u=c.NESTABLE_LIST_CONTEXTS).$detect,k._p=(w=function(b){null==b&&(b=a);return c.ListRxMap["$[]"](b)["$=~"](D)},w._s=this,w),k).call(u))===a||e._isBoolean&&1!=e)if((e=c.LiteralParagraphRx["$=~"](D))===a||e._isBoolean&&1!=e)break;else b.$unshift_line(D),B.$concat((e=(k=b).$read_lines_until,e._p=(G=function(b){var c=G._s||this,e;null==b&&(b=a);return(e=d["$=="]("dlist"))?c["$is_sibling_list_item?"](b,d,g):e},G._s=this,G),e).call(k,v(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],
{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else B["$<<"](D),A=!0,(e=(k=J["$=="]("dlist"))?x["~"]["$[]"](3)["$nil_or_empty?"]():k)===a||e._isBoolean&&1!=e||(h=!1);else break;else!1!==A&&A!==a||B.$pop(),B["$<<"](D),h=!0}else if((e=c.LiteralParagraphRx["$=~"](D))===a||e._isBoolean&&1!=e)if((e=!1!==(k=!1!==(r=c.BlockTitleRx["$=~"](D))&&r!==a?r:c.BlockAttributeLineRx["$=~"](D))&&k!==a?k:c.AttributeEntryRx["$=~"](D))===a||e._isBoolean&&1!=e)(e=J=(k=(r=!1!==A&&A!==a?
["dlist"]:c.NESTABLE_LIST_CONTEXTS).$detect,k._p=(t=function(b){null==b&&(b=a);return c.ListRxMap["$[]"](b)["$=~"](D)},t._s=this,t),k).call(r))===a||e._isBoolean&&1!=e||(A=!0,(e=(k=J["$=="]("dlist"))?x["~"]["$[]"](3)["$nil_or_empty?"]():k)===a||e._isBoolean&&1!=e||(h=!1)),B["$<<"](D),M="inactive";else B["$<<"](D);else b.$unshift_line(D),B.$concat((e=(m=b).$read_lines_until,e._p=(p=function(b){var c=p._s||this,e;null==b&&(b=a);return(e=d["$=="]("dlist"))?c["$is_sibling_list_item?"](b,d,g):e},p._s=
this,p),e).call(m,v(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),M="inactive";else break;else if(M["$=="]("active"))B["$<<"](D),B.$concat(b.$read_lines_until(v(["terminator","read_last_line"],{terminator:I.$terminator(),read_last_line:!0}))),M="inactive";else break;D=a}!1!==D&&D!==a&&b.$unshift_line(D);for(!1!==F&&F!==a&&B.$delete_at(F);(e=(z=B["$empty?"]()["$!"](),!1!==z&&z!==a?B["$[]"](-1)["$empty?"]():
z))!==a&&(!e._isBoolean||1==e);)B.$pop();(f=(e=B["$empty?"]()["$!"](),!1!==e&&e!==a?B["$[]"](-1)["$=="](c.LIST_CONTINUATION):e))===a||f._isBoolean&&1!=f||B.$pop();return B});b.defs(p,"$initialize_section",function(d,g,n){var h,f,e=a,m=a,k=a,p=a,r=a,t=a,u=k=p=a;null==n&&(n=v([],{}));e=g.$document();(h=e.$sourcemap())===a||h._isBoolean&&1!=h||(m=d.$cursor());h=b.to_ary(this.$parse_section_title(d,e));k=null==h[0]?a:h[0];p=null==h[1]?a:h[1];r=null==h[2]?a:h[2];t=null==h[3]?a:h[3];if(!1!==p&&p!==a)n["$[]="]("reftext",
p);p=c.Section.$new(g,t,e.$attributes()["$has_key?"]("sectnums"));if(!1!==m&&m!==a)p["$source_location="](m);p["$id="](k);p["$title="](r);if((h=n["$[]"](1))===a||h._isBoolean&&1!=h)if((h=(f=r.$downcase()["$=="]("synopsis"))?e.$doctype()["$=="]("manpage"):f)===a||h._isBoolean&&1!=h)p["$sectname="]("sect"+p.$level());else p["$special="](!0),p["$sectname="]("synopsis");else if(h=b.to_ary(this.$parse_style_attribute(n,d)),k=null==h[0]?a:h[0],!1!==k&&k!==a)p["$sectname="](k),p["$special="](!0),(h=(f=p.$sectname()["$=="]("abstract"))?
e.$doctype()["$=="]("book"):f)===a||h._isBoolean&&1!=h||(p["$sectname="]("sect1"),p["$special="](!1),p["$level="](1));else p["$sectname="]("sect"+p.$level());if((h=(f=p.$id()["$!"](),!1!==f&&f!==a?u=n["$[]"]("id"):f))===a||h._isBoolean&&1!=h)h=p,!1!==(f=h.$id())&&f!==a?f:h["$id="](p.$generate_id());else p["$id="](u);(h=p.$id())===a||h._isBoolean&&1!=h||p.$document().$register("ids",[p.$id(),!1!==(h=n["$[]"]("reftext"))&&h!==a?h:p.$title()]);p.$update_attributes(n);d.$skip_blank_lines();return p});
b.defs(p,"$section_level",function(a){return c.SECTION_LEVELS["$[]"](a.$chr())});b.defs(p,"$single_line_section_level",function(a){return a.$length()["$-"](1)});b.defs(p,"$is_next_line_section?",function(b,d){var g,h,f,e,m=a,k=a;return(g=(h=(f=(m=d["$[]"](1))["$nil?"]()["$!"](),!1!==f&&f!==a?!1!==(e=(k=m["$[]"](0).$ord())["$=="](100))&&e!==a?e:k["$=="](102):f),!1!==h&&h!==a?m["$=~"](c.FloatingTitleStyleRx):h))!==a&&(!g._isBoolean||1==g)||(g=b["$has_more_lines?"]())===a||g._isBoolean&&1!=g?!1:(g=c.Compliance.$underline_style_section_titles())===
a||g._isBoolean&&1!=g?this["$is_section_title?"](b.$peek_line()):(g=this)["$is_section_title?"].apply(g,[].concat(b.$peek_lines(2)))});b.defs(p,"$is_next_line_document_title?",function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});b.defs(p,"$is_section_title?",function(b,c){var d,g,f=a;null==c&&(c=a);return(d=f=this["$is_single_line_section_title?"](b))===a||d._isBoolean&&1!=d?(d=(g=!1!==c&&c!==a)?f=this["$is_two_line_section_title?"](b,c):g)===a||d._isBoolean&&1!=d?!1:f:f});b.defs(p,
"$is_single_line_section_title?",function(b){var d,g,h,f,e=a,m=a,e=!1!==b&&b!==a?b.$chr():a;return(d=(g=!1!==(h=e["$=="]("="))&&h!==a?h:(f=c.Compliance.$markdown_syntax(),!1!==f&&f!==a?e["$=="]("#"):f),!1!==g&&g!==a?m=c.AtxSectionRx.$match(b):g))===a||d._isBoolean&&1!=d?!1:this.$single_line_section_level(m["$[]"](1))});b.defs(p,"$is_two_line_section_title?",function(b,d){var g,h,f,e,m,k;return(g=(h=(f=(e=(m=(k=!1!==b&&b!==a)?d:k,!1!==m&&m!==a?c.SECTION_LEVELS["$has_key?"](d.$chr()):m),!1!==e&&e!==
a?d["$=~"](c.SetextSectionLineRx):e),!1!==f&&f!==a?b["$=~"](c.SetextSectionTitleRx):f),!1!==h&&h!==a?this.$line_length(b)["$-"](this.$line_length(d)).$abs()["$<="](1):h))===a||g._isBoolean&&1!=g?!1:this.$section_level(d)});b.defs(p,"$parse_section_title",function(b,d){var g,h,f,e,m,k=a,p=a,r=a,t=a,u=a,w=a,v=a,x=a,E=a,z=a,B=a,k=b.$read_line(),r=p=a,t=-1,u=a,w=!0,v=k.$chr();(g=(h=!1!==(f=v["$=="]("="))&&f!==a?f:(e=c.Compliance.$markdown_syntax(),!1!==e&&e!==a?v["$=="]("#"):e),!1!==h&&h!==a?x=c.AtxSectionRx.$match(k):
h))===a||g._isBoolean&&1!=g?(g=c.Compliance.$underline_style_section_titles())===a||g._isBoolean&&1!=g||(g=(h=(f=(e=(m=z=b.$peek_line(!0),!1!==m&&m!==a?c.SECTION_LEVELS["$has_key?"](z.$chr()):m),!1!==e&&e!==a?z["$=~"](c.SetextSectionLineRx):e),!1!==f&&f!==a?B=c.SetextSectionTitleRx.$match(k):f),!1!==h&&h!==a?this.$line_length(k)["$-"](this.$line_length(z)).$abs()["$<="](1):h))===a||g._isBoolean&&1!=g||(r=B["$[]"](1),(g=(h=r["$end_with?"]("]]"),!1!==h&&h!==a?E=c.InlineSectionAnchorRx.$match(r):h))===
a||g._isBoolean&&1!=g||(g=E["$[]"](2)["$nil?"]())===a||g._isBoolean&&1!=g||(r=E["$[]"](1),p=E["$[]"](3),u=E["$[]"](4)),t=this.$section_level(z),w=!1,b.$advance()):(t=this.$single_line_section_level(x["$[]"](1)),r=x["$[]"](2),(g=(h=r["$end_with?"]("]]"),!1!==h&&h!==a?E=c.InlineSectionAnchorRx.$match(r):h))===a||g._isBoolean&&1!=g||(g=E["$[]"](2)["$nil?"]())===a||g._isBoolean&&1!=g||(r=E["$[]"](1),p=E["$[]"](3),u=E["$[]"](4)));t["$>="](0)&&(t=t["$+"](d.$attr("leveloffset",0).$to_i()));return[p,u,r,
t,w]});b.defs(p,"$line_length",function(b){var d;return(d=c.FORCE_UNICODE_LINE_LENGTH)===a||d._isBoolean&&1!=d?b.$length():b.$scan(c.UnicodeCharScanRx).$length()});b.defs(p,"$parse_header_metadata",function(d,g){var n,h,f,e,m,k,p=a,r=a,t=a,u=a,w=u=a,G=a,x=a,t=r=a;null==g&&(g=a);this.$process_attribute_entries(d,g);p=v([],{});t=r=a;if((n=(h=d["$has_more_lines?"](),!1!==h&&h!==a?d["$next_line_empty?"]()["$!"]():h))!==a&&(!n._isBoolean||1==n)){u=this.$process_authors(d.$read_line());if((n=u["$empty?"]())===
a||n._isBoolean&&1!=n)!1!==g&&g!==a&&((n=(h=u).$each,n._p=(f=function(c,e){var f,d;null==c&&(c=a);null==e&&(e=a);return(f=g.$attributes()["$has_key?"](c))===a||f._isBoolean&&1!=f?g.$attributes()["$[]="](c,(f=e["$is_a?"](null==(d=b.Object._scope.String)?b.cm("String"):d))===a||f._isBoolean&&1!=f?e:g.$apply_header_subs(e)):a},f._s=this,f),n).call(h),r=g.$attributes()["$[]"]("author"),t=g.$attributes()["$[]"]("authors")),p=u;this.$process_attribute_entries(d,g);u=v([],{});if((n=(e=d["$has_more_lines?"](),
!1!==e&&e!==a?d["$next_line_empty?"]()["$!"]():e))!==a&&(!n._isBoolean||1==n))if(w=d.$read_line(),(n=G=c.RevisionInfoLineRx.$match(w))===a||n._isBoolean&&1!=n)d.$unshift_line(w);else{u["$[]="]("revdate",G["$[]"](2).$strip());if((n=G["$[]"](1)["$nil?"]())===a||n._isBoolean&&1!=n)u["$[]="]("revnumber",G["$[]"](1).$rstrip());if((n=G["$[]"](3)["$nil?"]())===a||n._isBoolean&&1!=n)u["$[]="]("revremark",G["$[]"](3).$rstrip())}if((n=u["$empty?"]())===a||n._isBoolean&&1!=n)!1!==g&&g!==a&&(n=(e=u).$each,n._p=
(m=function(b,c){var e;null==b&&(b=a);null==c&&(c=a);return(e=g.$attributes()["$has_key?"](b))===a||e._isBoolean&&1!=e?g.$attributes()["$[]="](b,g.$apply_header_subs(c)):a},m._s=this,m),n).call(e),p.$update(u);this.$process_attribute_entries(d,g);d.$skip_blank_lines()}if(!1!==g&&g!==a){u=a;if((n=(k=g.$attributes()["$has_key?"]("author"),!1!==k&&k!==a?(x=g.$attributes()["$[]"]("author"))["$=="](r)["$!"]():k))===a||n._isBoolean&&1!=n)if((n=(k=g.$attributes()["$has_key?"]("authors"),!1!==k&&k!==a?(x=
g.$attributes()["$[]"]("authors"))["$=="](t)["$!"]():k))===a||n._isBoolean&&1!=n){r=[];for(t="author_"+r.$size()["$+"](1);(k=g.$attributes()["$has_key?"](t))!==a&&(!k._isBoolean||1==k);)r["$<<"](g.$attributes()["$[]"](t)),t="author_"+r.$size()["$+"](1);r.$size()["$=="](1)?u=this.$process_authors(r["$[]"](0),!0,!1):r.$size()["$>"](1)&&(u=this.$process_authors(r.$join("; "),!0))}else u=this.$process_authors(x,!0);else u=this.$process_authors(x,!0,!1);if(!1!==u&&u!==a&&(g.$attributes().$update(u),(n=
(k=g.$attributes()["$has_key?"]("email")["$!"](),!1!==k&&k!==a?g.$attributes()["$has_key?"]("email_1"):k))!==a&&(!n._isBoolean||1==n)))g.$attributes()["$[]="]("email",g.$attributes()["$[]"]("email_1"))}return p});b.defs(p,"$process_authors",function(b,d,g){var h,f,e,m,k,p=this,r=a,t=a,u=a;null==d&&(d=!1);null==g&&(g=!0);r=v([],{});t="author authorinitials firstname middlename lastname email".split(" ");u=function(){return!1!==g&&g!==a?(h=(f=b.$split(";")).$map,h._p=(e=function(b){null==b&&(b=a);return b.$strip()},
e._s=p,e),h).call(f):[b]}();(h=(m=u).$each_with_index,h._p=(k=function(b,e){var f=k._s||this,g,h,m,n,q,p,u,w=a,x=a,T=a,z=T=a,aa=a;null==b&&(b=a);null==e&&(e=a);if((g=b["$empty?"]())!==a&&(!g._isBoolean||1==g))return a;w=v([],{});(g=e["$zero?"]())===a||g._isBoolean&&1!=g?(g=(n=t).$each,g._p=(q=function(b){null==b&&(b=a);return w["$[]="](b.$to_sym(),""+b+"_"+e["$+"](1))},q._s=f,q),g).call(n):(g=(h=t).$each,g._p=(m=function(b){null==b&&(b=a);return w["$[]="](b.$to_sym(),b)},m._s=f,m),g).call(h);x=a;
!1!==d&&d!==a?x=b.$split(" ",3):(g=T=c.AuthorInfoLineRx.$match(b))===a||g._isBoolean&&1!=g||(x=T.$to_a(),x.$shift());if((g=x["$nil?"]())===a||g._isBoolean&&1!=g){if(r["$[]="](w["$[]"]("firstname"),T=x["$[]"](0).$tr("_"," ")),r["$[]="](w["$[]"]("author"),T),r["$[]="](w["$[]"]("authorinitials"),T["$[]"](0,1)),(g=(p=x["$[]"](1)["$nil?"]()["$!"](),!1!==p&&p!==a?x["$[]"](2)["$nil?"]()["$!"]():p))===a||g._isBoolean&&1!=g?(g=x["$[]"](1)["$nil?"]()["$!"]())===a||g._isBoolean&&1!=g||(r["$[]="](w["$[]"]("lastname"),
aa=x["$[]"](1).$tr("_"," ")),r["$[]="](w["$[]"]("author"),[T,aa].$join(" ")),r["$[]="](w["$[]"]("authorinitials"),[T["$[]"](0,1),aa["$[]"](0,1)].$join())):(r["$[]="](w["$[]"]("middlename"),z=x["$[]"](1).$tr("_"," ")),r["$[]="](w["$[]"]("lastname"),aa=x["$[]"](2).$tr("_"," ")),r["$[]="](w["$[]"]("author"),[T,z,aa].$join(" ")),r["$[]="](w["$[]"]("authorinitials"),[T["$[]"](0,1),z["$[]"](0,1),aa["$[]"](0,1)].$join())),(g=!1!==(p=d)&&p!==a?p:x["$[]"](3)["$nil?"]())===a||g._isBoolean&&1!=g)r["$[]="](w["$[]"]("email"),
x["$[]"](3))}else r["$[]="](w["$[]"]("author"),r["$[]="](w["$[]"]("firstname"),T=b.$strip().$tr_s(" "," "))),r["$[]="](w["$[]"]("authorinitials"),T["$[]"](0,1));r["$[]="]("authorcount",e["$+"](1));e["$=="](1)&&(g=(p=t).$each,g._p=(u=function(b){var c;null==b&&(b=a);return(c=r["$has_key?"](b))===a||c._isBoolean&&1!=c?a:r["$[]="](""+b+"_1",r["$[]"](b))},u._s=f,u),g).call(p);return(g=e["$zero?"]())===a||g._isBoolean&&1!=g?r["$[]="]("authors",""+r["$[]"]("authors")+", "+r["$[]"](w["$[]"]("author"))):
r["$[]="]("authors",r["$[]"](w["$[]"]("author")))},k._s=p,k),h).call(m);return r});b.defs(p,"$parse_block_metadata_lines",function(b,c,d,g){var f;null==d&&(d=v([],{}));for(null==g&&(g=v([],{}));(f=this.$parse_block_metadata_line(b,c,d,g))!==a&&(!f._isBoolean||1==f);)b.$advance(),b.$skip_blank_lines();return d});b.defs(p,"$parse_block_metadata_line",function(b,d,g,h){var f,e,m,k=a,p=a,r=a,p=k=a;null==h&&(h=v([],{}));if((f=b["$has_more_lines?"]())===a||f._isBoolean&&1!=f)return!1;k=b.$peek_line();if((f=
(e=p=k["$start_with?"]("//"),!1!==e&&e!==a?r=c.CommentBlockRx.$match(k):e))!==a&&(!f._isBoolean||1==f))k=r["$[]"](0),b.$read_lines_until(v(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:k,skip_processing:!0}));else if((f=(e=!1!==p&&p!==a)?c.CommentLineRx["$=~"](k):e)===a||f._isBoolean&&1!=f)if((f=(e=(m=h["$[]"]("text")["$!"](),!1!==m&&m!==a?k["$start_with?"](":"):m),!1!==e&&e!==a?r=c.AttributeEntryRx.$match(k):e))!==a&&
(!f._isBoolean||1==f))this.$process_attribute_entry(b,d,g,r);else if((f=(e=p=(m=k["$start_with?"]("["),!1!==m&&m!==a?k["$end_with?"]("]"):m),!1!==e&&e!==a?r=c.BlockAnchorRx.$match(k):e))===a||f._isBoolean&&1!=f)if((f=(e=!1!==p&&p!==a)?r=c.BlockAttributeListRx.$match(k):e)===a||f._isBoolean&&1!=f){if((f=(e=h["$[]"]("text")["$!"](),!1!==e&&e!==a?r=c.BlockTitleRx.$match(k):e))===a||f._isBoolean&&1!=f)return!1;g["$[]="]("title",r["$[]"](1))}else d.$document().$parse_attributes(r["$[]"](1),[],v(["sub_input",
"into"],{sub_input:!0,into:g}));else if((f=r["$[]"](1)["$nil_or_empty?"]())===a||f._isBoolean&&1!=f)if(g["$[]="]("id",r["$[]"](1)),(f=r["$[]"](2)["$nil?"]())===a||f._isBoolean&&1!=f)g["$[]="]("reftext",r["$[]"](2));return!0});b.defs(p,"$process_attribute_entries",function(b,c,d){var g;null==d&&(d=a);for(b.$skip_comment_lines();(g=this.$process_attribute_entry(b,c,d))!==a&&(!g._isBoolean||1==g);)b.$advance(),b.$skip_comment_lines()});b.defs(p,"$process_attribute_entry",function(b,d,g,h){var f,e,m=
a,k=a,p=a,r=a,t=a,u=a;null==g&&(g=a);null==h&&(h=a);!1!==(f=h)&&f!==a?f:h=(e=b["$has_more_lines?"]())===a||e._isBoolean&&1!=e?a:c.AttributeEntryRx.$match(b.$peek_line());if(!1!==h&&h!==a){m=h["$[]"](1);if(((f=(k=!1!==(e=h["$[]"](2))&&e!==a?e:"")["$empty?"]())===a||f._isBoolean&&1!=f)&&(f=!1!==(e=k["$end_with?"](p=c.LINE_CONTINUATION))&&e!==a?e:k["$end_with?"](p=c.LINE_CONTINUATION_LEGACY))!==a&&(!f._isBoolean||1==f))for(k=k.$chop().$rstrip();(e=b.$advance())!==a&&(!e._isBoolean||1==e)&&((e=(r=b.$peek_line().$strip())["$empty?"]())===
a||e._isBoolean&&1!=e)&&((e=t=r["$end_with?"](p))===a||e._isBoolean&&1!=e||(r=r.$chop().$rstrip()),u=(e=k["$end_with?"](c.LINE_BREAK))===a||e._isBoolean&&1!=e?" ":c.EOL,k=""+k+u+r,!1!==t&&t!==a););this.$store_attribute(m,k,!1!==d&&d!==a?d.$document():a,g);return!0}return!1});b.defs(p,"$store_attribute",function(b,d,g,h){var f,e,m=a,m=a;null==g&&(g=a);null==h&&(h=a);(f=b["$end_with?"]("!"))===a||f._isBoolean&&1!=f?(f=b["$start_with?"]("!"))===a||f._isBoolean&&1!=f||(d=a,b=b["$[]"](w(1,-1,!1))):(d=
a,b=b.$chop());b=this.$sanitize_attribute_name(b);m=!0;!1!==g&&g!==a&&(b["$=="]("numbered")?b="sectnums":b["$=="]("leveloffset")&&!1!==d&&d!==a&&(m=d.$chr(),"+"["$==="](m)?d=g.$attr("leveloffset",0).$to_i()["$+"]((!1!==(f=d["$[]"](w(1,-1,!1)))&&f!==a?f:0).$to_i()).$to_s():"-"["$==="](m)&&(d=g.$attr("leveloffset",0).$to_i()["$-"]((!1!==(f=d["$[]"](w(1,-1,!1)))&&f!==a?f:0).$to_i()).$to_s())),m=!1!==d&&d!==a?g.$set_attribute(b,d):g.$delete_attribute(b));(f=(e=!1!==m&&m!==a)?h:e)===a||f._isBoolean&&1!=
f||(!1!==d&&d!==a&&(d=g.$attributes()["$[]"](b)),c.Document._scope.AttributeEntry.$new(b,d).$save_to(h));return[b,d]});b.defs(p,"$resolve_list_marker",function(b,c,d,g,f){var e,m;null==d&&(d=0);null==g&&(g=!1);null==f&&(f=a);return(e=(m=b["$=="]("olist"))?c["$start_with?"](".")["$!"]():m)===a||e._isBoolean&&1!=e?b["$=="]("colist")?"<1>":c:this.$resolve_ordered_list_marker(c,d,g,f)});b.defs(p,"$resolve_ordered_list_marker",function(b,d,g,h){var f,e,m,k,p=a,r=a,t=a,p=a;null==d&&(d=0);null==g&&(g=!1);
null==h&&(h=a);p=(f=(e=c.ORDERED_LIST_STYLES).$detect,f._p=(m=function(e){null==e&&(e=a);return c.OrderedListMarkerRxMap["$[]"](e)["$=~"](b)},m._s=this,m),f).call(e);r=t=a;"arabic"["$==="](p)?(!1!==g&&g!==a&&(r=d["$+"](1),t=b.$to_i()),b="1."):"loweralpha"["$==="](p)?(!1!==g&&g!==a&&(r="a"["$[]"](0).$ord()["$+"](d).$chr(),t=b.$chomp(".")),b="a."):"upperalpha"["$==="](p)?(!1!==g&&g!==a&&(r="A"["$[]"](0).$ord()["$+"](d).$chr(),t=b.$chomp(".")),b="A."):"lowerroman"["$==="](p)?(!1!==g&&g!==a&&(r=d["$+"](1),
t=this.$roman_numeral_to_int(b.$chomp(")"))),b="i)"):"upperroman"["$==="](p)&&(!1!==g&&g!==a&&(r=d["$+"](1),t=this.$roman_numeral_to_int(b.$chomp(")"))),b="I)");(f=(k=!1!==g&&g!==a)?r["$=="](t)["$!"]():k)===a||f._isBoolean&&1!=f||this.$warn("asciidoctor: WARNING: "+h.$line_info()+": list item index: expected "+r+", got "+t);return b});b.defs(p,"$is_sibling_list_item?",function(d,g,n){var h,f,e=a,m=a,k=a;(h=n["$is_a?"](null==(f=b.Object._scope.Regexp)?b.cm("Regexp"):f))===a||h._isBoolean&&1!=h?(e=
c.ListRxMap["$[]"](g),m=n):(e=n,m=!1);return(h=k=e.$match(d))===a||h._isBoolean&&1!=h?!1:!1!==m&&m!==a?m["$=="](this.$resolve_list_marker(g,k["$[]"](1))):!0});b.defs(p,"$next_table",function(d,g,n){var h,f,e,m,k,p,r,t=a,u=a,v=a,x=a,z=a,E=a,Y=a,B=a,M=a,A=a,F=E=a,t=c.Table.$new(g,n);(h=n["$has_key?"]("title"))===a||h._isBoolean&&1!=h||(t["$title="](n.$delete("title")),t.$assign_caption(n.$delete("caption")));(h=n["$has_key?"]("cols"))===a||h._isBoolean&&1!=h?u=!1:(t.$create_columns(this.$parse_col_specs(n["$[]"]("cols"))),
u=!0);v=d.$skip_blank_lines();x=c.Table._scope.ParserContext.$new(d,t,n);for(z=-1;(f=d["$has_more_lines?"]())!==a&&(!f._isBoolean||1==f);){z=z["$+"](1);E=d.$read_line();(f=(e=(m=(k=(p=v["$=="](0))?z["$zero?"]():p,!1!==k&&k!==a?n["$has_key?"]("options")["$!"]():k),!1!==m&&m!==a?(Y=d.$peek_line())["$nil?"]()["$!"]():m),!1!==e&&e!==a?Y["$empty?"]():e))===a||f._isBoolean&&1!=f||(t["$has_header_option="](!0),t.$set_option("header"));x.$format()["$=="]("psv")&&((f=x["$starts_with_delimiter?"](E))===a||
f._isBoolean&&1!=f?(f=b.to_ary(this.$parse_cell_spec(E,"start",x.$delimiter())),B=null==f[0]?a:f[0],E=null==f[1]?a:f[1],(f=B["$nil?"]()["$!"]())===a||f._isBoolean&&1!=f||x.$close_open_cell(B)):(E=E["$[]"](w(1,-1,!1)),x.$close_open_cell()));for(M=!1;(e=!1!==(m=M["$!"]())&&m!==a?m:E["$empty?"]()["$!"]())!==a&&(!e._isBoolean||1==e);)if(M=!0,(e=A=x.$match_delimiter(E))===a||e._isBoolean&&1!=e){x["$buffer="](""+x.$buffer()+E+c.EOL);if(x.$format()["$=="]("csv"))x["$buffer="](""+x.$buffer().$rstrip()+" ");
E="";(e=!1!==(m=x.$format()["$=="]("psv"))&&m!==a?m:(k=x.$format()["$=="]("csv"))?x["$buffer_has_unclosed_quotes?"]():k)===a||e._isBoolean&&1!=e?x.$close_cell(!0):x.$keep_cell_open()}else{if(x.$format()["$=="]("csv")){if((e=x["$buffer_has_unclosed_quotes?"](A.$pre_match()))!==a&&(!e._isBoolean||1==e)){E=x.$skip_matched_delimiter(A);continue}}else if((e=A.$pre_match()["$end_with?"]("\\"))!==a&&(!e._isBoolean||1==e)){E=x.$skip_matched_delimiter(A,!0);continue}if(x.$format()["$=="]("psv"))e=b.to_ary(this.$parse_cell_spec(A.$pre_match(),
"end")),B=null==e[0]?a:e[0],E=null==e[1]?a:e[1],x.$push_cell_spec(B),x["$buffer="](""+x.$buffer()+E);else x["$buffer="](""+x.$buffer()+A.$pre_match());(E=A.$post_match())["$=="]("")&&(M=!1);x.$close_cell()}if((f=x["$cell_open?"]())===a||f._isBoolean&&1!=f)v=d.$skip_blank_lines();if((f=d["$has_more_lines?"]())===a||f._isBoolean&&1!=f)(f=x["$cell_open?"]())===a||f._isBoolean&&1!=f||x.$close_cell(!0)}h="colcount";f=t.$attributes();!1!==(e=f["$[]"](h))&&e!==a?e:f["$[]="](h,x.$col_count());(h=u["$!"]())===
a||h._isBoolean&&1!=h||(F=100["$/"](x.$col_count()).$floor(),(h=(f=t.$columns()).$each,h._p=(r=function(b){null==b&&(b=a);return b.$assign_width(0,F)},r._s=this,r),h).call(f));t.$partition_header_footer(n);return t});b.defs(p,"$parse_col_specs",function(d){var g,n,h,f,e,m=a;if((g=c.DigitsRx["$=~"](d))!==a&&(!g._isBoolean||1==g))return(g=(n=null==(f=b.Object._scope.Array)?b.cm("Array"):f).$new,g._p=(h=function(){return v(["width"],{width:1})},h._s=this,h),g).call(n,d.$to_i());m=[];(g=(f=d.$split(",")).$each,
g._p=(e=function(f){var d=e._s||this,g,h,n,k=a,q=a,p=a,r=a,k=a;null==f&&(f=a);if((g=k=c.ColumnSpecRx.$match(f))===a||g._isBoolean&&1!=g)return a;q=v([],{});if((g=k["$[]"](2))!==a&&(!g._isBoolean||1==g)){g=b.to_ary(k["$[]"](2).$split("."));p=null==g[0]?a:g[0];r=null==g[1]?a:g[1];if((g=(h=p["$nil_or_empty?"]()["$!"](),!1!==h&&h!==a?c.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](p):h))!==a&&(!g._isBoolean||1==g))q["$[]="]("halign",c.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](p));if((g=(h=r["$nil_or_empty?"]()["$!"](),
!1!==h&&h!==a?c.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](r):h))!==a&&(!g._isBoolean||1==g))q["$[]="]("valign",c.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](r))}q["$[]="]("width",(g=k["$[]"](3)["$nil?"]()["$!"]())===a||g._isBoolean&&1!=g?1:k["$[]"](3).$to_i());if((g=(h=k["$[]"](4),!1!==h&&h!==a?c.Table._scope.TEXT_STYLES["$has_key?"](k["$[]"](4)):h))!==a&&(!g._isBoolean||1==g))q["$[]="]("style",c.Table._scope.TEXT_STYLES["$[]"](k["$[]"](4)));k=(g=k["$[]"](1)["$nil?"]()["$!"]())===a||g._isBoolean&&
1!=g?1:k["$[]"](1).$to_i();return(g=(h=1).$upto,g._p=(n=function(){return m["$<<"](q.$dup())},n._s=d,n),g).call(h,k)},e._s=this,e),g).call(f);return m});b.defs(p,"$parse_cell_spec",function(d,g,n){var h,f,e=a,m=a,k=a,p=k=e=a,r=a;null==g&&(g="start");null==n&&(n=a);e=a;m="";k=g;if("start"["$==="](k)){if((h=d["$include?"](n))===a||h._isBoolean&&1!=h)return[a,d];h=b.to_ary(d.$split(n,2));e=null==h[0]?a:h[0];m=null==h[1]?a:h[1];if((h=e=c.CellSpecStartRx.$match(e))===a||h._isBoolean&&1!=h)return[a,d];
if((h=e["$[]"](0)["$empty?"]())!==a&&(!h._isBoolean||1==h))return[v([],{}),m]}else if("end"["$==="](k)){if((h=e=c.CellSpecEndRx.$match(d))===a||h._isBoolean&&1!=h)return[v([],{}),d];if((h=e["$[]"](0).$lstrip()["$empty?"]())!==a&&(!h._isBoolean||1==h))return[v([],{}),d.$rstrip()];m=e.$pre_match()}k=v([],{});if((h=e["$[]"](1))!==a&&(!h._isBoolean||1==h))if(h=b.to_ary(e["$[]"](1).$split(".")),p=null==h[0]?a:h[0],r=null==h[1]?a:h[1],p=(h=p["$nil_or_empty?"]())===a||h._isBoolean&&1!=h?p.$to_i():1,r=(h=
r["$nil_or_empty?"]())===a||h._isBoolean&&1!=h?r.$to_i():1,e["$[]"](2)["$=="]("+")){if(!p["$=="](1))k["$[]="]("colspan",p);if(!r["$=="](1))k["$[]="]("rowspan",r)}else if(e["$[]"](2)["$=="]("*")&&!p["$=="](1))k["$[]="]("repeatcol",p);if((h=e["$[]"](3))!==a&&(!h._isBoolean||1==h)){h=b.to_ary(e["$[]"](3).$split("."));p=null==h[0]?a:h[0];r=null==h[1]?a:h[1];if((h=(f=p["$nil_or_empty?"]()["$!"](),!1!==f&&f!==a?c.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](p):f))!==a&&(!h._isBoolean||1==h))k["$[]="]("halign",
c.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](p));if((h=(f=r["$nil_or_empty?"]()["$!"](),!1!==f&&f!==a?c.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](r):f))!==a&&(!h._isBoolean||1==h))k["$[]="]("valign",c.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](r))}if((h=(f=e["$[]"](4),!1!==f&&f!==a?c.Table._scope.TEXT_STYLES["$has_key?"](e["$[]"](4)):f))!==a&&(!h._isBoolean||1==h))k["$[]="]("style",c.Table._scope.TEXT_STYLES["$[]"](e["$[]"](4)));return[k,m]});b.defs(p,"$parse_style_attribute",function(b,d){var g,
h,f,e,m,k,p,r=a,t=a,u=a,w=a,x=a,z=a,E=t=a,Y=a;null==d&&(d=a);r=b["$[]"]("style");t=b["$[]"](1);if((g=(h=(f=!1!==t&&t!==a)?t["$include?"](" ")["$!"]():f,!1!==h&&h!==a?c.Compliance.$shorthand_property_syntax():h))===a||g._isBoolean&&1!=g)return b["$[]="]("style",t),[t,r];u="style";w=[];x=v([],{});z=(g=(h=this).$lambda,g._p=(e=function(){var b=e._s||this,c,f,g=a;return(c=w["$empty?"]())===a||c._isBoolean&&1!=c?(g=u,"role"["$==="](g)||"option"["$==="](g)?(c=u,b=x,!1!==(f=b["$[]"](c))&&f!==a?f:b["$[]="](c,
[]),x["$[]"](u).$push(w.$join())):("id"["$==="](g)&&((c=x["$has_key?"]("id"))===a||c._isBoolean&&1!=c||b.$warn("asciidoctor: WARNING:"+((c=d["$nil?"]())===a||c._isBoolean&&1!=c?" "+d.$prev_line_info()+":":a)+" multiple ids detected in style attribute")),x["$[]="](u,w.$join())),w=[]):(c=u["$=="]("style")["$!"]())===a||c._isBoolean&&1!=c?a:b.$warn("asciidoctor: WARNING:"+((c=d["$nil?"]())===a||c._isBoolean&&1!=c?" "+d.$prev_line_info()+":":a)+" invalid empty "+u+" detected in style attribute")},e._s=
this,e),g).call(h);(g=(f=t).$each_char,g._p=(m=function(b){var c,e,f,d=a;null==b&&(b=a);if((c=!1!==(e=!1!==(f=b["$=="]("."))&&f!==a?f:b["$=="]("#"))&&e!==a?e:b["$=="]("%"))===a||c._isBoolean&&1!=c)return w.$push(b);z.$call();d=b;return"."["$==="](d)?u="role":"#"["$==="](d)?u="id":"%"["$==="](d)?u="option":a},m._s=this,m),g).call(f);if(u["$=="]("style"))t=b["$[]="]("style",t);else{z.$call();t=(g=x["$has_key?"]("style"))===a||g._isBoolean&&1!=g?a:b["$[]="]("style",x["$[]"]("style"));if((g=x["$has_key?"]("id"))!==
a&&(!g._isBoolean||1==g))b["$[]="]("id",x["$[]"]("id"));if((g=x["$has_key?"]("role"))!==a&&(!g._isBoolean||1==g))b["$[]="]("role",x["$[]"]("role")["$*"](" "));if((g=x["$has_key?"]("option"))!==a&&(!g._isBoolean||1==g))if((g=(k=E=x["$[]"]("option")).$each,g._p=(p=function(c){null==c&&(c=a);return b["$[]="](""+c+"-option","")},p._s=this,p),g).call(k),(g=Y=b["$[]"]("options"))===a||g._isBoolean&&1!=g)b["$[]="]("options",E["$*"](","));else b["$[]="]("options",E["$+"](Y.$split(","))["$*"](","))}return[t,
r]});b.defs(p,"$reset_block_indent!",function(b,g){var n,h,f,e,m,k,p=a,r=a,t=a,u=a,v=a;null==g&&(g=0);if((n=!1!==(h=g["$!"]())&&h!==a?h:b["$empty?"]())!==a&&(!n._isBoolean||1==n))return a;p=!1;r="    ";t=(n=(h=b).$map,n._p=(f=function(b){var e,f=a,g=a;null==b&&(b=a);if((e=b.$chr().$lstrip()["$empty?"]())===a||e._isBoolean&&1!=e)return d.$v=[],d;(e=b["$include?"](c.TAB))===a||e._isBoolean&&1!=e||(p=!0,b=b.$gsub(c.TAB_PATTERN,r));return(e=(f=b.$lstrip())["$empty?"]())===a||e._isBoolean&&1!=e?(g=b.$length()["$-"](f.$length()))["$=="](0)?
(d.$v=[],d):g:a},f._s=this,f),n).call(h);((n=!1!==(e=t["$empty?"]())&&e!==a?e:(t=t.$compact())["$empty?"]())===a||n._isBoolean&&1!=n)&&(u=t.$min())["$>"](0)&&(n=(e=b)["$map!"],n._p=(m=function(b){null==b&&(b=a);!1!==p&&p!==a&&(b=b.$gsub(c.TAB_PATTERN,r));return b["$[]"](w(u,-1,!1)).$to_s()},m._s=this,m),n).call(e);g["$>"](0)&&(v=" "["$*"](g),(n=b["$map!"],n._p=(k=function(b){null==b&&(b=a);return""+v+b},k._s=this,k),n).call(b));return a});b.defs(p,"$sanitize_attribute_name",function(a){return a.$gsub(c.InvalidAttributeNameCharsRx,
"").$downcase()});return(b.defs(p,"$roman_numeral_to_int",function(b){var c,d,g,f=a,e=a;b=b.$downcase();f=v(["i","v","x"],{i:1,v:5,x:10});e=0;(c=(d=w(0,b.$length()["$-"](1),!1)).$each,c._p=(g=function(c){var d,g,h=a;null==c&&(c=a);h=f["$[]"](b["$[]"](w(c,c,!1)));return(d=(g=c["$+"](1)["$<"](b.$length()))?f["$[]"](b["$[]"](w(c["$+"](1),c["$+"](1),!1)))["$>"](h):g)===a||d._isBoolean&&1!=d?e=e["$+"](h):e=e["$-"](h)},g._s=this,g),c).call(d);return e}),a)&&"roman_numeral_to_int"})(r(u,"Asciidoctor"),null)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2,v=b.range,w=b.gvars;return function(x){(function(d,$super){function l(){}var k=l=r(d,$super,"PathResolver",l),p=k._proto,g=k._scope;p.file_separator=p._partition_path_web=p._partition_path_sys=p.working_dir=a;b.cdecl(g,"DOT",".");b.cdecl(g,"DOT_DOT","..");b.cdecl(g,"DOT_SLASH","./");b.cdecl(g,"SLASH","/");b.cdecl(g,"BACKSLASH","\\");b.cdecl(g,"DOUBLE_SLASH","//");b.cdecl(g,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);k.$attr_accessor("file_separator");
k.$attr_accessor("working_dir");p.$initialize=function(c,d){var g,l;null==c&&(c=a);null==d&&(d=a);this.file_separator=!1!==c&&c!==a?c:!1!==(g=(null==(l=b.Object._scope.File)?b.cm("File"):l)._scope.ALT_SEPARATOR)&&g!==a?g:(null==(l=b.Object._scope.File)?b.cm("File"):l)._scope.SEPARATOR;this.working_dir=!1!==d&&d!==a?(g=this["$is_root?"](d))===a||g._isBoolean&&1!=g?(null==(g=b.Object._scope.File)?b.cm("File"):g).$expand_path(d):d:(null==(g=b.Object._scope.File)?b.cm("File"):g).$expand_path((null==(g=
b.Object._scope.Dir)?b.cm("Dir"):g).$pwd());this._partition_path_sys=z([],{});return this._partition_path_web=z([],{})};p["$is_root?"]=function(b){var d,l;return(d=b["$start_with?"](g.SLASH))===a||d._isBoolean&&1!=d?(d=(l=this.file_separator["$=="](g.BACKSLASH))?g.WindowsRootRx["$=~"](b):l)===a||d._isBoolean&&1!=d?!1:!0:!0};p["$is_unc?"]=function(a){return a["$start_with?"](g.DOUBLE_SLASH)};p["$is_web_root?"]=function(a){return a["$start_with?"](g.SLASH)};p.$posixfy=function(b){var d;return(d=b["$nil_or_empty?"]())===
a||d._isBoolean&&1!=d?(d=b["$include?"](g.BACKSLASH))===a||d._isBoolean&&1!=d?b:b.$tr(g.BACKSLASH,g.SLASH):""};p.$expand_path=function(c){var d=a,g=a;c=b.to_ary(this.$partition_path(c));d=null==c[0]?a:c[0];g=null==c[1]?a:c[1];return this.$join_path(d,g)};p.$partition_path=function(b,d){var l,n=a,h=n=a,f=a;null==d&&(d=!1);if((l=n=!1!==d&&d!==a?this._partition_path_web["$[]"](b):this._partition_path_sys["$[]"](b))!==a&&(!l._isBoolean||1==l))return n;n=this.$posixfy(b);h=!1!==d&&d!==a?(l=this["$is_web_root?"](n))===
a||l._isBoolean&&1!=l?(l=n["$start_with?"](g.DOT_SLASH))===a||l._isBoolean&&1!=l?a:g.DOT_SLASH:g.SLASH:(l=this["$is_root?"](n))===a||l._isBoolean&&1!=l?(l=n["$start_with?"](g.DOT_SLASH))===a||l._isBoolean&&1!=l?a:g.DOT_SLASH:(l=this["$is_unc?"](n))===a||l._isBoolean&&1!=l?(l=n["$start_with?"](g.SLASH))===a||l._isBoolean&&1!=l?n["$[]"](v(0,n.$index(g.SLASH),!1)):g.SLASH:g.DOUBLE_SLASH;f=n.$split(g.SLASH);h["$=="](g.DOUBLE_SLASH)?f=f["$[]"](v(2,-1,!1)):!1!==h&&h!==a&&f.$shift();f.$delete(g.DOT);return(!1!==
d&&d!==a?this._partition_path_web:this._partition_path_sys)["$[]="](b,[f,h,n])};p.$join_path=function(b,d){null==d&&(d=a);return!1!==d&&d!==a?""+d+b["$*"](g.SLASH):b["$*"](g.SLASH)};p.$system_path=function(c,d,l,n){var h,f,e,m=a,k=a,p=a,r=a,u=a,w=a,v=w=r=a,x=a;null==l&&(l=a);null==n&&(n=z([],{}));m=n.$fetch("recover",!0);!1!==l&&l!==a&&(((h=this["$is_root?"](l))===a||h._isBoolean&&1!=h)&&this.$raise(null==(h=b.Object._scope.SecurityError)?b.cm("SecurityError"):h,"Jail is not an absolute path: "+l),
l=this.$posixfy(l));(h=c["$nil_or_empty?"]())===a||h._isBoolean&&1!=h?(h=b.to_ary(this.$partition_path(c)),k=null==h[0]?a:h[0],p=null==h[1]?a:h[1]):k=[];if((h=k["$empty?"]())!==a&&(!h._isBoolean||1==h))if((h=d["$nil_or_empty?"]())===a||h._isBoolean&&1!=h){if((h=this["$is_root?"](d))===a||h._isBoolean&&1!=h)return this.$system_path(d,l,l);if(!1===l||l===a)return this.$expand_path(d)}else return!1!==l&&l!==a?l:this.working_dir;if(!((h=(f=!1!==p&&p!==a)?p["$=="](g.DOT_SLASH)["$!"]():f)===a||h._isBoolean&&
1!=h||(r=this.$join_path(k,p),(h=!1!==(f=l["$!"]())&&f!==a?f:r["$start_with?"](l))===a||h._isBoolean&&1!=h)))return r;d=(h=d["$nil_or_empty?"]())===a||h._isBoolean&&1!=h?(h=this["$is_root?"](d))===a||h._isBoolean&&1!=h?this.$system_path(d,l,l):this.$posixfy(d):!1!==l&&l!==a?l:this.working_dir;l["$=="](d)?(h=b.to_ary(this.$partition_path(l)),u=null==h[0]?a:h[0],w=null==h[1]?a:h[1],r=u.$dup()):(!1!==l&&l!==a?(((h=d["$start_with?"](l))===a||h._isBoolean&&1!=h)&&this.$raise(null==(h=b.Object._scope.SecurityError)?
b.cm("SecurityError"):h,""+(!1!==(h=n["$[]"]("target_name"))&&h!==a?h:"Start path")+" "+d+" is outside of jail: "+l+" (disallowed in safe mode)"),h=b.to_ary(this.$partition_path(d)),r=null==h[0]?a:h[0],w=null==h[1]?a:h[1],h=b.to_ary(this.$partition_path(l)),u=null==h[0]?a:h[0]):(h=b.to_ary(this.$partition_path(d)),r=null==h[0]?a:h[0]),w=null==h[1]?a:h[1]);v=r.$dup();x=!1;(h=(f=k).$each,h._p=(e=function(f){var d=e._s||this,h;null==f&&(f=a);if(f["$=="](g.DOT_DOT)){if(!1!==l&&l!==a){if(v.$length()["$>"](u.$length()))return v.$pop();
if((h=m["$!"]())===a||h._isBoolean&&1!=h){if((h=x["$!"]())===a||h._isBoolean&&1!=h)return a;d.$warn("asciidoctor: WARNING: "+(!1!==(h=n["$[]"]("target_name"))&&h!==a?h:"path")+" has illegal reference to ancestor of jail, auto-recovering");return x=!0}return d.$raise(null==(h=b.Object._scope.SecurityError)?b.cm("SecurityError"):h,""+(!1!==(h=n["$[]"]("target_name"))&&h!==a?h:"path")+" "+c+" refers to location outside jail: "+l+" (disallowed in safe mode)")}return v.$pop()}return v.$push(f)},e._s=this,
e),h).call(f);return this.$join_path(v,w)};p.$web_path=function(c,d){var l,n,h,f=a,e=a,m=a,k=a;null==w["~"]&&(w["~"]=a);null==d&&(d=a);c=this.$posixfy(c);d=this.$posixfy(d);f=a;if((l=!1!==(n=d["$nil_or_empty?"]())&&n!==a?n:this["$is_web_root?"](c))===a||l._isBoolean&&1!=l)c=""+d+g.SLASH+c,(l=(n=c["$include?"](":"),!1!==n&&n!==a?g.UriSniffRx["$=~"](c):n))===a||l._isBoolean&&1!=l||(f=w["~"]["$[]"](0),c=c["$[]"](v(f.$length(),-1,!1)));l=b.to_ary(this.$partition_path(c,!0));e=null==l[0]?a:l[0];m=null==
l[1]?a:l[1];k=[];(l=(n=e).$each,l._p=(h=function(b){var c,e;null==b&&(b=a);return b["$=="](g.DOT_DOT)?(c=k["$empty?"]())===a||c._isBoolean&&1!=c?k["$[]"](-1)["$=="](g.DOT_DOT)?k["$<<"](b):k.$pop():(c=(e=!1!==m&&m!==a)?m["$=="](g.DOT_SLASH)["$!"]():e)===a||c._isBoolean&&1!=c?k["$<<"](b):a:k["$<<"](b)},h._s=this,h),l).call(n);return!1!==f&&f!==a?""+f+this.$join_path(k,m):this.$join_path(k,m)};return(p.$relative_path=function(b,d){var g,l,h=a;if((g=(l=this["$is_root?"](b),!1!==l&&l!==a?this["$is_root?"](d):
l))===a||g._isBoolean&&1!=g)return b;h=d.$chomp(this.file_separator).$length()["$+"](1);return b["$[]"](v(h,-1,!1))},a)&&"relative_path"})(d(x,"Asciidoctor"),null)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.breaker,r=b.slice,z=b.module,v=b.klass,w=b.hash2,x=b.range;return function(u){u=z(u,"Asciidoctor");var t=u._scope;(function(l,$super){function p(){}var g=p=v(l,$super,"Reader",p),c=g._proto,q=g._scope,r;c.file=c.dir=c.lines=c.process_lines=c.look_ahead=c.eof=c.unescape_next_line=c.lineno=c.path=c.source_lines=a;(function(c,$super){function f(){}var e=f=v(c,$super,"Cursor",f),d=e._proto;e.$attr_accessor("file");e.$attr_accessor("dir");e.$attr_accessor("path");e.$attr_accessor("lineno");
d.$initialize=function(b,c,e,f){null==c&&(c=a);null==e&&(e=a);null==f&&(f=a);this.file=b;this.dir=c;this.path=e;return this.lineno=f};d.$line_info=function(){return""+this.$path()+": line "+this.$lineno()};return b.defn(e,"$to_s",d.$line_info)})(g,null);g.$attr_reader("file");g.$attr_reader("dir");g.$attr_reader("path");g.$attr_reader("lineno");g.$attr_reader("source_lines");g.$attr_accessor("process_lines");c.$initialize=function(c,d,f){var e,g;null==c&&(c=a);null==d&&(d=a);null==f&&(f=w(["normalize"],
{normalize:!1}));if((e=d["$!"]())===a||e._isBoolean&&1!=e)if((e=d["$is_a?"](null==(g=b.Object._scope.String)?b.cm("String"):g))===a||e._isBoolean&&1!=e){this.file=d.$file();this.dir=d.$dir();this.path=!1!==(e=d.$path())&&e!==a?e:"<stdin>";if((e=this.file)!==a&&(!e._isBoolean||1==e)){if((e=this.dir)===a||e._isBoolean&&1!=e)this.dir=(null==(e=b.Object._scope.File)?b.cm("File"):e).$dirname(this.file),this.dir["$=="](".")&&(this.dir=a);if((e=d.$path())===a||e._isBoolean&&1!=e)this.path=(null==(e=b.Object._scope.File)?
b.cm("File"):e).$basename(this.file)}this.lineno=!1!==(e=d.$lineno())&&e!==a?e:1}else this.file=d,e=b.to_ary((null==(g=b.Object._scope.File)?b.cm("File"):g).$split(this.file)),this.dir=null==e[0]?a:e[0],this.path=null==e[1]?a:e[1],this.lineno=1;else this.file=this.dir=a,this.path="<stdin>",this.lineno=1;this.lines=!1!==c&&c!==a?this.$prepare_lines(c,f):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1};
c.$prepare_lines=function(c,d){var f,e;null==d&&(d=w([],{}));return(f=c["$is_a?"](null==(e=b.Object._scope.String)?b.cm("String"):e))===a||f._isBoolean&&1!=f?(f=d["$[]"]("normalize"))===a||f._isBoolean&&1!=f?c.$dup():q.Helpers.$normalize_lines_array(c):(f=d["$[]"]("normalize"))===a||f._isBoolean&&1!=f?c.$split(q.EOL):q.Helpers.$normalize_lines_from_string(c)};c.$process_line=function(b){var c;(c=this.process_lines)===a||c._isBoolean&&1!=c||(this.look_ahead=this.look_ahead["$+"](1));return b};c["$has_more_lines?"]=
function(){var b;return(!1!==(b=this.eof)&&b!==a?b:this.eof=this.$peek_line()["$nil?"]())["$!"]()};c["$next_line_empty?"]=function(){return this.$peek_line()["$nil_or_empty?"]()};c.$peek_line=function(b){var c,f,e=a;null==b&&(b=!1);if((c=!1!==(f=b)&&f!==a?f:this.look_ahead["$>"](0))===a||c._isBoolean&&1!=c){if((c=!1!==(f=this.eof)&&f!==a?f:this.lines["$empty?"]())===a||c._isBoolean&&1!=c)return(c=(e=this.$process_line(this.lines["$[]"](0)))["$!"]())===a||c._isBoolean&&1!=c?e:this.$peek_line();this.eof=
!0;this.look_ahead=0;return a}return(c=this.unescape_next_line)===a||c._isBoolean&&1!=c?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](x(1,-1,!1))};c.$peek_lines=function(b,c){var f,e,g,l,q,p=a,r=a;null==b&&(b=1);null==c&&(c=!0);p=this.look_ahead;r=[];(f=(e=b).$times,f._p=(g=function(){var b,e=a;return(b=e=(g._s||this).$read_line(c))===a||b._isBoolean&&1!=b?(d.$v=a,d):r["$<<"](e)},g._s=this,g),f).call(e);if((f=r["$empty?"]())===a||f._isBoolean&&1!=f)(f=(l=r).$reverse_each,f._p=(q=function(b){var c=
q._s||this;null==b&&(b=a);return c.$unshift(b)},q._s=this,q),f).call(l),!1!==c&&c!==a&&(this.look_ahead=p);return r};c.$read_line=function(b){var c,f,e;null==b&&(b=!1);return(c=!1!==(f=!1!==(e=b)&&e!==a?e:this.look_ahead["$>"](0))&&f!==a?f:this["$has_more_lines?"]())===a||c._isBoolean&&1!=c?a:this.$shift()};c.$read_lines=function(){for(var b,c=a,c=[];(b=this["$has_more_lines?"]())!==a&&(!b._isBoolean||1==b);)c["$<<"](this.$shift());return c};b.defn(g,"$readlines",c.$read_lines);c.$read=function(){return this.$read_lines()["$*"](q.EOL)};
c.$advance=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()};c.$unshift_line=function(b){this.$unshift(b);return a};b.defn(g,"$restore_line",c.$unshift_line);c.$unshift_lines=function(b){var c,f;(c=b.$reverse_each,c._p=(f=function(b){var c=f._s||this;null==b&&(b=a);return c.$unshift(b)},f._s=this,f),c).call(b);return a};b.defn(g,"$restore_lines",c.$unshift_lines);c.$replace_line=function(b){this.$advance();this.$unshift(b);return a};c.$skip_blank_lines=function(){var b,c,f=a,
e=a;if((b=this["$eof?"]())!==a&&(!b._isBoolean||1==b))return 0;for(f=0;!((c=e=this.$peek_line())===a||c._isBoolean&&1!=c||(c=e["$empty?"]())===a||c._isBoolean&&1!=c);)this.$advance(),f=f["$+"](1);return f};c.$skip_comment_lines=function(b){var c,f,e,d,g=a,l=a,p=a,r=a,t=a;null==b&&(b=w([],{}));if((c=this["$eof?"]())!==a&&(!c._isBoolean||1==c))return[];g=[];for(l=b["$[]"]("include_blank_lines");(f=p=this.$peek_line())!==a&&(!f._isBoolean||1==f);)if((f=(e=!1!==l&&l!==a)?p["$empty?"]():e)===a||f._isBoolean&&
1!=f)if((f=(e=r=p["$start_with?"]("//"),!1!==e&&e!==a?t=q.CommentBlockRx.$match(p):e))===a||f._isBoolean&&1!=f)if((e=(d=!1!==r&&r!==a)?q.CommentLineRx["$=~"](p):d)===a||e._isBoolean&&1!=e)break;else g["$<<"](this.$shift());else g["$<<"](this.$shift()),(f=g).$push.apply(f,[].concat(this.$read_lines_until(w(["terminator","read_last_line","skip_processing"],{terminator:t["$[]"](0),read_last_line:!0,skip_processing:!0}))));else g["$<<"](this.$shift());return g};c.$skip_line_comments=function(){var b,
c,f=a,e=a;if((b=this["$eof?"]())!==a&&(!b._isBoolean||1==b))return[];for(f=[];!((c=e=this.$peek_line())===a||c._isBoolean&&1!=c||(c=q.CommentLineRx["$=~"](e))===a||c._isBoolean&&1!=c);)f["$<<"](this.$shift());return f};c.$terminate=function(){this.lineno=this.lineno["$+"](this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return a};c["$eof?"]=function(){return this["$has_more_lines?"]()["$!"]()};b.defn(g,"$empty?",c["$eof?"]);c.$read_lines_until=r=function(c){var g,f,e,m,l,p=r._p||
a,t=a,u=a,v=a,x=a,z=a,K=a,E=a,Y=a,B=a,M=a;null==c&&(c=w([],{}));r._p=null;t=[];(g=c["$[]"]("skip_first_line"))===a||g._isBoolean&&1!=g||this.$advance();(g=(f=this.process_lines,!1!==f&&f!==a?c["$[]"]("skip_processing"):f))===a||g._isBoolean&&1!=g?u=!1:(this.process_lines=!1,u=!0);(g=v=c["$[]"]("terminator"))===a||g._isBoolean&&1!=g?(x=c["$[]"]("break_on_blank_lines"),z=c["$[]"]("break_on_list_continuation")):z=x=!1;K=c["$[]"]("skip_line_comments");for(B=Y=E=!1;(f=(e=B["$!"](),!1!==e&&e!==a?M=this.$read_line():
e))!==a&&(!f._isBoolean||1==f);)if(B=function(){for(;(e=!0)!==a&&(!e._isBoolean||1==e);)return((e=(m=!1!==v&&v!==a)?M["$=="](v):m)===a||e._isBoolean&&1!=e)&&((e=(m=!1!==x&&x!==a)?M["$empty?"]():m)===a||e._isBoolean&&1!=e)?(e=(m=(l=!1!==z&&z!==a)?E:l,!1!==m&&m!==a?M["$=="](q.LIST_CONTINUATION):m))===a||e._isBoolean&&1!=e?(e=(m=p!==a)?(l=b.$yield1(p,M))===d?d.$v:l:m)===a||e._isBoolean&&1!=e?!1:!0:(c["$[]="]("preserve_last_line",!0),!0):!0;return a}(),!1!==B&&B!==a)(f=c["$[]"]("read_last_line"))===a||
f._isBoolean&&1!=f||(t["$<<"](M),E=!0),(f=c["$[]"]("preserve_last_line"))===a||f._isBoolean&&1!=f||(this.$restore_line(M),Y=!0);else if((f=(e=(m=!1!==K&&K!==a)?M["$start_with?"]("//"):m,!1!==e&&e!==a?q.CommentLineRx["$=~"](M):e))===a||f._isBoolean&&1!=f)t["$<<"](M),E=!0;!1!==u&&u!==a&&(this.process_lines=!0,(g=(f=!1!==Y&&Y!==a)?v["$!"]():f)===a||g._isBoolean&&1!=g||(this.look_ahead=this.look_ahead["$-"](1)));return t};c.$shift=function(){this.lineno=this.lineno["$+"](1);this.look_ahead["$=="](0)||
(this.look_ahead=this.look_ahead["$-"](1));return this.lines.$shift()};c.$unshift=function(a){this.lineno=this.lineno["$-"](1);this.look_ahead=this.look_ahead["$+"](1);this.eof=!1;return this.lines.$unshift(a)};c.$cursor=function(){return q.Cursor.$new(this.file,this.dir,this.path,this.lineno)};c.$line_info=function(){return""+this.path+": line "+this.lineno};b.defn(g,"$next_line_info",c.$line_info);c.$prev_line_info=function(){return""+this.path+": line "+this.lineno["$-"](1)};c.$lines=function(){return this.lines.$dup()};
c.$string=function(){return this.lines["$*"](q.EOL)};c.$source=function(){return this.source_lines["$*"](q.EOL)};return(c.$to_s=function(){return this.$line_info()},a)&&"to_s"})(u,null);(function(l,$super){function p(){}var g=p=v(l,$super,"PreprocessorReader",p),c=g._proto,q=g._scope,t,n,h,f;c.document=c.lineno=c.process_lines=c.look_ahead=c.skipping=c.include_stack=c.conditional_stack=c.path=c.include_processor_extensions=c.maxdepth=c.dir=c.lines=c.file=c.includes=c.unescape_next_line=a;g.$attr_reader("include_stack");
g.$attr_reader("includes");c.$initialize=t=function(c,f,d){var g,h,l=a;null==f&&(f=a);null==d&&(d=a);t._p=null;this.document=c;b.find_super_dispatcher(this,"initialize",t,null).apply(this,[f,d,w(["normalize"],{normalize:!0})]);l=c.$attributes().$fetch("max-include-depth",64).$to_i();l["$<"](0)&&(l=0);this.maxdepth=w(["abs","rel"],{abs:l,rel:l});this.include_stack=[];this.includes=(g=c.$references(),!1!==(h=g["$[]"]("includes"))&&h!==a?h:g["$[]="]("includes",[]));this.skipping=!1;this.conditional_stack=
[];return this.include_processor_extensions=a};c.$prepare_lines=n=function(c,f){var d=r.call(arguments,0),g,h,l,p=n._p,t=a,y=a,u=a,v=a,x=a;null==f&&(f=w([],{}));n._p=null;t=b.find_super_dispatcher(this,"prepare_lines",n,p).apply(this,d);if(!((g=(h=this.document,!1!==h&&h!==a?this.document.$attributes()["$has_key?"]("skip-front-matter"):h))===a||g._isBoolean&&1!=g||(g=y=this["$skip_front_matter!"](t))===a||g._isBoolean&&1!=g))this.document.$attributes()["$[]="]("front-matter",y["$*"](q.EOL));if((g=
f.$fetch("condense",!0))!==a&&(!g._isBoolean||1==g)){for(;(h=(l=u=t["$[]"](0),!1!==l&&l!==a?u["$empty?"]():l))!==a&&(!h._isBoolean||1==h);)h=t.$shift(),!1!==h&&h!==a?this.lineno=this.lineno["$+"](1):h;for(;(h=(l=v=t["$[]"](-1),!1!==l&&l!==a?v["$empty?"]():l))!==a&&(!h._isBoolean||1==h);)t.$pop()}if((g=x=f.$fetch("indent",a))!==a&&(!g._isBoolean||1==g))q.Parser["$reset_block_indent!"](t,x.$to_i());return t};c.$process_line=function(b){var c,f,d,g,h=a,l=a;if((c=this.process_lines)===a||c._isBoolean&&
1!=c)return b;if((c=b["$empty?"]())!==a&&(!c._isBoolean||1==c))return this.look_ahead=this.look_ahead["$+"](1),"";if((c=(f=(d=b["$end_with?"]("]"),!1!==d&&d!==a?b["$start_with?"]("[")["$!"]():d),!1!==f&&f!==a?b["$include?"]("::"):f))===a||c._isBoolean&&1!=c){if((c=this.skipping)===a||c._isBoolean&&1!=c)return this.look_ahead=this.look_ahead["$+"](1),b;this.$advance();return a}if((c=(f=b["$include?"]("if"),!1!==f&&f!==a?h=q.ConditionalDirectiveRx.$match(b):f))===a||c._isBoolean&&1!=c){if((c=this.skipping)===
a||c._isBoolean&&1!=c)return(c=(d=!1!==(g=l=b["$start_with?"]("\\include::"))&&g!==a?g:b["$start_with?"]("include::"),!1!==d&&d!==a?h=q.IncludeDirectiveRx.$match(b):d))===a||c._isBoolean&&1!=c?(this.look_ahead=this.look_ahead["$+"](1),b):!1!==l&&l!==a?(this.unescape_next_line=!0,this.look_ahead=this.look_ahead["$+"](1),b["$[]"](x(1,-1,!1))):(c=this.$preprocess_include(h["$[]"](1),h["$[]"](2).$strip()))===a||c._isBoolean&&1!=c?(this.look_ahead=this.look_ahead["$+"](1),b):a;this.$advance();return a}if((c=
b["$start_with?"]("\\"))===a||c._isBoolean&&1!=c){if((c=(f=this).$preprocess_conditional_inclusion.apply(f,[].concat(h.$captures())))===a||c._isBoolean&&1!=c)return this.look_ahead=this.look_ahead["$+"](1),b;this.$advance();return a}this.unescape_next_line=!0;this.look_ahead=this.look_ahead["$+"](1);return b["$[]"](x(1,-1,!1))};c.$peek_line=h=function(c){var f=r.call(arguments,0),d,g=h._p,l=a;null==c&&(c=!1);h._p=null;return(d=l=b.find_super_dispatcher(this,"peek_line",h,g).apply(this,f))===a||d._isBoolean&&
1!=d?(d=this.include_stack["$empty?"]())===a||d._isBoolean&&1!=d?(this.$pop_include(),this.$peek_line(c)):a:l};c.$preprocess_conditional_inclusion=function(b,c,f,d){var g,h,l,n,p,r,t,y,u,v,x=a,z=x=a,D=a,J=D=z=x=a,z=a;if((g=!1!==(h=(l=!1!==(n=b["$=="]("ifdef"))&&n!==a?n:b["$=="]("ifndef"),!1!==l&&l!==a?c["$empty?"]():l))&&h!==a?h:(l=b["$=="]("endif"))?d:l)!==a&&(!g._isBoolean||1==g))return!1;c=c.$downcase();if(b["$=="]("endif"))return x=this.conditional_stack.$size(),x["$>"](0)?(x=this.conditional_stack["$[]"](-1),
(g=!1!==(h=c["$empty?"]())&&h!==a?h:c["$=="](x["$[]"]("target")))===a||g._isBoolean&&1!=g?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+c+"[], expected endif::"+x["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(g=this.conditional_stack["$empty?"]())===a||g._isBoolean&&1!=g?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+c+"[]"),!0;z=!1;if((g=this.skipping)===
a||g._isBoolean&&1!=g)if(D=b,"ifdef"["$==="](D))D=f,a["$==="](D)?z=this.document.$attributes()["$has_key?"](c)["$!"]():","["$==="](D)?z=(g=(h=c.$split(",")).$detect,g._p=(p=function(b){var c=p._s||this;null==c.document&&(c.document=a);null==b&&(b=a);return c.document.$attributes()["$has_key?"](b)},p._s=this,p),g).call(h)["$!"]():"+"["$==="](D)&&(z=(g=(l=c.$split("+")).$detect,g._p=(r=function(b){var c=r._s||this;null==c.document&&(c.document=a);null==b&&(b=a);return c.document.$attributes()["$has_key?"](b)["$!"]()},
r._s=this,r),g).call(l));else if("ifndef"["$==="](D))D=f,a["$==="](D)?z=this.document.$attributes()["$has_key?"](c):","["$==="](D)?z=(g=(n=c.$split(",")).$detect,g._p=(t=function(b){var c=t._s||this;null==c.document&&(c.document=a);null==b&&(b=a);return c.document.$attributes()["$has_key?"](b)["$!"]()},t._s=this,t),g).call(n)["$!"]():"+"["$==="](D)&&(z=(g=(y=c.$split("+")).$detect,g._p=(u=function(b){var c=u._s||this;null==c.document&&(c.document=a);null==b&&(b=a);return c.document.$attributes()["$has_key?"](b)},
u._s=this,u),g).call(y));else if("ifeval"["$==="](D)){if((g=!1!==(v=c["$empty?"]()["$!"]())&&v!==a?v:(x=q.EvalExpressionRx.$match(d.$strip()))["$!"]())!==a&&(!g._isBoolean||1==g))return!1;z=this.$resolve_expr_val(x["$[]"](1));D=x["$[]"](2);J=this.$resolve_expr_val(x["$[]"](3));z=z.$send(D.$to_sym(),J)["$!"]()}if((g=!1!==(v=b["$=="]("ifeval"))&&v!==a?v:d["$!"]())!==a&&(!g._isBoolean||1==g))!1!==z&&z!==a&&(this.skipping=!0),this.conditional_stack["$<<"](w(["target","skip","skipping"],{target:c,skip:z,
skipping:this.skipping}));else if((g=!1!==(v=this.skipping)&&v!==a?v:z)===a||g._isBoolean&&1!=g)z=this.$peek_line(!0),this.$replace_line(d.$rstrip()),this.$unshift(z);return!0};c.$preprocess_include=function(c,f){var g,h,l,n,p,r,t,y,u,v=a,x=a,z=a,A=a,F=a,D=a,J=a,I=a,O=a,ca=a,P=a,Z=a,ba=a,Q=a,ga=a;if((g=(v=this.document.$sub_attributes(c,w(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===a||g._isBoolean&&1!=g){if((g=(h=this["$include_processors?"](),!1!==h&&h!==a?x=(l=(n=this.include_processor_extensions).$find,
l._p=(p=function(b){null==b&&(b=a);return b.$instance()["$handles?"](v)},p._s=this,p),l).call(n):h))===a||g._isBoolean&&1!=g){if(this.document.$safe()["$>="](q.SafeMode._scope.SECURE))return this.$replace_line("link:"+v+"[]"),!0;if((g=(h=(z=this.maxdepth["$[]"]("abs"))["$>"](0))?this.include_stack.$size()["$>="](z):h)===a||g._isBoolean&&1!=g){if(z["$>"](0)){if((g=null==(h=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):h)===a||g._isBoolean&&1!=g)if((g=(h=v["$include?"](":"),!1!==h&&h!==
a?q.UriSniffRx["$=~"](v):h))===a||g._isBoolean&&1!=g){A="file";F=this.document.$normalize_system_path(v,this.dir,a,w(["target_name"],{target_name:"include file"}));if((g=(null==(h=b.Object._scope.File)?b.cm("File"):h)["$file?"](F))===a||g._isBoolean&&1!=g)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+F),this.$replace_line("Unresolved directive in "+this.path+" - include::"+v+"["+f+"]"),!0;D=q.PathResolver.$new().$relative_path(F,this.document.$base_dir())}else{if((g=
this.document.$attributes()["$has_key?"]("allow-uri-read"))===a||g._isBoolean&&1!=g)return this.$replace_line("link:"+v+"[]"),!0;A="uri";F=D=v;(g=this.document.$attributes()["$has_key?"]("cache-uri"))===a||g._isBoolean&&1!=g?(g=(null==(h=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):h)["$!"]())===a||g._isBoolean&&1!=g||(null==(g=b.Object._scope.OpenURI)?b.cm("OpenURI"):g):q.Helpers.$require_library("open-uri/cached","open-uri-cached")}else A="file",F=D=(g=this.include_stack["$empty?"]())===
a||g._isBoolean&&1!=g?(null==(g=b.Object._scope.File)?b.cm("File"):g).$join(this.dir,v):(null==(g=b.Object._scope.Dir)?b.cm("Dir"):g).$pwd()["$=="](this.document.$base_dir())?v:(null==(g=b.Object._scope.File)?b.cm("File"):g).$join(this.dir,v);I=J=a;O=w([],{});(g=f["$empty?"]()["$!"]())===a||g._isBoolean&&1!=g||(O=q.AttributeList.$new(f).$parse(),(g=O["$has_key?"]("lines"))===a||g._isBoolean&&1!=g?(g=O["$has_key?"]("tag"))===a||g._isBoolean&&1!=g?(g=O["$has_key?"]("tags"))===a||g._isBoolean&&1!=g||
(I=O["$[]"]("tags").$split(q.DataDelimiterRx).$to_set()):I=[O["$[]"]("tag")].$to_set():(J=[],(g=(h=O["$[]"]("lines").$split(q.DataDelimiterRx)).$each,g._p=(r=function(c){var e,f,d,g=a,h=a;null==c&&(c=a);if((e=c["$include?"](".."))===a||e._isBoolean&&1!=e)return J["$<<"](c.$to_i());e=b.to_ary((f=(d=c.$split("..")).$map,f._p="to_i".$to_proc(),f).call(d));g=null==e[0]?a:e[0];h=null==e[1]?a:e[1];return h["$=="](-1)?(J["$<<"](g),J["$<<"](1["$/"](0))):J.$concat((null==(e=b.Object._scope.Range)?b.cm("Range"):
e).$new(g,h).$to_a())},r._s=this,r),g).call(h),J=J.$sort().$uniq()));if(!1!==J&&J!==a){if((g=J["$empty?"]())===a||g._isBoolean&&1!=g){ca=[];Z=P=0;try{(g=(l=this).$open,g._p=(t=function(c){var e=t._s||this,f,g,h;null==c&&(c=a);return(f=(g=c).$each_line,f._p=(h=function(e){var f,g,h,l=a;null==e&&(e=a);Z=Z["$+"](1);l=J["$[]"](0);if((f=(g=l["$is_a?"](null==(h=b.Object._scope.Float)?b.cm("Float"):h),!1!==g&&g!==a?l["$infinite?"]():g))===a||f._isBoolean&&1!=f)return c.$lineno()["$=="](l)&&(ca.$push(e),
P["$=="](0)&&(P=Z),J.$shift()),(f=J["$empty?"]())===a||f._isBoolean&&1!=f?a:(d.$v=a,d);ca.$push(e);return P["$=="](0)?P=Z:a},h._s=e,h),f).call(g)},t._s=this,t),g).call(l,F,"r")}catch(C){return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+A+" not readable: "+F),this.$replace_line("Unresolved directive in "+this.path+" - include::"+v+"["+f+"]"),!0}this.$advance();this.$push_include(ca,F,D,P,O)}}else if(!1!==I&&I!==a){if((g=I["$empty?"]())===a||g._isBoolean&&1!=g){ca=[];Z=P=0;ba=
a;Q=(null==(g=b.Object._scope.Set)?b.cm("Set"):g).$new();try{(g=this.$open,g._p=(y=function(c){var e=y._s||this,f,g,h;null==c&&(c=a);return(f=(g=c).$each_line,f._p=(h=function(c){var e=h._s||this,f,g,l,m=a;null==c&&(c=a);Z=Z["$+"](1);(f=q.FORCE_ENCODING)===a||f._isBoolean&&1!=f||c.$force_encoding((null==(f=b.Object._scope.Encoding)?b.cm("Encoding"):f)._scope.UTF_8);c=c.$rstrip();m=c.$chomp("--\x3e").$rstrip();return!1!==ba&&ba!==a?(f=m["$end_with?"]("end::"+ba+"[]"))===a||f._isBoolean&&1!=f?(((f=
(g=m["$end_with?"]("[]"),!1!==g&&g!==a?q.TagDirectiveRx["$=~"](m):g))===a||f._isBoolean&&1!=f)&&ca.$push(c),P["$=="](0)?P=Z:a):ba=a:(f=(g=m["$end_with?"]("[]"),!1!==g&&g!==a?q.TagDirectiveRx["$=~"](m):g))===a||f._isBoolean&&1!=f?a:(f=(g=I).$each,f._p=(l=function(b){var c;null==b&&(b=a);if((c=m["$end_with?"]("tag::"+b+"[]"))===a||c._isBoolean&&1!=c)return a;ba=b;Q["$<<"](b);return d.$v=a,d},l._s=e,l),f).call(g)},h._s=e,h),f).call(g)},y._s=this,y),g).call(this,F,"r")}catch(R){return this.$warn("asciidoctor: WARNING: "+
this.$line_info()+": include "+A+" not readable: "+F),this.$replace_line("Unresolved directive in "+this.path+" - include::"+v+"["+f+"]"),!0}((g=(ga=I.$to_a()["$-"](Q.$to_a()))["$empty?"]())===a||g._isBoolean&&1!=g)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+(ga.$size()["$>"](1)?"s":a)+" '"+ga["$*"](",")+"' not found in include "+A+": "+F);this.$advance();this.$push_include(ca,F,D,P,O)}}else try{this.$advance(),this.$push_include((g=this.$open,g._p=(u=function(b){null==b&&(b=a);
return b.$read()},u._s=this,u),g).call(this,F,"r"),F,D,1,O)}catch(na){this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+A+" not readable: "+F),this.$replace_line("Unresolved directive in "+this.path+" - include::"+v+"["+f+"]")}return!0}return!1}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded");return!1}this.$advance();x.$process_method()["$[]"](this.document,this,v,q.AttributeList.$new(f).$parse());return!0}this.document.$attributes().$fetch("attribute-missing",
q.Compliance.$attribute_missing())["$=="]("skip")?this.$replace_line("Unresolved directive in "+this.path+" - include::"+c+"["+f+"]"):this.$advance();return!0};c.$push_include=function(c,f,d,g,h){var l,n=a,p=a;null==f&&(f=a);null==d&&(d=a);null==g&&(g=1);null==h&&(h=w([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==f&&f!==a?(this.file=f,this.dir=q.File.$dirname(f),this.process_lines=q.ASCIIDOC_EXTENSIONS["$[]"]((null==
(l=b.Object._scope.File)?b.cm("File"):l).$extname(f))):(this.file=a,this.dir=".",this.process_lines=!0);!1!==d&&d!==a?(this.includes["$<<"](q.Helpers.$rootname(d)),f=d):f="<stdin>";this.path=f;this.lineno=g;(l=h["$has_key?"]("depth"))===a||l._isBoolean&&1!=l||(n=h["$[]"]("depth").$to_i(),n["$<="](0)&&(n=1),this.maxdepth=w(["abs","rel"],{abs:this.include_stack.$size()["$-"](1)["$+"](n),rel:n}));(l=(this.lines=this.$prepare_lines(c,w(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:h["$[]"]("indent")})))["$empty?"]())===
a||l._isBoolean&&1!=l?((l=h["$has_key?"]("leveloffset"))===a||l._isBoolean&&1!=l||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+h["$[]"]("leveloffset")),this.lines.$push(""),(l=p=this.document.$attr("leveloffset"))===a||l._isBoolean&&1!=l?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+p),this.lineno=this.lineno["$-"](2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return a};c.$pop_include=function(){var c;this.include_stack.$size()["$>"](0)&&(c=b.to_ary(this.include_stack.$pop()),
this.lines=null==c[0]?a:c[0],this.file=null==c[1]?a:c[1],this.dir=null==c[2]?a:c[2],this.path=null==c[3]?a:c[3],this.lineno=null==c[4]?a:c[4],this.maxdepth=null==c[5]?a:c[5],this.process_lines=null==c[6]?a:c[6],this.eof=this.lines["$empty?"](),this.look_ahead=0);return a};c.$include_depth=function(){return this.include_stack.$size()};c["$exceeded_max_depth?"]=function(){var b,c,f=a;return(b=(c=(f=this.maxdepth["$[]"]("abs"))["$>"](0))?this.include_stack.$size()["$>="](f):c)===a||b._isBoolean&&1!=
b?!1:this.maxdepth["$[]"]("rel")};c.$shift=f=function(){var c=r.call(arguments,0),d,g=f._p;f._p=null;if((d=this.unescape_next_line)===a||d._isBoolean&&1!=d)return b.find_super_dispatcher(this,"shift",f,g).apply(this,c);this.unescape_next_line=!1;return b.find_super_dispatcher(this,"shift",f,g).apply(this,c)["$[]"](x(1,-1,!1))};c["$skip_front_matter!"]=function(b,c){var f,d,g,h=a,l=a;null==c&&(c=!0);h=a;if(b["$[]"](0)["$=="]("---")){l=b.$dup();h=[];b.$shift();!1!==c&&c!==a&&(this.lineno=this.lineno["$+"](1));
for(;(d=(g=b["$empty?"]()["$!"](),!1!==g&&g!==a?b["$[]"](0)["$=="]("---")["$!"]():g))!==a&&(!d._isBoolean||1==d);)h.$push(b.$shift()),!1!==c&&c!==a&&(this.lineno=this.lineno["$+"](1));(f=b["$empty?"]())===a||f._isBoolean&&1!=f?(b.$shift(),!1!==c&&c!==a&&(this.lineno=this.lineno["$+"](1))):((f=b).$unshift.apply(f,[].concat(l)),!1!==c&&c!==a&&(this.lineno=0),h=a)}return h};c.$resolve_expr_val=function(b){var c,f,d,g=a,h=a,g=b,h=a;(c=!1!==(f=(d=g["$start_with?"]('"'),!1!==d&&d!==a?g["$end_with?"]('"'):
d))&&f!==a?f:(d=g["$start_with?"]("'"),!1!==d&&d!==a?g["$end_with?"]("'"):d))===a||c._isBoolean&&1!=c||(h="string",g=g["$[]"](x(1,-1,!0)));(c=g["$include?"]("{"))===a||c._isBoolean&&1!=c||(g=this.document.$sub_attributes(g));h["$=="]("string")||(g=(c=g["$empty?"]())===a||c._isBoolean&&1!=c?(c=g.$strip()["$empty?"]())===a||c._isBoolean&&1!=c?g["$=="]("true")?!0:g["$=="]("false")?!1:(c=g["$include?"]("."))===a||c._isBoolean&&1!=c?g.$to_i():g.$to_f():" ":a);return g};c["$include_processors?"]=function(){var b,
c;return(b=this.include_processor_extensions["$nil?"]())===a||b._isBoolean&&1!=b?this.include_processor_extensions["$=="](!1)["$!"]():(b=(c=this.document["$extensions?"](),!1!==c&&c!==a?this.document.$extensions()["$include_processors?"]():c))===a||b._isBoolean&&1!=b?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()};return(c.$to_s=function(){var b,c,f;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+
this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(b=(c=this.include_stack).$map,b._p=(f=function(b){null==b&&(b=a);return b.$to_s()},f._s=this,f),b).call(c).$join(", ")+"]}>"},a)&&"to_s"})(u,t.Reader)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.slice,r=b.module,z=b.klass,v=b.hash2,w=b.range;return function(x){x=r(x,"Asciidoctor");(function(r,$super){function l(){}var k=l=z(r,$super,"Section",l),p=k._proto,g=k._scope,c,q,y;p.level=p.document=p.parent=p.number=p.title=p.numbered=p.blocks=a;k.$attr_accessor("index");k.$attr_accessor("number");k.$attr_accessor("sectname");k.$attr_accessor("special");k.$attr_accessor("numbered");p.$initialize=c=function(d,g,f,e){var l,k;null==d&&(d=a);null==g&&(g=a);null==f&&(f=!0);
null==e&&(e=v([],{}));c._p=null;b.find_super_dispatcher(this,"initialize",c,null).apply(this,[d,"section",e]);this.level=!1!==g&&g!==a?g:!1!==d&&d!==a?d.$level()["$+"](1):1;this.numbered=(l=!1!==f&&f!==a)?this.level["$>"](0):l;this.special=(l=(k=!1!==d&&d!==a)?d.$context()["$=="]("section"):k,!1!==l&&l!==a?d.$special():l);this.index=0;return this.number=1};b.defn(k,"$name",p.$title);p.$generate_id=function(){var b,c,f=a,e=a,d=a,l=e=a;if((b=this.document.$attributes()["$has_key?"]("sectids"))===a||
b._isBoolean&&1!=b)return a;f=!1!==(b=this.document.$attributes()["$[]"]("idseparator"))&&b!==a?b:"_";e=!1!==(b=this.document.$attributes()["$[]"]("idprefix"))&&b!==a?b:"_";d=""+e+this.$title().$downcase().$gsub(g.InvalidSectionIdCharsRx,f).$tr_s(f,f).$chomp(f);if((b=(c=e["$empty?"](),!1!==c&&c!==a?d["$start_with?"](f):c))!==a&&(!b._isBoolean||1==b))for(d=d["$[]"](w(1,-1,!1));(c=d["$start_with?"](f))!==a&&(!c._isBoolean||1==c);)d=d["$[]"](w(1,-1,!1));e=d;for(l=g.Compliance.$unique_id_start_index();(c=
this.document.$references()["$[]"]("ids")["$has_key?"](e))!==a&&(!c._isBoolean||1==c);)e=""+d+f+l,l=l["$+"](1);return e};p.$sectnum=function(b,c){var f,e,d,g;null==b&&(b=".");null==c&&(c=a);!1!==(f=c)&&f!==a?f:c=c["$=="](!1)?"":b;return(f=(e=(d=(g=this.level,!1!==g&&g!==a?this.level["$>"](1):g),!1!==d&&d!==a?this.parent:d),!1!==e&&e!==a?this.parent.$context()["$=="]("section"):e))===a||f._isBoolean&&1!=f?""+this.number+c:""+this.parent.$sectnum(b)+this.number+c};p["$<<"]=q=function(c){var g=d.call(arguments,
0),f=q._p;q._p=null;b.find_super_dispatcher(this,"<<",q,f).apply(this,g);return c.$context()["$=="]("section")?this.$assign_index(c):a};return(p.$to_s=y=function(){var c=d.call(arguments,0),g,f=y._p,e=a;y._p=null;if((g=this.title["$=="](a)["$!"]())===a||g._isBoolean&&1!=g)return b.find_super_dispatcher(this,"to_s",y,f).apply(this,c);e=(g=this.numbered)===a||g._isBoolean&&1!=g?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+
e.$inspect()+", blocks: "+this.blocks.$size()+"}>"},a)&&"to_s"})(x,x._scope.AbstractBlock)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.module,r=b.klass,z=b.hash2;return function(v){(function(d,$super){function u(){}var t=u=r(d,$super,"Stylesheets",u),l=t._proto,k=t._scope,p;l.primary_stylesheet_data=l.coderay_stylesheet_data=l.pygments_stylesheet_data=a;b.cdecl(k,"DEFAULT_STYLESHEET_NAME","asciidoctor-default.css");b.cdecl(k,"DEFAULT_PYGMENTS_STYLE","default");b.cdecl(k,"STYLESHEETS_DATA_PATH",(null==(p=b.Object._scope.File)?b.cm("File"):p).$join(k.DATA_PATH,"stylesheets"));t.__instance__=t.$new();b.defs(t,
"$instance",function(){null==this.__instance__&&(this.__instance__=a);return this.__instance__});l.$primary_stylesheet_name=function(){return k.DEFAULT_STYLESHEET_NAME};l.$primary_stylesheet_data=function(){var d,c;return!1!==(d=this.primary_stylesheet_data)&&d!==a?d:this.primary_stylesheet_data=(null==(c=b.Object._scope.IO)?b.cm("IO"):c).$read((null==(c=b.Object._scope.File)?b.cm("File"):c).$join(k.STYLESHEETS_DATA_PATH,"asciidoctor-default.css")).$chomp()};l.$embed_primary_stylesheet=function(){return"<style>\n"+
this.$primary_stylesheet_data()+"\n</style>"};l.$write_primary_stylesheet=function(d){var c,l,k,n;return(c=(l=null==(n=b.Object._scope.File)?b.cm("File"):n).$open,c._p=(k=function(b){var c=k._s||this;null==b&&(b=a);return b.$write(c.$primary_stylesheet_data())},k._s=this,k),c).call(l,(null==(n=b.Object._scope.File)?b.cm("File"):n).$join(d,this.$primary_stylesheet_name()),"w")};l.$coderay_stylesheet_name=function(){return"coderay-asciidoctor.css"};l.$coderay_stylesheet_data=function(){var d,c;return!1!==
(d=this.coderay_stylesheet_data)&&d!==a?d:this.coderay_stylesheet_data=(null==(c=b.Object._scope.IO)?b.cm("IO"):c).$read((null==(c=b.Object._scope.File)?b.cm("File"):c).$join(k.STYLESHEETS_DATA_PATH,"coderay-asciidoctor.css")).$chomp()};l.$embed_coderay_stylesheet=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"};l.$write_coderay_stylesheet=function(d){var c,l,k,n;return(c=(l=null==(n=b.Object._scope.File)?b.cm("File"):n).$open,c._p=(k=function(b){var c=k._s||this;null==b&&
(b=a);return b.$write(c.$coderay_stylesheet_data())},k._s=this,k),c).call(l,(null==(n=b.Object._scope.File)?b.cm("File"):n).$join(d,this.$coderay_stylesheet_name()),"w")};l.$pygments_stylesheet_name=function(b){var c;null==b&&(b=a);!1!==(c=b)&&c!==a?c:b=k.DEFAULT_PYGMENTS_STYLE;return"pygments-"+b+".css"};l.$pygments_stylesheet_data=function(b){var c;null==b&&(b=a);!1!==(c=b)&&c!==a&&c;return!1!==(c=this.pygments_stylesheet_data)&&c!==a?c:this.pygments_stylesheet_data=this.$load_pygments()};l.$embed_pygments_stylesheet=
function(b){null==b&&(b=a);return"<style>\n"+this.$pygments_stylesheet_data(b)+"\n</style>"};l.$write_pygments_stylesheet=function(d,c){var l,k,n,h;null==c&&(c=a);return(l=(k=null==(h=b.Object._scope.File)?b.cm("File"):h).$open,l._p=(n=function(b){var e=n._s||this;null==b&&(b=a);return b.$write(e.$pygments_stylesheet_data(c))},n._s=this,n),l).call(k,(null==(h=b.Object._scope.File)?b.cm("File"):h).$join(d,this.$pygments_stylesheet_name(c)),"w")};return(l.$load_pygments=function(){var d;((d=null==b.Object._scope.Pygments?
a:"constant")===a||d._isBoolean&&1!=d)&&k.Helpers.$require_library("pygments","pygments.rb");return z([],{})},a)&&"load_pygments"})(d(v,"Asciidoctor"),null)}(b.top)})(Opal);
(function(b){var a=b.nil,d=b.slice,r=b.module,z=b.klass,v=b.hash2,w=b.range;return function(x){x=r(x,"Asciidoctor");var u=x._scope;(function(d,$super){function k(){}var p=k=z(d,$super,"Table",k),g=p._proto,c=p._scope,q;g.attributes=g.document=g.has_header_option=g.rows=a;(function(a,$super){function c(){}var f=c=z(a,$super,"Rows",c),e=f._proto;f.$attr_accessor("head","foot","body");e.$initialize=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=
c};return b.defn(f,"$[]",e.$send)})(p,null);b.cdecl(c,"DEFAULT_DATA_FORMAT","psv");b.cdecl(c,"DATA_FORMATS",["psv","dsv","csv"]);b.cdecl(c,"DEFAULT_DELIMITERS",v(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));b.cdecl(c,"TEXT_STYLES",v("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));b.cdecl(c,"ALIGNMENTS",v(["h","v"],{h:v(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:v(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));
p.$attr_accessor("columns");p.$attr_accessor("rows");p.$attr_accessor("has_header_option");g.$initialize=q=function(d,g){var h,f,e,m=a,k=a;q._p=null;b.find_super_dispatcher(this,"initialize",q,null).apply(this,[d,"table"]);this.rows=c.Rows.$new();this.columns=[];this.has_header_option=g["$has_key?"]("header-option");m=g["$[]"]("width");k=m.$to_i().$abs();(h=!1!==(f=(e=k["$=="](0))?m["$=="]("0")["$!"]():e)&&f!==a?f:k["$>"](100))===a||h._isBoolean&&1!=h||(k=100);this.attributes["$[]="]("tablepcwidth",
k);return(h=this.document.$attributes()["$has_key?"]("pagewidth"))===a||h._isBoolean&&1!=h?a:(h="tableabswidth",f=this.attributes,!1!==(e=f["$[]"](h))&&e!==a?e:f["$[]="](h,this.attributes["$[]"]("tablepcwidth").$to_f()["$/"](100)["$*"](this.document.$attributes()["$[]"]("pagewidth")).$round()))};g["$header_row?"]=function(){var b;return b=this.has_header_option,!1!==b&&b!==a?this.rows.$body()["$empty?"]():b};g.$create_columns=function(b){var d,g,f,e,m=a,k=a,q=a,m=0,k=[];(d=b.$each,d._p=(g=function(b){var e=
g._s||this;null==b&&(b=a);m=m["$+"](b["$[]"]("width"));return k["$<<"](c.Column.$new(e,k.$size(),b))},g._s=this,g),d).call(b);if((d=k["$empty?"]())===a||d._isBoolean&&1!=d)this.attributes["$[]="]("colcount",k.$size()),q=100["$/"](k.$size()).$floor(),(d=(f=k).$each,d._p=(e=function(b){null==b&&(b=a);return b.$assign_width(m,q)},e._s=this,e),d).call(f);this.columns=k;return a};return(g.$partition_header_footer=function(b){var c,d,f,e,g=a,k=a;this.attributes["$[]="]("rowcount",this.rows.$body().$size());
g=this.rows.$body().$size();(c=(d=g["$>"](0))?this.has_header_option:d)===a||c._isBoolean&&1!=c||(k=this.rows.$body().$shift(),g=g["$-"](1),(c=(d=k).$each,c._p=(f=function(b){null==b&&(b=a);return b["$style="](a)},f._s=this,f),c).call(d),this.rows["$head="]([k]));if((c=(e=g["$>"](0))?b["$has_key?"]("footer-option"):e)!==a&&(!c._isBoolean||1==c))this.rows["$foot="]([this.rows.$body().$pop()]);return a},a)&&"partition_header_footer"})(x,u.AbstractBlock);(function(d,$super){function k(){}var p=k=z(d,
$super,"Column",k),g=p._proto,c;g.attributes=a;p.$attr_accessor("style");g.$initialize=c=function(d,g,k){var h;null==k&&(k=v([],{}));c._p=null;b.find_super_dispatcher(this,"initialize",c,null).apply(this,[d,"column"]);this.style=k["$[]"]("style");k["$[]="]("colnumber",g["$+"](1));d="width";g=k;!1!==(h=g["$[]"](d))&&h!==a?h:g["$[]="](d,1);d="halign";g=k;!1!==(h=g["$[]"](d))&&h!==a?h:g["$[]="](d,"left");d="valign";g=k;!1!==(h=g["$[]"](d))&&h!==a?h:g["$[]="](d,"top");return this.$update_attributes(k)};
b.defn(p,"$table",g.$parent);return(g.$assign_width=function(b,c){var d,g=a,g=b["$>"](0)?this.attributes["$[]"]("width").$to_f()["$/"](b)["$*"](100).$floor():c;this.attributes["$[]="]("colpcwidth",g);if((d=this.$parent().$attributes()["$has_key?"]("tableabswidth"))!==a&&(!d._isBoolean||1==d))this.attributes["$[]="]("colabswidth",g.$to_f()["$/"](100)["$*"](this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a},a)&&"assign_width"})(u.Table,u.AbstractNode);(function(r,$super){function k(){}
var p=k=z(r,$super,"Cell",k),g=p._proto,c=p._scope,q,u;g.style=g.document=g.text=g.inner_document=g.colspan=g.rowspan=g.attributes=a;p.$attr_accessor("style");p.$attr_accessor("colspan");p.$attr_accessor("rowspan");b.defn(p,"$column",g.$parent);p.$attr_reader("inner_document");g.$initialize=q=function(d,g,f,e){var m,k,p=a,r=a,t=a,u=a;null==f&&(f=v([],{}));null==e&&(e=a);q._p=null;b.find_super_dispatcher(this,"initialize",q,null).apply(this,[d,"cell"]);this.text=g;this.rowspan=this.colspan=this.style=
a;!1!==d&&d!==a&&(this.style=d.$attributes()["$[]"]("style"),this.$update_attributes(d.$attributes()));!1!==f&&f!==a&&(this.colspan=f.$delete("colspan"),this.rowspan=f.$delete("rowspan"),(m=f["$has_key?"]("style"))===a||m._isBoolean&&1!=m||(this.style=f["$[]"]("style")),this.$update_attributes(f));if((m=(k=this.style["$=="]("asciidoc"))?d.$table()["$header_row?"]()["$!"]():k)===a||m._isBoolean&&1!=m)return a;p=this.document.$attributes().$delete("doctitle");r=this.text.$split(c.EOL);if((m=!1!==(k=
r["$empty?"]())&&k!==a?k:r["$[]"](0)["$include?"]("::")["$!"]())===a||m._isBoolean&&1!=m)t=r["$[]"](0),u=c.PreprocessorReader.$new(this.document,t).$readlines(),(m=u["$=="](t)["$!"]())===a||m._isBoolean&&1!=m||(r.$shift(),(m=r).$unshift.apply(m,[].concat(u)));this.inner_document=c.Document.$new(r,v(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:e}));return(k=p["$nil?"]())===a||k._isBoolean&&1!=k?this.document.$attributes()["$[]="]("doctitle",p):a};g.$text=function(){return this.$apply_normal_subs(this.text).$strip()};
g.$content=function(){var b,d,f;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(b=(d=this.$text().$split(c.BlankLineRx)).$map,b._p=(f=function(b){var d=f._s||this,g,h;null==d.style&&(d.style=a);null==b&&(b=a);return(g=!1!==(h=d.style["$!"]())&&h!==a?h:d.style["$=="]("header"))===a||g._isBoolean&&1!=g?c.Inline.$new(d.$parent(),"quoted",b,v(["type"],{type:d.style})).$convert():b},f._s=this,f),b).call(d)};return(g.$to_s=u=function(){var c=d.call(arguments,0),g,f=u._p;u._p=null;return""+
b.find_super_dispatcher(this,"to_s",u,f).apply(this,c).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(g=this.colspan)&&g!==a?g:1)+", rowspan: "+(!1!==(g=this.rowspan)&&g!==a?g:1)+", attributes: "+this.attributes+"]"},a)&&"to_s"})(u.Table,u.AbstractNode);(function(b,$super){function d(){}var p=d=z(b,$super,"ParserContext",d),g=p._proto,c=p._scope;g.format=g.delimiter=g.delimiter_re=g.buffer=g.cell_specs=g.cell_open=g.last_cursor=g.table=g.current_row=g.col_count=g.col_visits=g.active_rowspans=
g.linenum=a;p.$attr_accessor("table");p.$attr_accessor("format");p.$attr_reader("col_count");p.$attr_accessor("buffer");p.$attr_reader("delimiter");p.$attr_reader("delimiter_re");g.$initialize=function(b,d,g){var h,f,e;null==g&&(g=v([],{}));this.reader=b;this.table=d;this.last_cursor=b.$cursor();(h=this.format=g["$[]"]("format"))===a||h._isBoolean&&1!=h?this.format=c.Table._scope.DEFAULT_DATA_FORMAT:((h=c.Table._scope.DATA_FORMATS["$include?"](this.format))===a||h._isBoolean&&1!=h)&&this.$raise("Illegal table format: "+
this.format);this.delimiter=(h=(f=(e=this.format["$=="]("psv"))?g["$has_key?"]("separator")["$!"]():e,!1!==f&&f!==a?d.$document()["$nested?"]():f))===a||h._isBoolean&&1!=h?!1!==(h=g["$[]"]("separator"))&&h!==a?h:c.Table._scope.DEFAULT_DELIMITERS["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+c.Regexp.$escape(this.delimiter));this.col_count=(h=d.$columns()["$empty?"]())===a||h._isBoolean&&1!=h?d.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=
[0];this.col_visits=0;this.current_row=[];return this.linenum=-1};g["$starts_with_delimiter?"]=function(a){return a["$start_with?"](this.delimiter)};g.$match_delimiter=function(a){return this.delimiter_re.$match(a)};g.$skip_matched_delimiter=function(b,c){null==c&&(c=!1);this.buffer=""+this.buffer+(!1!==c&&c!==a?b.$pre_match().$chop():b.$pre_match())+this.delimiter;return b.$post_match()};g["$buffer_has_unclosed_quotes?"]=function(b){var c,d,g=a;null==b&&(b=a);g=(""+this.buffer+b).$strip();return c=
(d=g["$start_with?"]('"'),!1!==d&&d!==a?g["$start_with?"]('""')["$!"]():d),!1!==c&&c!==a?g["$end_with?"]('"')["$!"]():c};g["$buffer_quoted?"]=function(){var b;this.buffer=this.buffer.$lstrip();return b=this.buffer["$start_with?"]('"'),!1!==b&&b!==a?this.buffer["$start_with?"]('""')["$!"]():b};g.$take_cell_spec=function(){return this.cell_specs.$shift()};g.$push_cell_spec=function(b){var c;null==b&&(b=v([],{}));this.cell_specs["$<<"](!1!==(c=b)&&c!==a?c:v([],{}));return a};g.$keep_cell_open=function(){this.cell_open=
!0;return a};g.$mark_cell_closed=function(){this.cell_open=!1;return a};g["$cell_open?"]=function(){return this.cell_open};g["$cell_closed?"]=function(){return this.cell_open["$!"]()};g.$close_open_cell=function(b){var c;null==b&&(b=v([],{}));this.$push_cell_spec(b);(c=this["$cell_open?"]())===a||c._isBoolean&&1!=c||this.$close_cell(!0);this.$advance();return a};g.$close_cell=function(b){var d,g,h,f=a,e=a,m=a;null==b&&(b=!1);f=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(e=this.$take_cell_spec(),
(d=e["$nil?"]())===a||d._isBoolean&&1!=d?(m=e.$fetch("repeatcol",1),e.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),e=v([],{}),m=1)):(e=a,m=1,!this.format["$=="]("csv")||(d=(g=f["$empty?"]()["$!"](),!1!==g&&g!==a?f["$include?"]('"'):g))===a||d._isBoolean&&1!=d||((d=(g=f["$start_with?"]('"'),!1!==g&&g!==a?f["$end_with?"]('"'):g))===a||d._isBoolean&&1!=d||(f=f["$[]"](w(1,-1,!0)).$strip()),f=f.$tr_s('"',
'"')));(d=(g=1).$upto,d._p=(h=function(d){var g=h._s||this,k,n,p,r,t,u,w=a,y=a,w=a;null==g.col_count&&(g.col_count=a);null==g.table&&(g.table=a);null==g.current_row&&(g.current_row=a);null==g.last_cursor&&(g.last_cursor=a);null==g.reader&&(g.reader=a);null==g.col_visits&&(g.col_visits=a);null==g.linenum&&(g.linenum=a);null==d&&(d=a);g.col_count["$=="](-1)?(g.table.$columns()["$<<"](w=c.Table._scope.Column.$new(g.table,g.current_row.$size()["$+"](d)["$-"](1))),(k=(n=(p=!1!==e&&e!==a)?e["$has_key?"]("colspan"):
p,!1!==n&&n!==a?(y=e["$[]"]("colspan").$to_i()["$-"](1))["$>"](0):n))===a||k._isBoolean&&1!=k||(k=(n=y).$times,k._p=(r=function(b){var e=r._s||this;null==e.table&&(e.table=a);null==e.current_row&&(e.current_row=a);null==b&&(b=a);return e.table.$columns()["$<<"](c.Table._scope.Column.$new(e.table,e.current_row.$size()["$+"](d)["$+"](b)["$-"](1)))},r._s=g,r),k).call(n)):w=g.table.$columns()["$[]"](g.current_row.$size());w=c.Table._scope.Cell.$new(w,f,e,g.last_cursor);g.last_cursor=g.reader.$cursor();
((k=!1!==(p=w.$rowspan()["$!"]())&&p!==a?p:w.$rowspan()["$=="](1))===a||k._isBoolean&&1!=k)&&g.$activate_rowspan(w.$rowspan(),!1!==(k=w.$colspan())&&k!==a?k:1);g.col_visits=g.col_visits["$+"](!1!==(k=w.$colspan())&&k!==a?k:1);g.current_row["$<<"](w);return(k=(p=g["$end_of_row?"](),!1!==p&&p!==a?!1!==(t=!1!==(u=g.col_count["$=="](-1)["$!"]())&&u!==a?u:g.linenum["$>"](0))&&t!==a?t:(u=!1!==b&&b!==a)?d["$=="](m):u:p))===a||k._isBoolean&&1!=k?a:g.$close_row()},h._s=this,h),d).call(g,m);this.cell_open=
!1;return a};g.$close_row=function(){var b,c;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();b=this.active_rowspans;!1!==(c=b["$[]"](0))&&c!==a?c:b["$[]="](0,0);return a};g.$activate_rowspan=function(b,c){var d,g,f;(d=(g=(1).$upto(b["$-"](1))).$each,d._p=(f=function(b){var d=f._s||this,g;null==d.active_rowspans&&(d.active_rowspans=a);null==b&&(b=a);return d.active_rowspans["$[]="](b,
(!1!==(g=d.active_rowspans["$[]"](b))&&g!==a?g:0)["$+"](c))},f._s=this,f),d).call(g);return a};g["$end_of_row?"]=function(){var b;return!1!==(b=this.col_count["$=="](-1))&&b!==a?b:this.$effective_col_visits()["$=="](this.col_count)};g.$effective_col_visits=function(){return this.col_visits["$+"](this.active_rowspans["$[]"](0))};return(g.$advance=function(){return this.linenum=this.linenum["$+"](1)},a)&&"advance"})(u.Table,null)}(b.top)})(Opal);
(function(b){var a,d=b.top,r=b.nil,z=b.gvars,v=b.module,w=b.hash2,x=b.range,u=b.hash;null==z[":"]&&(z[":"]=r);((a=null!=b.RUBY_ENGINE)===r||a._isBoolean&&1!=a)&&b.cdecl(b,"RUBY_ENGINE","unknown");b.cdecl(b,"RUBY_ENGINE_OPAL",b.RUBY_ENGINE["$=="]("opal"));b.cdecl(b,"RUBY_ENGINE_JRUBY",b.RUBY_ENGINE["$=="]("jruby"));b.cdecl(b,"RUBY_MIN_VERSION_1_9",b.RUBY_VERSION["$>="]("1.9"));b.cdecl(b,"RUBY_MIN_VERSION_2",b.RUBY_VERSION["$>="]("2"));b.RUBY_ENGINE["$=="]("opal");z[":"].$unshift(b.File.$dirname("asciidoctor"));
(function(a){a=v(a,"Asciidoctor");var d=a._scope,k,p,g,c=r,q=r;b.cdecl(d,"RUBY_ENGINE",null==(k=b.Object._scope.RUBY_ENGINE)?b.cm("RUBY_ENGINE"):k);(function(a){a=v(a,"SafeMode")._scope;b.cdecl(a,"UNSAFE",0);b.cdecl(a,"SAFE",1);b.cdecl(a,"SERVER",10);b.cdecl(a,"SECURE",20)})(a);(function(a){a=v(a,"Compliance");var c;a.keys=(null==(c=b.Object._scope.Set)?b.cm("Set"):c).$new();(function(a){return a.$attr("keys")})(a.$singleton_class());b.defs(a,"$define",function(a,c){var d,g;null==this.keys&&(this.keys=
r);(d=!1!==(g=a["$=="]("keys"))&&g!==r?g:this["$respond_to?"](a))===r||d._isBoolean&&1!=d||this.$raise(null==(d=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):d,"illegal key name: "+a);this.$instance_variable_set("@"+a,c);this.$singleton_class().$send("attr_accessor",a);return this.keys["$<<"](a)});a.$define("block_terminates_paragraph",!0);a.$define("strict_verbatim_paragraphs",!0);a.$define("underline_style_section_titles",!0);a.$define("unwrap_standalone_preamble",!0);a.$define("attribute_missing",
"skip");a.$define("attribute_undefined","drop-line");a.$define("shorthand_property_syntax",!0);a.$define("unique_id_start_index",2);a.$define("markdown_syntax",!0)})(a);b.cdecl(d,"ROOT_PATH",(null==(k=b.Object._scope.File)?b.cm("File"):k).$dirname((null==(k=b.Object._scope.File)?b.cm("File"):k).$dirname((null==(k=b.Object._scope.File)?b.cm("File"):k).$expand_path("asciidoctor"))));b.cdecl(d,"LIB_PATH",(null==(k=b.Object._scope.File)?b.cm("File"):k).$join(d.ROOT_PATH,"lib"));b.cdecl(d,"DATA_PATH",
(null==(k=b.Object._scope.File)?b.cm("File"):k).$join(d.ROOT_PATH,"data"));try{b.cdecl(d,"USER_HOME",(null==(k=b.Object._scope.Dir)?b.cm("Dir"):k).$home())}catch(y){b.cdecl(d,"USER_HOME",!1!==(k=(null==(p=b.Object._scope.ENV)?b.cm("ENV"):p)["$[]"]("HOME"))&&k!==r?k:(null==(p=b.Object._scope.Dir)?b.cm("Dir"):p).$pwd())}b.cdecl(d,"COERCE_ENCODING",(k=(null==(p=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):p)["$!"](),!1!==k&&k!==r?null==(p=b.Object._scope.RUBY_MIN_VERSION_1_9)?b.cm("RUBY_MIN_VERSION_1_9"):
p:k));b.cdecl(d,"FORCE_ENCODING",(k=d.COERCE_ENCODING,!1!==k&&k!==r?(null==(p=b.Object._scope.Encoding)?b.cm("Encoding"):p).$default_external()["$=="]((null==(p=b.Object._scope.Encoding)?b.cm("Encoding"):p)._scope.UTF_8)["$!"]():k));b.cdecl(d,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());b.cdecl(d,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());b.cdecl(d,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());b.cdecl(d,"FORCE_UNICODE_LINE_LENGTH",(null==(k=b.Object._scope.RUBY_MIN_VERSION_1_9)?
b.cm("RUBY_MIN_VERSION_1_9"):k)["$!"]());b.cdecl(d,"SUPPORTS_GSUB_RESULT_HASH",(k=null==(p=b.Object._scope.RUBY_MIN_VERSION_1_9)?b.cm("RUBY_MIN_VERSION_1_9"):p,!1!==k&&k!==r?(null==(p=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):p)["$!"]():k));b.cdecl(d,"EOL","\n");b.cdecl(d,"NULL","\x00");b.cdecl(d,"TAB","\t");b.cdecl(d,"TAB_PATTERN",/\t/);b.cdecl(d,"DEFAULT_DOCTYPE","article");b.cdecl(d,"DEFAULT_BACKEND","html5");b.cdecl(d,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());b.cdecl(d,
"DEFAULT_STYLESHEET_NAME","asciidoctor-default.css");b.cdecl(d,"BACKEND_ALIASES",w(["html","docbook"],{html:"html5",docbook:"docbook5"}));b.cdecl(d,"DEFAULT_PAGE_WIDTHS",w(["docbook"],{docbook:425}));b.cdecl(d,"DEFAULT_EXTENSIONS",w(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));b.cdecl(d,"ASCIIDOC_EXTENSIONS",w([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));b.cdecl(d,"SECTION_LEVELS",
w(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));b.cdecl(d,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());b.cdecl(d,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());b.cdecl(d,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());b.cdecl(d,"DELIMITED_BLOCKS",w('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],
"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",(null==(k=b.Object._scope.Set)?b.cm("Set"):k).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",(null==(k=b.Object._scope.Set)?b.cm("Set"):k).$new()],",===":["table",(null==(k=b.Object._scope.Set)?b.cm("Set"):k).$new()],":===":["table",
(null==(k=b.Object._scope.Set)?b.cm("Set"):k).$new()],"!===":["table",(null==(k=b.Object._scope.Set)?b.cm("Set"):k).$new()],"////":["comment",(null==(k=b.Object._scope.Set)?b.cm("Set"):k).$new()],"```":["fenced_code",(null==(k=b.Object._scope.Set)?b.cm("Set"):k).$new()]}));b.cdecl(d,"DELIMITED_BLOCK_LEADERS",(k=(p=d.DELIMITED_BLOCKS.$keys()).$map,k._p=(g=function(a){null==a&&(a=r);return a["$[]"](x(0,1,!1))},g._s=a,g),k).call(p).$to_set());b.cdecl(d,"LAYOUT_BREAK_LINES",w(["'","-","*","_","<"],{"'":"thematic_break",
"-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));b.cdecl(d,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);b.cdecl(d,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);b.cdecl(d,"ORDERED_LIST_KEYWORDS",w(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));b.cdecl(d,"LIST_CONTINUATION","+");b.cdecl(d,"LINE_BREAK"," +");b.cdecl(d,"LINE_CONTINUATION"," \\");b.cdecl(d,
"LINE_CONTINUATION_LEGACY"," +");b.cdecl(d,"BLOCK_MATH_DELIMITERS",w(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));b.cdecl(d,"INLINE_MATH_DELIMITERS",w(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));b.cdecl(d,"FLEXIBLE_ATTRIBUTES",["sectnums"]);d.RUBY_ENGINE["$=="]("opal")&&(b.cdecl(d,"CC_ALPHA","a-zA-Z"),b.cdecl(d,"CG_ALPHA","[a-zA-Z]"),b.cdecl(d,"CC_ALNUM","a-zA-Z0-9"),b.cdecl(d,"CG_ALNUM","[a-zA-Z0-9]"),b.cdecl(d,"CG_BLANK","[ \\t]"),
b.cdecl(d,"CC_EOL","(?=\\n|$)"),b.cdecl(d,"CG_GRAPH","[\\x21-\\x7E]"),b.cdecl(d,"CC_ALL","[\\s\\S]"),b.cdecl(d,"CC_WORD","a-zA-Z0-9_"),b.cdecl(d,"CG_WORD","[a-zA-Z0-9_]"));b.cdecl(d,"AuthorInfoLineRx",new RegExp("^("+d.CG_WORD+"["+d.CC_WORD+"\\-'.]*)(?: +("+d.CG_WORD+"["+d.CC_WORD+"\\-'.]*))?(?: +("+d.CG_WORD+"["+d.CC_WORD+"\\-'.]*))?(?: +<([^>]+)>)?$"));b.cdecl(d,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);b.cdecl(d,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);b.cdecl(d,
"ManpageNamePurposeRx",new RegExp("^(.*?)"+d.CG_BLANK+"+-"+d.CG_BLANK+"+(.*)$"));b.cdecl(d,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);b.cdecl(d,"EvalExpressionRx",new RegExp("^(\\S.*?)"+d.CG_BLANK+"*(==|!=|<=|>=|<|>)"+d.CG_BLANK+"*(\\S.*)$"));b.cdecl(d,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);b.cdecl(d,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);b.cdecl(d,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+d.CG_BLANK+"+(.*))?$"));b.cdecl(d,
"InvalidAttributeNameCharsRx",/[^\w\-]/);b.cdecl(d,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);b.cdecl(d,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);b.cdecl(d,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+d.CC_ALPHA+":_]["+d.CC_WORD+":.-]*)(?:,"+d.CG_BLANK+"*(\\S.*))?)\\]\\]$"));b.cdecl(d,"BlockAttributeListRx",new RegExp("^\\[(|"+d.CG_BLANK+"*["+d.CC_WORD+"\\{,.#\"'%].*)\\]$"));b.cdecl(d,"BlockAttributeLineRx",new RegExp("^\\[(|"+d.CG_BLANK+"*["+d.CC_WORD+
"\\{,.#\"'%].*|\\[(?:|["+d.CC_ALPHA+":_]["+d.CC_WORD+":.-]*(?:,"+d.CG_BLANK+"*\\S.*)?)\\])\\]$"));b.cdecl(d,"BlockTitleRx",/^\.([^\s.].*)$/);b.cdecl(d,"AdmonitionParagraphRx",new RegExp("^("+d.ADMONITION_STYLES.$to_a()["$*"]("|")+"):"+d.CG_BLANK));b.cdecl(d,"LiteralParagraphRx",new RegExp("^("+d.CG_BLANK+"+.*)$"));b.cdecl(d,"CommentBlockRx",/^\/{4,}$/);b.cdecl(d,"CommentLineRx",/^\/\/(?:[^\/]|$)/);b.cdecl(d,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+d.CG_BLANK+"+(\\S.*?)(?:"+d.CG_BLANK+"+\\1)?$"));
b.cdecl(d,"SetextSectionTitleRx",new RegExp("^((?=.*"+d.CG_WORD+"+.*)[^.].*?)$"));b.cdecl(d,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);b.cdecl(d,"InlineSectionAnchorRx",new RegExp("^(.*?)"+d.CG_BLANK+"+(\\\\)?\\[\\[(["+d.CC_ALPHA+":_]["+d.CC_WORD+":.-]*)(?:,"+d.CG_BLANK+"*(\\S.*?))?\\]\\]$"));b.cdecl(d,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+d.CC_WORD+"]+?"));b.cdecl(d,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);b.cdecl(d,"AnyListRx",new RegExp("^(?:<?\\d+>"+
d.CG_BLANK+"+"+d.CG_GRAPH+"|"+d.CG_BLANK+"*(?:-|(?:\\*|\\.){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+d.CG_BLANK+"+"+d.CG_GRAPH+"|"+d.CG_BLANK+"*.*?(?::{2,4}|;;)(?:"+d.CG_BLANK+"+"+d.CG_GRAPH+"|$))"));b.cdecl(d,"UnorderedListRx",new RegExp("^"+d.CG_BLANK+"*(-|\\*{1,5})"+d.CG_BLANK+"+(.*)$"));b.cdecl(d,"OrderedListRx",new RegExp("^"+d.CG_BLANK+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+d.CG_BLANK+"+(.*)$"));b.cdecl(d,"OrderedListMarkerRxMap",w(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],
{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));b.cdecl(d,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+d.CG_BLANK+"*(.*?)(:{2,4}|;;)(?:"+d.CG_BLANK+"+(.*))?$"));b.cdecl(d,"DefinitionListSiblingRx",w(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+d.CG_BLANK+"*((?:.*[^:])?)(::)(?:"+d.CG_BLANK+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+d.CG_BLANK+"*((?:.*[^:])?)(:::)(?:"+d.CG_BLANK+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+d.CG_BLANK+
"*((?:.*[^:])?)(::::)(?:"+d.CG_BLANK+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+d.CG_BLANK+"*(.*)(;;)(?:"+d.CG_BLANK+"+(.*))?$")}));b.cdecl(d,"CalloutListRx",new RegExp("^<?(\\d+)>"+d.CG_BLANK+"+(.*)"));b.cdecl(d,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);b.cdecl(d,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");b.cdecl(d,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+d.CC_EOL+")"));b.cdecl(d,
"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+d.CC_EOL+")"));b.cdecl(d,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+d.CC_EOL+")");b.cdecl(d,"ListRxMap",w(["ulist","olist","dlist","colist"],{ulist:d.UnorderedListRx,olist:d.OrderedListRx,dlist:d.DefinitionListRx,colist:d.CalloutListRx}));b.cdecl(d,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);b.cdecl(d,"CellSpecStartRx",
new RegExp("^"+d.CG_BLANK+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));b.cdecl(d,"CellSpecEndRx",new RegExp(""+d.CG_BLANK+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));b.cdecl(d,"GenericBlockMacroRx",new RegExp("^("+d.CG_WORD+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));b.cdecl(d,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);b.cdecl(d,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);
b.cdecl(d,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+d.CC_ALPHA+":_]["+d.CC_WORD+":.-]*)(?:,"+d.CG_BLANK+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));b.cdecl(d,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+d.CC_WORD+":]["+d.CC_WORD+":.-]*?)\\]\\]\\]"));b.cdecl(d,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+d.CG_WORD+"["+d.CC_WORD+".%+-]*@"+d.CG_ALNUM+"["+d.CC_ALNUM+".-]*\\."+d.CG_ALPHA+"{2,4}\\b"));b.cdecl(d,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+
d.CC_ALL+"*?[^\\\\])\\]"));b.cdecl(d,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);b.cdecl(d,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+d.CC_ALL+"*?[^\\\\])\\]|\\(\\(("+d.CC_ALL+"+?)\\)\\)(?!\\)))"));b.cdecl(d,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);b.cdecl(d,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+d.CG_BLANK+"*[^\\1])"));b.cdecl(d,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
b.cdecl(d,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);b.cdecl(d,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+d.CC_ALL+"*?[^\\\\])\\]"));b.cdecl(d,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+d.CG_WORD+"|"+d.CG_WORD+".*?\\S)\\["+d.CG_BLANK+"*(.+?)?\\]"));b.cdecl(d,"MenuInlineRx",new RegExp('\\\\?"('+d.CG_WORD+'[^"]*?'+d.CG_BLANK+"*&gt;"+d.CG_BLANK+'*[^" \\t][^"]*)"'));b.cdecl(d,"PassInlineRx",u(!1,["+","`",new RegExp("(^|[^"+d.CC_WORD+
";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+d.CC_ALL+"*?\\S)\\4)(?!"+d.CG_WORD+")")],!0,["`",r,new RegExp("(^|[^`"+d.CC_WORD+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+d.CC_ALL+"*?\\S)\\4)(?![`"+d.CC_WORD+"])")]));b.cdecl(d,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+d.CC_ALL+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+d.CC_ALL+"*?[^\\\\])\\])"));b.cdecl(d,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+d.CC_WORD+'":]'+d.CC_ALL+"*?)&gt;&gt;|xref:(["+
d.CC_WORD+'":]'+d.CC_ALL+"*?)\\[("+d.CC_ALL+"*?)\\])"));d.RUBY_ENGINE["$=="]("opal")&&b.cdecl(d,"LineBreakRx",/^(.*)[ \t]\+$/m);b.cdecl(d,"LayoutBreakLineRx",/^('|<){3,}$/);b.cdecl(d,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);b.cdecl(d,"BlankLineRx",new RegExp("^"+d.CG_BLANK+"*\\n"));b.cdecl(d,"DataDelimiterRx",/,|;/);b.cdecl(d,"DigitsRx",/^\d+$/);b.cdecl(d,"DoubleQuotedRx",/^("|)(.*)\1$/);b.cdecl(d,"DoubleQuotedMultiRx",new RegExp('^("|)('+d.CC_ALL+"*)\\1$"));b.cdecl(d,"TrailingDigitsRx",
/\d+$/);b.cdecl(d,"EscapedSpaceRx",new RegExp("\\\\("+d.CG_BLANK+")"));b.cdecl(d,"SpaceDelimiterRx",new RegExp("([^\\\\])"+d.CG_BLANK+"+"));b.cdecl(d,"SubModifierSniffRx",/[+-]/);b.cdecl(d,"UnicodeCharScanRx",function(){d.RUBY_ENGINE["$=="]("opal");return r}());b.cdecl(d,"UriSniffRx",new RegExp("^"+d.CG_ALPHA+"["+d.CC_ALNUM+".+-]+:/{0,2}"));b.cdecl(d,"UriTerminator",/[);:]$/);b.cdecl(d,"XmlSanitizeRx",/<[^>]+>/);b.cdecl(d,"INTRINSIC_ATTRIBUTES",w("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),
{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));c=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+d.CC_ALL+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+
d.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+d.CC_ALL+"*?\\S)\\*(?!"+d.CG_WORD+")")],["double","constrained",new RegExp("(^|[^"+d.CC_WORD+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+d.CC_ALL+'*?\\S)`"(?!'+d.CG_WORD+")")],["single","constrained",new RegExp("(^|[^"+d.CC_WORD+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+d.CC_ALL+"*?\\S)`'(?!"+d.CG_WORD+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+d.CC_ALL+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+d.CC_WORD+
";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+d.CC_ALL+"*?\\S)`(?!["+d.CC_WORD+"\"'`])")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+d.CC_ALL+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+d.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+d.CC_ALL+"*?\\S)_(?!"+d.CG_WORD+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+d.CC_ALL+"+?)##")],["mark","constrained",new RegExp("(^|[^"+d.CC_WORD+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+d.CC_ALL+"*?\\S)#(?!"+
d.CG_WORD+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];q=c.$dup();q["$[]="](2,["double","constrained",new RegExp("(^|[^"+d.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+d.CC_ALL+"*?\\S)''(?!"+d.CG_WORD+")")]);q["$[]="](3,["single","constrained",new RegExp("(^|[^"+d.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+d.CC_ALL+"*?\\S)'(?!"+d.CG_WORD+")")]);q["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
d.CC_ALL+"+?)\\+\\+")]);q["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+d.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+d.CC_ALL+"*?\\S)\\+(?!"+d.CG_WORD+")")]);q.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+d.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+d.CC_ALL+"*?\\S)'(?!"+d.CG_WORD+")")]);b.cdecl(d,"QUOTE_SUBS",u(!1,c,!0,q));q=c=r;b.cdecl(d,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,
"&#8201;&#8212;&#8201;","none"],[new RegExp("("+d.CG_WORD+")\\\\?--(?="+d.CG_WORD+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+d.CG_ALNUM+")\\\\?'(?="+d.CG_ALPHA+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]);(function(a){var c=a._scope;a._proto.$load=function(a,
e){var d,g,k,l,n,p,q,t,u=this,y=r,v=r,x=r,z=r,A=r,F=r,D=r,J=r,I=r,O=r,ca=r,P=r;null==e&&(e=w([],{}));try{e=e.$dup();(d=y=e["$[]"]("timings"))===r||d._isBoolean&&1!=d||y.$start("read");v=e["$[]="]("attributes",function(){if((d=(x=e["$[]"]("attributes"))["$!"]())===r||d._isBoolean&&1!=d){if((d=!1!==(g=(null==(k=b.Object._scope.Hash)?b.cm("Hash"):k)["$==="](x))&&g!==r?g:(k=null==(l=b.Object._scope.RUBY_ENGINE_JRUBY)?b.cm("RUBY_ENGINE_JRUBY"):l,!1!==k&&k!==r?(null==(l=b.Object._scope.Java)?b.cm("Java"):
l)._scope.JavaUtil._scope.Map["$==="](x):k))===r||d._isBoolean&&1!=d){if((d=(null==(g=b.Object._scope.Array)?b.cm("Array"):g)["$==="](x))===r||d._isBoolean&&1!=d){if((d=(null==(k=b.Object._scope.String)?b.cm("String"):k)["$==="](x))===r||d._isBoolean&&1!=d){if((d=(l=x["$respond_to?"]("keys"),!1!==l&&l!==r?x["$respond_to?"]("[]"):l))===r||d._isBoolean&&1!=d)return u.$raise(null==(d=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):d,"illegal type for attributes option: "+x.$class().$ancestors());
A=x;x=w([],{});(d=(l=A.$keys()).$each,d._p=(q=function(a){null==a&&(a=r);return x["$[]="](a,A["$[]"](a))},q._s=u,q),d).call(l);return x}z=(d=null==(k=b.Object._scope.RUBY_ENGINE_OPAL)?b.cm("RUBY_ENGINE_OPAL"):k)===r||d._isBoolean&&1!=d?"\\1":"$1";x=x.$gsub(c.SpaceDelimiterRx,""+z+c.NULL).$gsub(c.EscapedSpaceRx,z);return(d=(k=x.$split(c.NULL)).$inject,d._p=(p=function(a,c){var e,d=r,f=r;null==a&&(a=r);null==c&&(c=r);e=b.to_ary(c.$split("=",2));d=null==e[0]?r:e[0];f=null==e[1]?r:e[1];a["$[]="](d,!1!==
(e=f)&&e!==r?e:"");return a},p._s=u,p),d).call(k,w([],{}))}return(d=(g=x).$inject,d._p=(n=function(a,c){var e,d=r,f=r;null==a&&(a=r);null==c&&(c=r);e=b.to_ary(c.$split("=",2));d=null==e[0]?r:e[0];f=null==e[1]?r:e[1];a["$[]="](d,!1!==(e=f)&&e!==r?e:"");return a},n._s=u,n),d).call(g,w([],{}))}return x.$dup()}return w([],{})}());F=r;if((d=(null==(t=b.Object._scope.File)?b.cm("File"):t)["$==="](a))===r||d._isBoolean&&1!=d)if((d=a["$respond_to?"]("readlines"))===r||d._isBoolean&&1!=d)(d=(null==(t=b.Object._scope.String)?
b.cm("String"):t)["$==="](a))===r||d._isBoolean&&1!=d?(d=(null==(t=b.Object._scope.Array)?b.cm("Array"):t)["$==="](a))===r||d._isBoolean&&1!=d?u.$raise(null==(d=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):d,"unsupported input type: "+a.$class()):F=a.$dup():F=a.$lines().$entries();else{try{a.$rewind()}catch(Z){r}F=a.$readlines()}else D=(null==(d=b.Object._scope.File)?b.cm("File"):d).$expand_path(a.$path()),J=a.$mtime(),F=a.$readlines(),v["$[]="]("docfile",D),v["$[]="]("docdir",(null==(d=b.Object._scope.File)?
b.cm("File"):d).$dirname(D)),v["$[]="]("docname",(null==(d=b.Object._scope.File)?b.cm("File"):d).$basename(D,(null==(d=b.Object._scope.File)?b.cm("File"):d).$extname(D))),v["$[]="]("docdate",I=J.$strftime("%Y-%m-%d")),v["$[]="]("doctime",O=J.$strftime("%H:%M:%S %Z")),v["$[]="]("docdatetime",""+I+" "+O);!1!==y&&y!==r&&(y.$record("read"),y.$start("parse"));ca=e["$[]"]("parse")["$=="](!1)?c.Document.$new(F,e):c.Document.$new(F,e).$parse();!1!==y&&y!==r&&y.$record("parse");return ca}catch(ba){return P=
ba,u.$raise(P.$class(),"asciidoctor: FAILED: "+v.$fetch("docfile","<stdin>")+": Failed to parse source, "+P.$message())}};a._proto.$load_file=function(a,c){var d;null==c&&(c=w([],{}));return this.$load((null==(d=b.Object._scope.File)?b.cm("File"):d).$new(!1!==(d=a)&&d!==r?d:""),c)};a._proto.$convert=function(a,e){var d,g,k,l,n,p,q=r,t=r,u=r,y=r,v=r,x=r,z=r,A=r,F=r,D=r,J=v=r,I=q=z=y=A=x=t=q=q=A=x=r,O=u=r;null==e&&(e=w([],{}));e=e.$dup();q=e.$delete("to_file");t=e.$delete("to_dir");u=!1!==(d=e.$delete("mkdirs"))&&
d!==r?d:!1;y=e["$[]"]("timings");v=q;if((!0)["$==="](v)||r["$==="](v))x=(d=t["$!"](),!1!==d&&d!==r?(null==(g=b.Object._scope.File)?b.cm("File"):g)["$==="](a):d),z=!1,A=t,q=r;else if((!1)["$==="](v))A=z=x=!1,q=r;else{if("/dev/null"["$==="](v))return this.$load(a,e);x=!1;z=q["$respond_to?"]("write");A=!1!==z&&z!==r?!1:q}if(((d=e["$key?"]("header_footer"))===r||d._isBoolean&&1!=d)&&(d=!1!==(g=x)&&g!==r?g:A)!==r&&(!d._isBoolean||1==d))e["$[]="]("header_footer",!0);if(!1!==x&&x!==r)F=(null==(d=b.Object._scope.File)?
b.cm("File"):d).$expand_path(a.$path()),e["$[]="]("to_dir",D=(null==(d=b.Object._scope.File)?b.cm("File"):d).$dirname(F));else if(!1!==A&&A!==r)if(!1!==t&&t!==r)if(!1!==q&&q!==r)e["$[]="]("to_dir",(null==(d=b.Object._scope.File)?b.cm("File"):d).$dirname((null==(d=b.Object._scope.File)?b.cm("File"):d).$expand_path((null==(d=b.Object._scope.File)?b.cm("File"):d).$join(t,q))));else e["$[]="]("to_dir",(null==(d=b.Object._scope.File)?b.cm("File"):d).$expand_path(t));else{if(!1!==q&&q!==r)e["$[]="]("to_dir",
(null==(d=b.Object._scope.File)?b.cm("File"):d).$dirname((null==(d=b.Object._scope.File)?b.cm("File"):d).$expand_path(q)))}else e["$[]="]("to_dir",r);v=this.$load(a,e);if(!1!==x&&x!==r)J=(null==(d=b.Object._scope.File)?b.cm("File"):d).$join(D,""+v.$attributes()["$[]"]("docname")+v.$attributes()["$[]"]("outfilesuffix")),J["$=="](F)&&this.$raise(null==(d=b.Object._scope.IOError)?b.cm("IOError"):d,"input file and output file cannot be the same: "+J);else if(!1!==A&&A!==r){if(x=(d=e["$has_key?"]("base_dir"))===
r||d._isBoolean&&1!=d?(null==(d=b.Object._scope.File)?b.cm("File"):d).$expand_path((null==(d=b.Object._scope.Dir)?b.cm("Dir"):d).$pwd()):(null==(d=b.Object._scope.File)?b.cm("File"):d).$expand_path(e["$[]"]("base_dir")),A=v.$safe()["$>="](c.SafeMode._scope.SAFE)?x:r,!1!==t&&t!==r?(D=v.$normalize_system_path(t,x,A,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==q&&q!==r?(J=v.$normalize_system_path(q,D,r,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),D=(null==(d=
b.Object._scope.File)?b.cm("File"):d).$dirname(J)):J=(null==(d=b.Object._scope.File)?b.cm("File"):d).$join(D,""+v.$attributes()["$[]"]("docname")+v.$attributes()["$[]"]("outfilesuffix"))):!1!==q&&q!==r&&(J=v.$normalize_system_path(q,x,A,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),D=(null==(d=b.Object._scope.File)?b.cm("File"):d).$dirname(J)),(d=(null==(g=b.Object._scope.File)?b.cm("File"):g)["$directory?"](D))===r||d._isBoolean&&1!=d)!1!==u&&u!==r?(null==(d=b.Object._scope.FileUtils)?
b.cm("FileUtils"):d).$mkdir_p(D):this.$raise(null==(d=b.Object._scope.IOError)?b.cm("IOError"):d,"target directory does not exist: "+t)}else J=q,D=r;!1!==y&&y!==r&&y.$start("convert");q=(d=(g=!1!==J&&J!==r)?z["$!"]():g)===r||d._isBoolean&&1!=d?w([],{}):w(["outfile","outdir"],{outfile:J,outdir:D});q=v.$convert(q);!1!==y&&y!==r&&y.$record("convert");return!1!==J&&J!==r?(!1!==y&&y!==r&&y.$start("write"),v.$write(q,J),!1!==y&&y!==r&&y.$record("write"),(d=(g=(k=(l=(n=z["$!"](),!1!==n&&n!==r?v.$safe()["$<"](c.SafeMode._scope.SECURE):
n),!1!==l&&l!==r?v["$attr?"]("basebackend-html"):l),!1!==k&&k!==r?v["$attr?"]("linkcss"):k),!1!==g&&g!==r?v["$attr?"]("copycss"):g))===r||d._isBoolean&&1!=d||(t=c.DEFAULT_STYLESHEET_KEYS["$include?"](x=v.$attr("stylesheet")),A=(d=t["$!"](),!1!==d&&d!==r?x["$nil_or_empty?"]()["$!"]():d),y=(d=v["$attr?"]("source-highlighter","coderay"),!1!==d&&d!==r?v.$attr("coderay-css","class")["$=="]("class"):d),z=(d=v["$attr?"]("source-highlighter","pygments"),!1!==d&&d!==r?v.$attr("pygments-css","class")["$=="]("class"):
d),(d=!1!==(g=!1!==(k=!1!==(l=t)&&l!==r?l:A)&&k!==r?k:y)&&g!==r?g:z)===r||d._isBoolean&&1!=d||(q=v.$normalize_system_path(v.$attr("stylesdir"),D,v.$safe()["$>="](c.SafeMode._scope.SAFE)?D:r),!1!==u&&u!==r&&c.Helpers.$mkdir_p(q),!1!==t&&t!==r?c.Stylesheets.$instance().$write_primary_stylesheet(q):!1!==A&&A!==r&&(I=(d=(I=v.$attr("copycss"))["$empty?"]())===r||d._isBoolean&&1!=d?v.$normalize_system_path(I):v.$normalize_system_path(x),u=v.$normalize_system_path(x,q,v.$safe()["$>="](c.SafeMode._scope.SAFE)?
D:r),((d=!1!==(g=I["$=="](u))&&g!==r?g:(O=v.$read_asset(I))["$nil?"]())===r||d._isBoolean&&1!=d)&&(d=(g=null==(k=b.Object._scope.File)?b.cm("File"):k).$open,d._p=(p=function(a){null==a&&(a=r);return a.$write(O)},p._s=this,p),d).call(g,u,"w")),!1!==y&&y!==r?c.Stylesheets.$instance().$write_coderay_stylesheet(q):!1!==z&&z!==r&&c.Stylesheets.$instance().$write_pygments_stylesheet(q,v.$attr("pygments-style")))),v):q};a._proto.$render=a._proto.$convert;a._proto.$convert_file=function(a,c){var d;null==
c&&(c=w([],{}));return this.$convert((null==(d=b.Object._scope.File)?b.cm("File"):d).$new(!1!==(d=a)&&d!==r?d:""),c)};return a._proto.$render_file=a._proto.$convert_file})(a.$singleton_class());d.RUBY_ENGINE["$=="]("opal")})(d);a=b.RUBY_ENGINE_OPAL;return!0})(Opal);
(function(b){var a=b.nil,d=b.breaker,r=b.slice,z=b.module,v=b.klass,w=b.hash2,x=b.range,u=b.hash;return function(t){(function(l){l=z(l,"Extensions");var k=l._scope;(function(d,$super){function c(){}var k=c=v(d,$super,"Processor",c),l=k._proto,n=k._scope,h,f,e;l.config=a;(function(b){b._proto.$config=function(){var b;null==this.config&&(this.config=a);return!1!==(b=this.config)&&b!==a?b:this.config=w([],{})};b._proto.$option=function(a,b){return this.$config()["$[]="](a,b)};b._proto.$use_dsl=function(){var b;
return(b=this.$name()["$nil_or_empty?"]())===a||b._isBoolean&&1!=b?(b=this.$constants().$grep("DSL"))===a||b._isBoolean&&1!=b?a:this.$extend(this.$const_get("DSL")):(b=this.$constants().$grep("DSL"))===a||b._isBoolean&&1!=b?a:this.$include(this.$const_get("DSL"))};b._proto.$extend_dsl=b._proto.$use_dsl;return b._proto.$include_dsl=b._proto.$use_dsl})(k.$singleton_class());k.$attr_reader("config");l.$initialize=function(a){null==a&&(a=w([],{}));return this.config=this.$class().$config().$merge(a)};
l.$update_config=function(a){return this.config.$update(a)};l.$process=function(a){var c;a=r.call(arguments,0);return this.$raise(null==(c=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):c)};l.$create_block=function(a,b,c,e,d){null==d&&(d=w([],{}));return n.Block.$new(a,b,w(["source","attributes"],{source:c,attributes:e}).$merge(d))};l.$create_image_block=function(b,c,e){null==e&&(e=w([],{}));return this.$create_block(b,"image",a,c,e)};l.$create_inline=function(a,b,c,e){null==e&&
(e=w([],{}));return n.Inline.$new(a,b,c,e)};l.$parse_content=function(b,c,e){var d,f,h=a,k=a;null==e&&(e=w([],{}));for(h=(d=c["$is_a?"](n.Reader))===a||d._isBoolean&&1!=d?n.Reader.$new(c):h;(f=h["$has_more_lines?"]())!==a&&(!f._isBoolean||1==f);)if(k=n.Parser.$next_block(h,b,e),!1!==k&&k!==a)b["$<<"](k);return a};return(h=(f=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block",
"pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,h._p=(e=function(b,c,d){var f=e._s||this,h,k;null==b&&(b=a);null==c&&(c=a);null==d&&(d=a);return(h=f.$define_method,h._p=(k=function(a){var b=k._s||this,e;a=r.call(arguments,0);return(e=b).$send.apply(e,[c].concat(a.$dup().$insert(1,d)))},k._s=f,k),h).call(f,b)},e._s=k,e),h).call(f)})(l,null);(function(d){d=z(d,"ProcessorDsl");var g=d._proto,
c;g.$option=function(a,b){return this.$config()["$[]="](a,b)};g.$process=c=function(d){var g,k,h=c._p||a;null==this.process_block&&(this.process_block=a);d=r.call(arguments,0);c._p=null;return h!==a?this.process_block=h:(g=this.process_block)===a||g._isBoolean&&1!=g?this.$raise(null==(k=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):k):(g=this.process_block).$call.apply(g,[].concat(d))};g["$process_block_given?"]=function(){var b;return(b=this.process_block,null!=b&&b!==a)?"instance-variable":
a};b.donate(d,["$option","$process","$process_block_given?"])})(l);(function(d,$super){function c(){}return((c=v(d,$super,"Preprocessor",c))._proto.$process=function(a,c){var d;return this.$raise(null==(d=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):d)},a)&&"process"})(l,k.Processor);b.casgn(k.Preprocessor,"DSL",k.ProcessorDsl);(function(d,$super){function c(){}return((c=v(d,$super,"Treeprocessor",c))._proto.$process=function(a){var c;return this.$raise(null==(c=b.Object._scope.NotImplementedError)?
b.cm("NotImplementedError"):c)},a)&&"process"})(l,k.Processor);b.casgn(k.Treeprocessor,"DSL",k.ProcessorDsl);(function(d,$super){function c(){}return((c=v(d,$super,"Postprocessor",c))._proto.$process=function(a,c){var d;return this.$raise(null==(d=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):d)},a)&&"process"})(l,k.Processor);b.casgn(k.Postprocessor,"DSL",k.ProcessorDsl);(function(d,$super){function c(){}var k=(c=v(d,$super,"IncludeProcessor",c))._proto;k.$process=function(a,c,
d,f){var e;return this.$raise(null==(e=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):e)};return(k["$handles?"]=function(a){return!0},a)&&"handles?"})(l,k.Processor);b.casgn(k.IncludeProcessor,"DSL",k.ProcessorDsl);(function(d,$super){function c(){}var k=c=v(d,$super,"DocinfoProcessor",c),l=k._proto,n;l.config=a;k.$attr_accessor("location");l.$initialize=n=function(c){var d,e;null==c&&(c=w([],{}));n._p=null;b.find_super_dispatcher(this,"initialize",n,null).apply(this,[c]);return d=
this.config,!1!==(e=d["$[]"]("location"))&&e!==a?e:d["$[]="]("location","header")};return(l.$process=function(a){var c;return this.$raise(null==(c=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):c)},a)&&"process"})(l,k.Processor);(function(a){a=z(a,"DocinfoProcessorDsl");var d=a._proto;a.$include(a._scope.ProcessorDsl);d.$at_location=function(a){return this.$option("location",a)};b.donate(a,["$at_location"])})(l);b.casgn(k.DocinfoProcessor,"DSL",k.DocinfoProcessorDsl);(function(d,
$super){function c(){}var k=c=v(d,$super,"BlockProcessor",c),l=k._proto,n;l.config=a;k.$attr_accessor("name");l.$initialize=n=function(c,d){var e,k,l,p=a;null==c&&(c=a);null==d&&(d=w([],{}));n._p=null;b.find_super_dispatcher(this,"initialize",n,null).apply(this,[d]);this.name=!1!==(e=c)&&e!==a?e:this.config["$[]"]("name");p=this.config["$[]"]("contexts");if((null==(e=b.Object._scope.NilClass)?b.cm("NilClass"):e)["$==="](p))e="contexts",k=this.config,!1!==(l=k["$[]"](e))&&l!==a?l:k["$[]="](e,["open",
"paragraph"].$to_set());else if((null==(e=b.Object._scope.Symbol)?b.cm("Symbol"):e)["$==="](p))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",this.config["$[]"]("contexts").$to_set());return e="content_model",k=this.config,!1!==(l=k["$[]"](e))&&l!==a?l:k["$[]="](e,"compound")};return(l.$process=function(a,c,e){var d;return this.$raise(null==(d=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):d)},a)&&"process"})(l,k.Processor);
(function(d){d=z(d,"BlockProcessorDsl");var g=d._proto,c=d._scope;d.$include(c.ProcessorDsl);g.$named=function(b){var d;return(d=this["$is_a?"](c.Processor))===a||d._isBoolean&&1!=d?this.$option("name",b):this.name=b};b.defn(d,"$match_name",g.$named);b.defn(d,"$bind_to",g.$named);g.$contexts=function(a){a=r.call(arguments,0);return this.$option("contexts",a.$flatten())};b.defn(d,"$on_contexts",g.$contexts);b.defn(d,"$on_context",g.$contexts);g.$content_model=function(a){return this.$option("content_model",
a)};b.defn(d,"$parse_content_as",g.$content_model);g.$positional_attributes=function(a){a=r.call(arguments,0);return this.$option("pos_attrs",a.$flatten())};b.defn(d,"$pos_attrs",g.$positional_attributes);b.defn(d,"$name_attributes",g.$positional_attributes);b.defn(d,"$name_positional_attributes",g.$positional_attributes);g.$default_attrs=function(a){return this.$option("default_attrs",a)};b.defn(d,"$seed_attributes_with",g.$default_attrs);b.donate(d,"$named $match_name $bind_to $contexts $on_contexts $on_context $content_model $parse_content_as $positional_attributes $pos_attrs $name_attributes $name_positional_attributes $default_attrs $seed_attributes_with".split(" "))})(l);
b.casgn(k.BlockProcessor,"DSL",k.BlockProcessorDsl);(function(d,$super){function c(){}var k=c=v(d,$super,"MacroProcessor",c),l=k._proto,n;l.config=a;k.$attr_accessor("name");l.$initialize=n=function(c,d){var e,k,l;null==c&&(c=a);null==d&&(d=w([],{}));n._p=null;b.find_super_dispatcher(this,"initialize",n,null).apply(this,[d]);this.name=!1!==(e=c)&&e!==a?e:this.config["$[]"]("name");return e="content_model",k=this.config,!1!==(l=k["$[]"](e))&&l!==a?l:k["$[]="](e,"attributes")};return(l.$process=function(a,
c,d){var k;return this.$raise(null==(k=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):k)},a)&&"process"})(l,k.Processor);(function(d){d=z(d,"MacroProcessorDsl");var g=d._proto,c=d._scope;d.$include(c.ProcessorDsl);g.$named=function(b){var d;return(d=this["$is_a?"](c.Processor))===a||d._isBoolean&&1!=d?this.$option("name",b):this.name=b};b.defn(d,"$match_name",g.$named);b.defn(d,"$bind_to",g.$named);g.$content_model=function(a){return this.$option("content_model",a)};b.defn(d,"$parse_content_as",
g.$content_model);g.$positional_attributes=function(a){a=r.call(arguments,0);return this.$option("pos_attrs",a.$flatten())};b.defn(d,"$pos_attrs",g.$positional_attributes);b.defn(d,"$name_attributes",g.$positional_attributes);b.defn(d,"$name_positional_attributes",g.$positional_attributes);g.$default_attrs=function(a){return this.$option("default_attrs",a)};b.defn(d,"$seed_attributes_with",g.$default_attrs);b.donate(d,"$named $match_name $bind_to $content_model $parse_content_as $positional_attributes $pos_attrs $name_attributes $name_positional_attributes $default_attrs $seed_attributes_with".split(" "))})(l);
(function(b,$super){function c(){}c=v(b,$super,"BlockMacroProcessor",c);return a})(l,k.MacroProcessor);b.casgn(k.BlockMacroProcessor,"DSL",k.MacroProcessorDsl);(function(d,$super){function c(){}var k=(c=v(d,$super,"InlineMacroProcessor",c))._proto,l;k.config=k.name=a;k.$initialize=l=function(c,d){var f=r.call(arguments,0),e,k,p=l._p;null==d&&(d=w([],{}));l._p=null;b.find_super_dispatcher(this,"initialize",l,p).apply(this,f);return e=this.config,!1!==(k=e["$[]"]("regexp"))&&k!==a?k:e["$[]="]("regexp",
this.$resolve_regexp(this.name,this.config["$[]"]("format")))};return(k.$resolve_regexp=function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},a)&&"resolve_regexp"})(l,k.MacroProcessor);(function(a){a=z(a,"InlineMacroProcessorDsl");var d=a._proto;a.$include(a._scope.MacroProcessorDsl);d.$using_format=function(a){return this.$option("format",a)};d.$match=function(a){return this.$option("regexp",a)};
b.donate(a,["$using_format","$match"])})(l);b.casgn(k.InlineMacroProcessor,"DSL",k.InlineMacroProcessorDsl);(function(b,$super){function c(){}var d=c=v(b,$super,"Extension",c),k=d._proto;d.$attr("kind");d.$attr("config");d.$attr("instance");return(k.$initialize=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},a)&&"initialize"})(l,null);(function(d,$super){function c(){}var k=c=v(d,$super,"ProcessorExtension",c),l=k._proto,n;k.$attr("process_method");return(l.$initialize=n=function(c,
d,e){var k;null==e&&(e=a);n._p=null;b.find_super_dispatcher(this,"initialize",n,null).apply(this,[c,d,d.$config()]);return this.process_method=!1!==(k=e)&&k!==a?k:d.$method("process")},a)&&"initialize"})(l,k.Extension);(function(d,$super){function c(){}var k=c=v(d,$super,"Group",c),l=k._proto;(function(b){var c=b._scope;return(b._proto.$register=function(b){null==b&&(b=a);return c.Extensions.$register(b,this)},a)&&"register"})(k.$singleton_class());return(l.$activate=function(a){var c;return this.$raise(null==
(c=b.Object._scope.NotImplementedError)?b.cm("NotImplementedError"):c)},a)&&"activate"})(l,null);(function(k,$super){function c(){}var l=c=v(k,$super,"Registry",c),t=l._proto,n=l._scope,h,f,e,m,u,z,U,X,aa,V;t.groups=t.preprocessor_extensions=t.treeprocessor_extensions=t.postprocessor_extensions=t.include_processor_extensions=t.docinfo_processor_extensions=t.block_extensions=t.block_macro_extensions=t.inline_macro_extensions=a;l.$attr_reader("document");l.$attr_reader("groups");t.$initialize=function(b){null==
b&&(b=w([],{}));this.groups=b;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=a};t.$activate=function(c){var d,e,f;this.document=c;(d=(e=n.Extensions.$groups().$values()["$+"](this.groups.$values())).$each,d._p=(f=function(c){var d=f._s||this,e,h=a;null==c&&(c=a);h=c;(null==(e=b.Object._scope.Proc)?
b.cm("Proc"):e)["$==="](h)?(h=c.$arity(),c=0["$==="](h)||-1["$==="](h)?(e=d.$instance_exec,e._p=c.$to_proc(),e).call(d):1["$==="](h)?c.$call(d):a):c=(null==(e=b.Object._scope.Class)?b.cm("Class"):e)["$==="](h)?c.$new().$activate(d):c.$activate(d);return c},f._s=this,f),d).call(e);return this};t.$preprocessor=h=function(b){var c,d=h._p||a;b=r.call(arguments,0);h._p=null;return(c=this.$add_document_processor,c._p=d.$to_proc(),c).call(this,"preprocessor",b)};t["$preprocessors?"]=function(){return this.preprocessor_extensions["$!"]()["$!"]()};
t.$preprocessors=function(){return this.preprocessor_extensions};t.$treeprocessor=f=function(b){var c,d=f._p||a;b=r.call(arguments,0);f._p=null;return(c=this.$add_document_processor,c._p=d.$to_proc(),c).call(this,"treeprocessor",b)};t["$treeprocessors?"]=function(){return this.treeprocessor_extensions["$!"]()["$!"]()};t.$treeprocessors=function(){return this.treeprocessor_extensions};t.$postprocessor=e=function(b){var c,d=e._p||a;b=r.call(arguments,0);e._p=null;return(c=this.$add_document_processor,
c._p=d.$to_proc(),c).call(this,"postprocessor",b)};t["$postprocessors?"]=function(){return this.postprocessor_extensions["$!"]()["$!"]()};t.$postprocessors=function(){return this.postprocessor_extensions};t.$include_processor=m=function(b){var c,d=m._p||a;b=r.call(arguments,0);m._p=null;return(c=this.$add_document_processor,c._p=d.$to_proc(),c).call(this,"include_processor",b)};t["$include_processors?"]=function(){return this.include_processor_extensions["$!"]()["$!"]()};t.$include_processors=function(){return this.include_processor_extensions};
t.$docinfo_processor=u=function(b){var c,d=u._p||a;b=r.call(arguments,0);u._p=null;return(c=this.$add_document_processor,c._p=d.$to_proc(),c).call(this,"docinfo_processor",b)};t["$docinfo_processors?"]=function(b){var c,d,e;null==b&&(b=a);return(c=this.docinfo_processor_extensions)===a||c._isBoolean&&1!=c?!1:!1!==b&&b!==a?(c=(d=this.docinfo_processor_extensions).$find,c._p=(e=function(c){null==c&&(c=a);return c.$config()["$[]"]("location")["$=="](b)},e._s=this,e),c).call(d):!0};t.$docinfo_processors=
function(b){var c,d,e;null==b&&(b=a);return(c=this.docinfo_processor_extensions)===a||c._isBoolean&&1!=c?a:!1!==b&&b!==a?(c=(d=this.docinfo_processor_extensions).$select,c._p=(e=function(c){null==c&&(c=a);return c.$config()["$[]"]("location")["$=="](b)},e._s=this,e),c).call(d):this.docinfo_processor_extensions};t.$block=z=function(b){var c,d=z._p||a;b=r.call(arguments,0);z._p=null;return(c=this.$add_syntax_processor,c._p=d.$to_proc(),c).call(this,"block",b)};t["$blocks?"]=function(){return this.block_extensions["$!"]()["$!"]()};
t["$registered_for_block?"]=function(b,c){var d,e=a;return(d=e=this.block_extensions["$[]"](b.$to_sym()))===a||d._isBoolean&&1!=d?!1:(d=e.$config()["$[]"]("contexts")["$include?"](c))===a||d._isBoolean&&1!=d?!1:e};t.$find_block_extension=function(a){return this.block_extensions["$[]"](a.$to_sym())};t.$block_macro=U=function(b){var c,d=U._p||a;b=r.call(arguments,0);U._p=null;return(c=this.$add_syntax_processor,c._p=d.$to_proc(),c).call(this,"block_macro",b)};t["$block_macros?"]=function(){return this.block_macro_extensions["$!"]()["$!"]()};
t["$registered_for_block_macro?"]=function(b){var c,d=a;return(c=d=this.block_macro_extensions["$[]"](b.$to_sym()))===a||c._isBoolean&&1!=c?!1:d};t.$find_block_macro_extension=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())};t.$inline_macro=X=function(b){var c,d=X._p||a;b=r.call(arguments,0);X._p=null;return(c=this.$add_syntax_processor,c._p=d.$to_proc(),c).call(this,"inline_macro",b)};t["$inline_macros?"]=function(){return this.inline_macro_extensions["$!"]()["$!"]()};t["$registered_for_inline_macro?"]=
function(b){var c,d=a;return(c=d=this.inline_macro_extensions["$[]"](b.$to_sym()))===a||c._isBoolean&&1!=c?!1:d};t.$find_inline_macro_extension=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())};t.$inline_macros=function(){return this.inline_macro_extensions.$values()};l.$private();t.$add_document_processor=aa=function(c,d){var e,f,h,k,l,m,p,q=this,r=aa._p||a,t=a,u=a,v=a,w=a,y=u=a,z=a,H=a,C=a;aa._p=null;t=c.$to_s().$tr("_"," ");u=(e=(f=t.$split(" ")).$map,e._p=(h=function(b){null==
b&&(b=a);return""+b.$chr().$upcase()+b["$[]"](x(1,-1,!1))},h._s=q,h),e).call(f).$join().$to_sym();v=n.Extensions.$const_get(u);w=(e=null==b.Object._scope.AsciidoctorJ?a:"constant")===a||e._isBoolean&&1!=e?a:(null==(e=b.Object._scope.AsciidoctorJ)?b.cm("AsciidoctorJ"):e)._scope.Extensions.$const_get(u);u=!1!==(e=q.$instance_variable_get(("@"+c+"_extensions").$to_sym()))&&e!==a?e:q.$instance_variable_set(("@"+c+"_extensions").$to_sym(),[]);y=function(){if(r!==a)return z=q.$resolve_args(d,1),H=v.$new(z),
(e=v.$constants().$grep("DSL"))===a||e._isBoolean&&1!=e||H.$extend(v.$const_get("DSL")),(e=(k=H).$instance_exec,e._p=r.$to_proc(),e).call(k),H.$freeze(),((e=H["$process_block_given?"]())===a||e._isBoolean&&1!=e)&&q.$raise((null==(e=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):e).$new("No block specified to process "+t+" extension at "+r.$source_location())),n.ProcessorExtension.$new(c,H);e=b.to_ary(q.$resolve_args(d,2));H=null==e[0]?a:e[0];z=null==e[1]?a:e[1];if((e=!1!==(l=H["$is_a?"](null==
(m=b.Object._scope.Class)?b.cm("Class"):m))&&l!==a?l:(m=H["$is_a?"](null==(p=b.Object._scope.String)?b.cm("String"):p),!1!==m&&m!==a?H=n.Extensions.$class_for_name(H):m))===a||e._isBoolean&&1!=e){if((e=!1!==(l=H["$is_a?"](v))&&l!==a?l:(m=!1!==w&&w!==a)?H["$is_a?"](w):m)===a||e._isBoolean&&1!=e)return q.$raise((null==(e=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):e).$new("Invalid arguments specified for registering "+t+" extension: "+d));H.$update_config(z);H.$freeze();return n.ProcessorExtension.$new(c,
H)}((e=!1!==(l=H["$<"](v))&&l!==a?l:(m=!1!==w&&w!==a)?H["$<"](w):m)===a||e._isBoolean&&1!=e)&&q.$raise((null==(e=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):e).$new("Invalid type for "+t+" extension: "+H));C=H.$new(z);C.$freeze();return n.ProcessorExtension.$new(c,C)}();return y.$config()["$[]"]("position")["$=="](">>")?u.$unshift(y):u["$<<"](y)};t.$add_syntax_processor=V=function(c,e){var f,h,k,l,m,p,q,r=V._p||a,t=a,u=a,v=a,y=u=a,z=v=a,H=a,Q=a,u=a;V._p=null;t=c.$to_s().$tr("_"," ");u=(f=
(h=t.$split(" ")).$map,f._p=(k=function(b){null==b&&(b=a);return""+b.$chr().$upcase()+b["$[]"](x(1,-1,!1))},k._s=this,k),f).call(h).$join();v=(""+u+"Processor").$to_sym();u=n.Extensions.$const_get(v);y=(f=null==b.Object._scope.AsciidoctorJ?a:"constant")===a||f._isBoolean&&1!=f?a:(null==(f=b.Object._scope.AsciidoctorJ)?b.cm("AsciidoctorJ"):f)._scope.Extensions.$const_get(v);v=!1!==(f=this.$instance_variable_get(("@"+c+"_extensions").$to_sym()))&&f!==a?f:this.$instance_variable_set(("@"+c+"_extensions").$to_sym(),
w([],{}));if(r!==a){f=b.to_ary(this.$resolve_args(e,2));z=null==f[0]?a:f[0];H=null==f[1]?a:f[1];Q=u.$new(this.$as_symbol(z),H);(f=u.$constants().$grep("DSL"))===a||f._isBoolean&&1!=f||Q.$extend(u.$const_get("DSL"));if(r.$arity()["$=="](1)){if(b.$yield1(r,Q)===d)return d.$v}else(f=(l=Q).$instance_exec,f._p=r.$to_proc(),f).call(l);((f=z=this.$as_symbol(Q.$name()))===a||f._isBoolean&&1!=f)&&this.$raise((null==(f=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):f).$new("No name specified for "+t+
" extension at "+r.$source_location()));((f=Q["$process_block_given?"]())===a||f._isBoolean&&1!=f)&&this.$raise((null==(f=b.Object._scope.NoMethodError)?b.cm("NoMethodError"):f).$new("No block specified to process "+t+" extension at "+r.$source_location()));Q.$freeze();return v["$[]="](z,n.ProcessorExtension.$new(c,Q))}f=b.to_ary(this.$resolve_args(e,3));Q=null==f[0]?a:f[0];z=null==f[1]?a:f[1];H=null==f[2]?a:f[2];if((f=!1!==(m=Q["$is_a?"](null==(p=b.Object._scope.Class)?b.cm("Class"):p))&&m!==a?m:
(p=Q["$is_a?"](null==(q=b.Object._scope.String)?b.cm("String"):q),!1!==p&&p!==a?Q=n.Extensions.$class_for_name(Q):p))===a||f._isBoolean&&1!=f){if((f=!1!==(m=Q["$is_a?"](u))&&m!==a?m:(p=!1!==y&&y!==a)?Q["$is_a?"](y):p)===a||f._isBoolean&&1!=f)return this.$raise((null==(f=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):f).$new("Invalid arguments specified for registering "+t+" extension: "+e));Q.$update_config(H);((f=z=!1!==z&&z!==a?Q["$name="](this.$as_symbol(z)):this.$as_symbol(Q.$name()))===
a||f._isBoolean&&1!=f)&&this.$raise((null==(f=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):f).$new("No name specified for "+t+" extension: "+Q));Q.$freeze();return v["$[]="](z,n.ProcessorExtension.$new(c,Q))}((f=!1!==(m=Q["$<"](u))&&m!==a?m:(p=!1!==y&&y!==a)?Q["$<"](y):p)===a||f._isBoolean&&1!=f)&&this.$raise((null==(f=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):f).$new("Class specified for "+t+" extension does not inherit from "+u+": "+Q));u=Q.$new(this.$as_symbol(z),H);((f=z=this.$as_symbol(u.$name()))===
a||f._isBoolean&&1!=f)&&this.$raise((null==(f=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):f).$new("No name specified for "+t+" extension: "+Q));Q.$freeze();return v["$[]="](z,n.ProcessorExtension.$new(c,u))};t.$resolve_args=function(c,d){var e,f,h=a,k=a,l=a,h=(e=c["$[]"](-1)["$is_a?"](null==(f=b.Object._scope.Hash)?b.cm("Hash"):f))===a||e._isBoolean&&1!=e?w([],{}):c.$pop();if(d["$=="](1))return h;k=c.$size();(l=d["$-"](1)["$-"](k))["$>"](0)?c.$fill(a,k,l):l["$<"](0)&&c.$pop(l["$-@"]());c["$<<"](h);
return c};return(t.$as_symbol=function(c){var d,e;return!1!==c&&c!==a?(d=c["$is_a?"](null==(e=b.Object._scope.Symbol)?b.cm("Symbol"):e))===a||d._isBoolean&&1!=d?c.$to_sym():c:a},a)&&"as_symbol"})(l,null);(function(d){var g=d._scope;d._proto.$generate_name=function(){return"extgrp"+this.$next_auto_id()};d._proto.$next_auto_id=function(){var b;null==this.auto_id&&(this.auto_id=a);!1!==(b=this.auto_id)&&b!==a?b:this.auto_id=-1;return this.auto_id=this.auto_id["$+"](1)};d._proto.$groups=function(){var b;
null==this.groups&&(this.groups=a);return!1!==(b=this.groups)&&b!==a?b:this.groups=w([],{})};d._proto.$build_registry=TMP_24=function(b){var d,k=TMP_24._p||a;null==b&&(b=a);TMP_24._p=null;return k!==a?(!1!==(d=b)&&d!==a?d:b=this.$generate_name(),g.Registry.$new(u(b,k))):g.Registry.$new()};d._proto.$register=TMP_25=function(c){var d,g=TMP_25._p||a,k=a,h=a,f=h=a,f=a;c=r.call(arguments,0);TMP_25._p=null;k=c.$length();g===a&&((d=(h=c.$pop())["$!"]())===a||d._isBoolean&&1!=d?(f=h,g=(null==(d=b.Object._scope.Class)?
b.cm("Class"):d)["$==="](f)?h:(null==(d=b.Object._scope.String)?b.cm("String"):d)["$==="](f)?this.$class_for_name(h):(null==(d=b.Object._scope.Symbol)?b.cm("Symbol"):d)["$==="](f)?this.$class_for_name(h.$to_s()):h):g=this.$raise((null==(d=b.Object._scope.ArgumentError)?b.cm("ArgumentError"):d).$new("Extension group to register not specified")));h=g;f=!1!==(d=c.$pop())&&d!==a?d:this.$generate_name();((d=c["$empty?"]())===a||d._isBoolean&&1!=d)&&this.$raise((null==(d=b.Object._scope.ArgumentError)?
b.cm("ArgumentError"):d).$new("Wrong number of arguments ("+k+" for 1..2)"));return this.$groups()["$[]="](f,h)};d._proto.$unregister_all=function(){return this.groups=w([],{})};d._proto.$resolve_class=function(c){var d,g;return(d=c["$is_a?"](null==(g=b.Object._scope.Class)?b.cm("Class"):g))===a||d._isBoolean&&1!=d?this.$class_for_name(c.$to_s()):c};return(d._proto.$class_for_name=function(c){var d,g,k,h=a,h=null==(d=b.Object._scope.Object)?b.cm("Object"):d;(d=(g=c.$split("::")).$each,d._p=(k=function(b){var d=
k._s||this,g;null==b&&(b=a);return(g=b["$empty?"]())===a||g._isBoolean&&1!=g?(g=h["$const_defined?"](b))===a||g._isBoolean&&1!=g?d.$raise("Could not resolve class for name: "+c):h=h.$const_get(b):a},k._s=this,k),d).call(g);return h},a)&&"class_for_name"})(l.$singleton_class())})(z(t,"Asciidoctor"))}(b.top)})(Opal);
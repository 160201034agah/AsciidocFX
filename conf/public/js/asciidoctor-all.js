(function(a){function q(){}function n(){}function l(){}function g(){}function m(){}function e(a,d,h){function b(){}function f(){}b.prototype=d.constructor.prototype;f.prototype=new b;a&&(f.displayName="SingletonClass_alloc("+a+")");a=new f;c(a,f,d,h.prototype);a.$$alloc=h;return a.$$proto.$$class=a}function c(a,h,b,f){a.$$id=w.uid();a.$$proto=f;a.constructor=h;b===d?(a.$$is_module=!0,a.$$class=d):(a.$$is_class=!0,a.$$class=E);a.$$super=b;a.$$parent=b;a.$$inc=[]}function b(){function a(){}var h=function(){};
h.prototype=g.prototype;a.prototype=new h;h=new a;c(h,a,d,{});return h}function A(a){var d=a.$$class,h="#<Class:#<"+d.$$name+":"+d.$$id+">>",b=w.boot_class(d,function(){});b.$$name=h;b.$$proto=a;b.$$class=d.$$class;b.$$scope=d.$$scope;b.$$parent=d;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b}function x(a,d,h,b){var f,k,r,O;f=a.$$bridge.$ancestors();k=0;for(O=f.length;k<O;k++){r=f[k];if(z.call(r.$$proto,h)&&r.$$proto[h]&&!r.$$proto[h].$$donated&&!r.$$proto[h].$$stub&&r!==d)break;if(r===
d){a.prototype[h]=b;break}}}function y(a,d){var h,b,f,z;if("function"===typeof a){h=d.$__id__();b=d.$instance_methods();for(z=b.length-1;0<=z;z--)f="$"+b[z],x(a,d,f,d.$$proto[f]);C[h]||(C[h]=[]);C[h].push(a)}else if(h=C[a.$__id__()]){for(z=h.length-1;0<=z;z--)y(h[z],d);C[d.$__id__()]=h.slice()}}function u(a,d,h){if(h){var b=function(){};b.prototype=h.$$proto||h.prototype;d.prototype=new b}a&&(d.displayName=a+"_alloc");return d.prototype.constructor=d}function p(a,d,h){var b=function(){};b.prototype=
h.prototype;var f=function(){};f.prototype=new b;f.displayName="#<Class:"+a+">";b=new f;c(b,f,h,d.prototype);b.$$alloc=d;b.$$name=a;b.displayName=a;d.prototype.$$class=b;w[a]=b;w.constants.push(a);return b}function t(a,d){for(var h=a.$$scope.constants,b=d.$$scope,f=b.constants,z=0,k=h.length;z<k;z++)f.push(h[z]),b[h[z]]=a.$$scope[h[z]]}function f(a,d){var h=a.$$dep,b=a.$$proto[d],z,k,r,O,e,Q,t,c,w,v;if(h)for(z=0,k=h.length;z<k;z++){r=h[z];O=r.$$proto;e=O[d];if(!O.hasOwnProperty(d)||e.$$donated||e.$$stub)if(O.hasOwnProperty(d)&&
!e.$$stub){Q=r.$$inc;t=0;for(c=Q.length;t<c;t++)Q[t]===e.$$donated&&(w=t),Q[t]===a&&(v=t);w<=v&&(O[d]=b,O[d].$$donated=a)}else O[d]=b,O[d].$$donated=a;r.$$dep&&f(r,d)}}function k(a){function d(){this.$method_missing.$$p=d.$$p;d.$$p=null;return this.$method_missing.apply(this,[a.slice(1)].concat(O.call(arguments)))}d.$$stub=!0;return d}function B(a){var d,h=[];"."!==w.current_dir&&(a=w.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var b=0,f=a.length;b<f;b++)d=
a[b],""!==d&&(".."===d?h.pop():h.push(d));return h.join("/")}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var v,r,h,d,E,w=this.Opal={},C={},P=function(){};P.prototype=w;w.constructor=P;w.constants=[];w.global=this;var z=w.hasOwnProperty,O=w.slice=Array.prototype.slice,Q=4;w.uid=function(){return Q+=2};w.cvars={};w.gvars={};w.exit=function(a){w.gvars.DEBUG&&console.log("Exited with status "+a)};w.exceptions=
[];w.get=function(a){var d=this[a];return null==d?this.base.$const_get(a):d};w.create_scope=function(a,d,h){var b=function(){},f=b.prototype=new a.constructor;d.$$scope=f;d.$$base_module=a.base;f.base=d;f.constructor=b;f.constants=[];h&&(w.cdecl(a,h,d),b.displayName=h+"_scope_alloc")};w.klass=function(a,d,b,f){var z,k;a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof d&&(k=d,d=h);if((z=a.$$scope[b])&&z.$$orig_scope===a.$$scope){if(!z.$$is_class)throw w.TypeError.$new(b+" is not a class");
if(d&&z.$$super!==d)throw w.TypeError.$new("superclass mismatch for class "+b);return z}null==d&&(d=h);f=k||u(b,f,d);z=e(b,d,f);z.$$name=b;z.displayName=b;z.$$is_class=!0;w.create_scope(a.$$scope,z,b);a[b]=a.$$scope[b]=z;k?w.bridge(z,f):(d!==h&&d!==r&&t(d,z),d.$inherited&&d.$inherited(z));return z};w.boot_class=function(a,d){var h=u(null,d,a);return e(null,a,h)};w.module=function(a,d){var f;a.$$is_class||a.$$is_module||(a=a.$$class);if(z.call(a.$$scope,d)){if(f=a.$$scope[d],!f.$$is_module&&f!==h)throw w.TypeError.$new(d+
" is not a module");}else f=b(),f.$$name=d,f.$$is_module=!0,f.$$dep=[],w.create_scope(a.$$scope,f,d),a[d]=a.$$scope[d]=f;return f};w.boot_module_object=b;w.get_singleton_class=function(a){if(a.$$meta)return a.$$meta;if(a.$$is_class||a.$$is_module){var d=new w.Class.$$alloc;d.$$class=w.Class;d.$$proto=a.constructor.prototype;d.$$is_singleton=!0;d.$$singleton_of=a;d.$$inc=[];d.$$scope=a.$$scope;return a.$$meta=d}return A(a)};w.append_features=function(a,d){var h,b,f,z,k;for(k=d.$$inc.length-1;0<=k;k--)if(d.$$inc[k]===
a)return;d.$$inc.push(a);a.$$dep.push(d);y(d,a);d.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:d.$$parent,$$module:a,$$iclass:!0};h=a.$$proto;b=d.$$proto;f=a.$instance_methods();for(k=f.length-1;0<=k;k--)if(z="$"+f[k],!b.hasOwnProperty(z)||b[z].$$donated||b[z].$$stub)b[z]=h[z],b[z].$$donated=a;t(a,d)};w.bridge=function(a,d){if(d.$$bridge)throw w.ArgumentError.$new("already bridged");w.stub_subscribers.push(d.prototype);d.prototype.$$class=a;d.$$bridge=a;for(var h=a.$ancestors(),b=h.length-
1;0<=b;b--)y(d,h[b]);for(var f in q.prototype){var z=q.prototype[z];!z||!z.$$stub||f in d.prototype||(d.prototype[f]=z)}return a};w.casgn=function(a,d,b){function f(a,d){a.$$name=d;for(d in a.$$scope){var h=a.$$scope[d];h.$$name===v&&(h.$$is_class||h.$$is_module)&&f(h,d)}}var z=a.$$scope;if(b.$$is_class||b.$$is_module){if(b.$$is_class||b.$$base_module===h)b.$$base_module=a;b.$$name===v&&b.$$base_module.$$name!==v&&f(b,d)}z.constants.push(d);return z[d]=b};w.cdecl=function(a,d,h){(h.$$is_class||h.$$is_module)&&
null==h.$$orig_scope&&(h.$$name=d,h.$$orig_scope=a,a.constructor[d]=h);a.constants.push(d);return a[d]=h};w.add_stubs=function(a){var d,h=w.stub_subscribers,b,f=a.length,z,r=h.length,O,e;for(b=0;b<f;b++)for(O=a[b],e=k(O),z=0;z<r;z++)d=h[z],O in d||(d[O]=e)};w.stub_subscribers=[q.prototype];w.add_stub_for=function(a,d){var h=k(d);a[d]=h};w.ac=function(a,d,h,b){var f="",f=h.$$is_class||h.$$is_module?f+(h.$$name+"."):f+(h.$$class.$$name+"#");throw w.ArgumentError.$new("["+(f+b)+"] wrong number of arguments("+
a+" for "+d+")");};w.ancestors=function(a){for(var d=[];a;){d.push(a);for(var h=0;h<a.$$inc.length;h++)d=d.concat(w.ancestors(a.$$inc[h]));a=a.$$is_class?a.$$super:null}return d};w.find_super_dispatcher=function(a,d,h,b,f){if(f)h=a.$$is_class||a.$$is_module?f.$$super:a.$$class.$$proto;else if(a.$$is_class||a.$$is_module)h=a.$$super;else{f=a.$$meta||a.$$class;for(a="$"+d;f&&f.$$proto[a]!==h;)f=f.$$parent;if(!f)throw Error("could not find current class for super()");for(f=f.$$parent;f;){var z=f.$$proto[a];
if(z&&z!==h)break;f=f.$$parent}h=f.$$proto}h=h["$"+d];h.$$p=b;return h};w.find_iter_super_dispatcher=function(a,d,h,b,f){return h.$$def?w.find_super_dispatcher(a,h.$$jsid,h,b,f):w.find_super_dispatcher(a,d,h,b,f)};w.ret=function(a){w.returner.$v=a;throw w.returner;};w.yield1=function(a,d){if("function"!==typeof a)throw w.LocalJumpError.$new("no block given");return 1<a.length&&d.$$is_array?a.apply(null,d):a(d)};w.yieldX=function(a,d){if("function"!==typeof a)throw w.LocalJumpError.$new("no block given");
if(1<a.length&&1===d.length&&d[0].$$is_array)return a.apply(null,d[0]);d.$$is_array||(d=O.call(d));return a.apply(null,d)};w.rescue=function(a,d){for(var h=0;h<d.length;h++){var b=d[h];if(b.$$is_array){if(b=w.rescue(a,b))return b}else if(b["$==="](a))return b}return null};w.is_a=function(a,d){if(a.$$meta===d)return!0;for(var h=a.$$class;h;){if(h===d)return!0;for(var b=0,f=h.$$inc.length;b<f;b++)if(h.$$inc[b]===d)return!0;h=h.$$super}return!1};w.to_ary=function(a){if(a.$$is_array)return a.constructor===
Array?a:a.literal;if(a["$respond_to?"]("to_ary",!0)){var d=a.$to_ary();if(d===v)return[a];if(d.$$is_array)return d.constructor===Array?d:d.literal;throw w.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+d.$$class+")");}return[a]};w.to_a=function(a){if(a.$$is_array)return a.constructor===Array?a.slice():a.literal.slice();if(a["$respond_to?"]("to_a",!0)){var d=a.$to_a();if(d===v)return[a];if(d.$$is_array)return d.constructor===Array?d:d.literal;throw w.TypeError.$new("Can't convert "+
a.$$class+" to Array ("+a.$$class+"#to_a gives "+d.$$class+")");}return[a]};w.kwrestargs=function(a,d){var h=[],b={},f=null,z=a.$$smap;for(f in z)d[f]||(h.push(f),b[f]=z[f]);return w.hash2(h,b)};w.send=function(a,d){var h=O.call(arguments,2),b=a["$"+d];return b?b.apply(a,h):a.$method_missing.apply(a,[d].concat(h))};w.block_send=function(a,d,h){var b=O.call(arguments,3),f=a["$"+d];return f?(f.$$p=h,f.apply(a,b)):a.$method_missing.apply(a,[d].concat(b))};w.defn=function(a,d,h){a.$$proto[d]=h;a.$$is_module&&
(f(a,d),a.$$module_function&&w.defs(a,d,h));if(a.$__id__&&!a.$__id__.$$stub){var b=C[a.$__id__()];if(b)for(var z=b.length-1;0<=z;z--)x(b[z],a,d,h)}a.$method_added&&!a.$method_added.$$stub&&a.$method_added(d.substr(1));(a=a.$$singleton_of)&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(d.substr(1));return v};w.defs=function(a,d,h){w.defn(w.get_singleton_class(a),d,h)};w.def=function(a,d,h){a.$$eval||!a.$$is_class&&!a.$$is_module?w.defs(a,d,h):w.defn(a,d,h)};
w.rdef=function(a,d){if(!z.call(a.$$proto,d))throw w.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());delete a.$$proto[d];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(d.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(d.substr(1))};w.udef=function(a,d){if(!a.$$proto[d]||a.$$proto[d].$$stub)throw w.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());
w.add_stub_for(a.$$proto,d);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(d.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(d.substr(1))};w.alias=function(a,d,h){var b="$"+d,f="$"+h,z=a.$$proto["$"+h];if(a.$$eval)return w.alias(w.get_singleton_class(a),d,h);if("function"!==typeof z||z.$$stub){for(d=a.$$super;"function"!==typeof z&&d;)z=d[f],d=d.$$super;if("function"!==typeof z||
z.$$stub)throw w.NameError.$new("undefined method `"+h+"' for class `"+a.$name()+"'");}w.defn(a,b,z);return a};w.alias_native=function(a,d,h){d="$"+d;var b=a.$$proto[h];if("function"!==typeof b||b.$$stub)throw w.NameError.$new("undefined native method `"+h+"' for class `"+a.$name()+"'");w.defn(a,d,b);return a};w.hash_init=function(a){a.$$map={};a.$$smap={};a.$$keys=[]};w.hash_clone=function(a,d){d.none=a.none;d.proc=a.proc;for(var h=0,b=a.$$keys.length,f,z;h<b;h++)f=a.$$keys[h],f.$$is_string?z=a.$$smap[f]:
(z=f.value,f=f.key),w.hash_put(d,f,z)};w.hash_put=function(d,h,b){if(h.$$is_string)d.$$smap.hasOwnProperty(h)||d.$$keys.push(h),d.$$smap[h]=b;else{var f=h.$hash(),z,k;if(d.$$map.hasOwnProperty(f)){for(z=d.$$map[f];z;){if(h===z.key||h["$eql?"](z.key)){k=a;z.value=b;break}k=z;z=z.next}k&&(z={key:h,key_hash:f,value:b},d.$$keys.push(z),k.next=z)}else z={key:h,key_hash:f,value:b},d.$$keys.push(z),d.$$map[f]=z}};w.hash_get=function(a,d){if(d.$$is_string){if(a.$$smap.hasOwnProperty(d))return a.$$smap[d]}else{var h=
d.$hash();if(a.$$map.hasOwnProperty(h))for(h=a.$$map[h];h;){if(d===h.key||d["$eql?"](h.key))return h.value;h=h.next}}};w.hash_delete=function(a,d){var h,b=a.$$keys,f=b.length,z;if(d.$$is_string){if(!a.$$smap.hasOwnProperty(d))return;for(h=0;h<f;h++)if(b[h]===d){b.splice(h,1);break}z=a.$$smap[d];delete a.$$smap[d];return z}var k=d.$hash();if(a.$$map.hasOwnProperty(k))for(var r=a.$$map[k],O;r;){if(d===r.key||d["$eql?"](r.key)){z=r.value;for(h=0;h<f;h++)if(b[h]===r){b.splice(h,1);break}O&&r.next?O.next=
r.next:O?delete O.next:r.next?a.$$map[k]=r.next:delete a.$$map[k];return z}O=r;r=r.next}};w.hash_rehash=function(d){for(var h=0,b=d.$$keys.length,f,z,k;h<b;h++)if(!d.$$keys[h].$$is_string&&(f=d.$$keys[h].key.$hash(),f!==d.$$keys[h].key_hash)){z=d.$$map[d.$$keys[h].key_hash];for(k=a;z;){if(z===d.$$keys[h]){k&&z.next?k.next=z.next:k?delete k.next:z.next?d.$$map[d.$$keys[h].key_hash]=z.next:delete d.$$map[d.$$keys[h].key_hash];break}k=z;z=z.next}d.$$keys[h].key_hash=f;if(d.$$map.hasOwnProperty(f)){z=
d.$$map[f];for(k=a;z;){if(z===d.$$keys[h]){k=a;break}k=z;z=z.next}k&&(k.next=d.$$keys[h])}else d.$$map[f]=d.$$keys[h]}};w.hash=function(){var a=arguments.length,d,h,b,f,z;if(1===a&&arguments[0].$$is_hash)return arguments[0];d=new w.Hash.$$alloc;w.hash_init(d);if(1===a&&arguments[0].$$is_array){a=arguments[0];b=a.length;for(h=0;h<b;h++){if(2!==a[h].length)throw w.ArgumentError.$new("value not of length 2: "+a[h].$inspect());f=a[h][0];z=a[h][1];w.hash_put(d,f,z)}return d}if(1===a){a=arguments[0];for(f in a)a.hasOwnProperty(f)&&
(z=a[f],w.hash_put(d,f,z));return d}if(0!==a%2)throw w.ArgumentError.$new("odd number of arguments for Hash");for(h=0;h<a;h+=2)f=arguments[h],z=arguments[h+1],w.hash_put(d,f,z);return d};w.hash2=function(a,d){var h=new w.Hash.$$alloc;h.$$map={};h.$$keys=a;h.$$smap=d;return h};w.range=function(a,d,h){var b=new w.Range.$$alloc;b.begin=a;b.end=d;b.exclude=h;return b};w.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===
a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};w.modules={};w.loaded_features=["corelib/runtime"];w.current_dir=".";w.require_table={"corelib/runtime":!0};w.loaded=function(a){var d,h,b;d=0;for(h=a.length;d<h;d++){b=B(a[d]);if(w.require_table[b])break;w.loaded_features.push(b);w.require_table[b]=!0}};w.load=function(a){a=B(a);w.loaded([a]);var d=w.modules[a];if(d)d(w);else if(d=w.dynamic_require_severity||"warning",a="cannot load such file -- "+a,"error"===d)if(w.LoadError)w.LoadError.$new(a);else throw a;
else"warning"===d&&console.warn("WARNING: LoadError: "+a);return!0};w.require=function(a){a=B(a);return w.require_table[a]?!1:w.load(a)};u("BasicObject",q);u("Object",n,q);u("Module",g,n);u("Class",l,g);r=p("BasicObject",q,l);h=p("Object",n,r.constructor);d=p("Module",g,h.constructor);E=p("Class",l,d.constructor);r.$$class=E;h.$$class=E;d.$$class=E;E.$$class=E;r.$$super=null;h.$$super=r;d.$$super=h;E.$$super=d;r.$$parent=null;h.$$parent=r;d.$$parent=h;E.$$parent=d;w.base=h;r.$$scope=h.$$scope=w;r.$$orig_scope=
h.$$orig_scope=w;d.$$scope=h.$$scope;d.$$orig_scope=h.$$orig_scope;E.$$scope=h.$$scope;E.$$orig_scope=h.$$orig_scope;h.$$proto.toString=function(){return this.$to_s()};h.$$proto.$require=w.require;w.top=new h.$$alloc;w.klass(h,h,"NilClass",m);v=w.nil=new m;v.$$id=4;v.call=v.apply=function(){throw w.LocalJumpError.$new("no block given");};w.breaker=Error("unexpected break");w.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);
"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.slice,l=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to!".split(" "));return function(g){g=l(g,"Opal");var m=g.$$scope;a.defs(g,"$bridge",function(e,c){return a.bridge(e,c)});a.defs(g,"$type_error",function(a,c,b,g){var n;null==b&&(b=q);null==g&&(g=q);return(n=!1!==b&&b!==q?g:b)===q||n.$$is_boolean&&1!=n?m.get("TypeError").$new("no implicit conversion of "+
a.$class()+" into "+c):m.get("TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+b+" gives "+g.$class())});a.defs(g,"$coerce_to",function(a,c,b){var g;if((g=c["$==="](a))!==q&&(!g.$$is_boolean||1==g))return a;((g=a["$respond_to?"](b))===q||g.$$is_boolean&&1!=g)&&this.$raise(this.$type_error(a,c));return a.$__send__(b)});a.defs(g,"$coerce_to!",function(a,c,b){var g,m=q,m=this.$coerce_to(a,c,b);((g=c["$==="](m))===q||g.$$is_boolean&&1!=g)&&this.$raise(this.$type_error(a,c,b,
m));return m});a.defs(g,"$coerce_to?",function(a,c,b){var g,m=q;if((g=a["$respond_to?"](b))===q||g.$$is_boolean&&1!=g)return q;m=this.$coerce_to(a,c,b);if((g=m["$nil?"]())!==q&&(!g.$$is_boolean||1==g))return q;((g=c["$==="](m))===q||g.$$is_boolean&&1!=g)&&this.$raise(this.$type_error(a,c,b,m));return m});a.defs(g,"$try_convert",function(a,c,b){var g;return(g=c["$==="](a))===q||g.$$is_boolean&&1!=g?(g=a["$respond_to?"](b))===q||g.$$is_boolean&&1!=g?q:a.$__send__(b):a});a.defs(g,"$compare",function(a,
c){var b,g=q,g=a["$<=>"](c);(b=g===q)===q||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return g});a.defs(g,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:n.call(a)});a.defs(g,"$respond_to?",function(a,c){return null!=a&&a.$$class?a["$respond_to?"](c):!1});a.defs(g,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()});a.defs(g,"$instance_variable_name!",function(a){var c;
a=m.get("Opal")["$coerce_to!"](a,m.get("String"),"to_str");((c=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===q||c.$$is_boolean&&1!=c)&&this.$raise(m.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a})}(a.base)};
Opal.modules["corelib/module"]=function(a){function q(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var n=a.nil,l=a.slice,g=a.klass;a.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $coerce_to! $new $=~ $inject $const_get $split $const_missing $to_str $to_proc $lambda $bind $call $class $append_features $included $name $to_s $__id__".split(" "));return function(m,$super){function c(){}var b=c=g(m,$super,"Module",c),A=b.$$scope,
x,y,u,p;a.defs(b,"$new",x=function(){var b=x.$$p||n;x.$$p=null;var f=a.boot_module_object();f.$$name=n;f.$$class=a.Module;f.$$dep=[];f.$$is_module=!0;f.$$proto={};a.create_scope(a.Module.$$scope,f);if(b!==n){var k=b.$$s;b.$$s=null;b.call(f);b.$$s=k}return f});a.defn(b,"$===",function(b){var f;return(f=null==b)===n||f.$$is_boolean&&1!=f?a.is_a(b,this):!1});a.defn(b,"$<",function(b){var f;((f=A.get("Module")["$==="](b))===n||f.$$is_boolean&&1!=f)&&this.$raise(A.get("TypeError"),"compared with non class/module");
var k,c;if(this===b)return!1;k=0;f=a.ancestors(this);for(c=f.length;k<c;k++)if(f[k]===b)return!0;k=0;f=a.ancestors(b);for(c=f.length;k<c;k++)if(f[k]===this)return!1;return n});a.defn(b,"$<=",function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==n?b:q(this,a)});a.defn(b,"$>",function(a){var b;((b=A.get("Module")["$==="](a))===n||b.$$is_boolean&&1!=b)&&this.$raise(A.get("TypeError"),"compared with non class/module");return q(a,this)});a.defn(b,"$>=",function(a){var b;return!1!==(b=this["$equal?"](a))&&
b!==n?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)});a.defn(b,"$<=>",function(a){var b,k=n;if(this===a)return 0;if((b=A.get("Module")["$==="](a))===n||b.$$is_boolean&&1!=b)return n;k=q(this,a);return(b=k["$nil?"]())===n||b.$$is_boolean&&1!=b?!1!==k&&k!==n?-1:1:n});a.defn(b,"$alias_method",function(b,f){a.alias(this,b,f);return this});a.defn(b,"$alias_native",function(b,f){null==f&&(f=b);a.alias_native(this,b,f);return this});a.defn(b,"$ancestors",function(){return a.ancestors(this)});
a.defn(b,"$append_features",function(b){a.append_features(this,b);return this});a.defn(b,"$attr_accessor",function(){var b=n,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),b=0;b<f;b++)k[b]=arguments[b+0];this.$attr_reader.apply(this,a.to_a(k));return this.$attr_writer.apply(this,a.to_a(k))});a.alias(b,"attr","attr_accessor");a.defn(b,"$attr_reader",function(){var b=n,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),b=0;b<f;b++)k[b]=arguments[b+0];b=this.$$proto;for(f=k.length-1;0<=f;f--){var c=
k[f],v="$"+c,c=a.ivar(c),r=function(a){return function(){return null==this[a]?n:this[a]}}(c);b[c]=n;this.$$is_singleton?b.constructor.prototype[v]=r:a.defn(this,v,r)}return n});a.defn(b,"$attr_writer",function(){var b=n,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),b=0;b<f;b++)k[b]=arguments[b+0];b=this.$$proto;for(f=k.length-1;0<=f;f--){var c=k[f],v="$"+c+"=",c=a.ivar(c),r=function(a){return function(d){return this[a]=d}}(c);b[c]=n;this.$$is_singleton?b.constructor.prototype[v]=r:a.defn(this,
v,r)}return n});a.defn(b,"$autoload",function(a,b){var k;(k=this.$$autoload)||(k=this.$$autoload={});k[a]=b;return n});a.defn(b,"$class_variable_get",function(b){var f;b=A.get("Opal")["$coerce_to!"](b,A.get("String"),"to_str");(f=3>b.length||"@@"!==b.slice(0,2))===n||f.$$is_boolean&&1!=f||this.$raise(A.get("NameError").$new("class vars should start with @@",b));var k=a.cvars[b.slice(2)];(f=null==k)===n||f.$$is_boolean&&1!=f||this.$raise(A.get("NameError").$new("uninitialized class variable @@a in",
b));return k});a.defn(b,"$class_variable_set",function(b,f){var k;b=A.get("Opal")["$coerce_to!"](b,A.get("String"),"to_str");(k=3>b.length||"@@"!==b.slice(0,2))===n||k.$$is_boolean&&1!=k||this.$raise(A.get("NameError"));return a.cvars[b.slice(2)]=f});a.defn(b,"$constants",function(){return this.$$scope.constants.slice(0)});a.defn(b,"$const_defined?",function(b,f){var k;null==f&&(f=!0);((k=b["$=~"](/^[A-Z]\w*$/))===n||k.$$is_boolean&&1!=k)&&this.$raise(A.get("NameError").$new("wrong constant name "+
b,b));k=[this.$$scope];if(f||this===a.Object)for(var c=this.$$super;c!==a.BasicObject;)k.push(c.$$scope),c=c.$$super;for(var c=0,v=k.length;c<v;c++)if(k[c].hasOwnProperty(b))return!0;return!1});a.defn(b,"$const_get",function(b,f){var k,c,v;null==f&&(f=!0);if((k=-1!=b.indexOf("::")&&"::"!=b)!==n&&(!k.$$is_boolean||1==k))return(k=(c=b.$split("::")).$inject,k.$$p=(v=function(a,h){null==a&&(a=n);null==h&&(h=n);return a.$const_get(h)},v.$$s=this,v),k).call(c,this);((k=/^[A-Z]\w*$/.test(b))===n||k.$$is_boolean&&
1!=k)&&this.$raise(A.get("NameError").$new("wrong constant name "+b,b));k=[this.$$scope];if(f||this==a.Object)for(c=this.$$super;c!==a.BasicObject;)k.push(c.$$scope),c=c.$$super;c=0;for(v=k.length;c<v;c++)if(k[c].hasOwnProperty(b))return k[c][b];return this.$const_missing(b)});a.defn(b,"$const_missing",function(a){if(this.$$autoload){var b=this.$$autoload[a];if(b)return this.$require(b),this.$const_get(a)}return this.$raise(A.get("NameError").$new("uninitialized constant "+this+"::"+a,a))});a.defn(b,
"$const_set",function(b,f){var k;((k=b["$=~"](/^[A-Z]\w*$/))===n||k.$$is_boolean&&1!=k)&&this.$raise(A.get("NameError").$new("wrong constant name "+b,b));try{b=b.$to_str()}catch(c){try{this.$raise(A.get("TypeError"),"conversion with #to_str failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.casgn(this,b,f);return f});a.defn(b,"$define_method",y=function(b,f){var k,c,v,r,h=this,d=y.$$p||n,g=n;y.$$p=null;(k=void 0===f&&d===n)===n||k.$$is_boolean&&1!=k||h.$raise(A.get("ArgumentError"),"tried to create a Proc object without a block");
!1!==(k=d)&&k!==n?k:d=function(){g=f;return A.get("Proc")["$==="](g)?f:A.get("Method")["$==="](g)?f.$to_proc().$$unbound:A.get("UnboundMethod")["$==="](g)?(c=(v=h).$lambda,c.$$p=(r=function(d){var h=r.$$s||this,b,z=n;d=l.call(arguments,0);z=f.$bind(h);return(b=z).$call.apply(b,a.to_a(d))},r.$$s=h,r),c).call(v):h.$raise(A.get("TypeError"),"wrong argument type "+d.$class()+" (expected Proc/Method)")}();d.$$jsid=b;d.$$s=null;d.$$def=d;a.defn(h,"$"+b,d);return b});a.defn(b,"$remove_method",function(){var b=
n,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),b=0;b<f;b++)k[b]=arguments[b+0];b=0;for(f=k.length;b<f;b++)a.rdef(this,"$"+k[b]);return this});a.defn(b,"$singleton_class?",function(){return!!this.$$is_singleton});a.defn(b,"$include",function(){var a=n,b=arguments.length-0;0>b&&(b=0);for(var k=Array(b),a=0;a<b;a++)k[a]=arguments[a+0];for(a=k.length-1;0<=a;a--)b=k[a],b!==this&&(b.$$is_module||this.$raise(A.get("TypeError"),"wrong argument type "+b.$class()+" (expected Module)"),b.$append_features(this),
b.$included(this));return this});a.defn(b,"$include?",function(a){for(var b=this;b;b=b.$$super)for(var k=0;k!=b.$$inc.length;k++)if(a===b.$$inc[k])return!0;return!1});a.defn(b,"$instance_method",function(a){var b=this.$$proto["$"+a];b&&!b.$$stub||this.$raise(A.get("NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return A.get("UnboundMethod").$new(this,b,a)});a.defn(b,"$instance_methods",function(b){null==b&&(b=!0);var f=[],k=this.$$proto,c;for(c in k)if("$"===c.charAt(0)&&
"function"===typeof k[c]&&!k[c].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&k[c]===a.BasicObject.$$proto[c])continue;if(!b&&!k.hasOwnProperty(c))continue;if(!b&&k[c].$$donated)continue}f.push(c.substr(1))}return f});a.defn(b,"$included",function(a){return n});a.defn(b,"$extended",function(a){return n});a.defn(b,"$method_added",function(){return n});a.defn(b,"$method_removed",function(){return n});a.defn(b,"$method_undefined",function(){return n});a.defn(b,"$module_eval",u=function(){var a=
u.$$p||n;u.$$p=null;!1!==a&&a!==n||this.$raise(A.get("ArgumentError"),"no block given");var b=a.$$s,k;a.$$s=null;k=a.call(this);a.$$s=b;return k});a.alias(b,"class_eval","module_eval");a.defn(b,"$module_exec",p=function(){var a=p.$$p||n,b=n,k=arguments.length-0;0>k&&(k=0);for(var c=Array(k),b=0;b<k;b++)c[b]=arguments[b+0];p.$$p=null;a===n&&this.$raise(A.get("LocalJumpError"),"no block given");b=a.$$s;a.$$s=null;c=a.apply(this,c);a.$$s=b;return c});a.alias(b,"class_exec","module_exec");a.defn(b,"$method_defined?",
function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub});a.defn(b,"$module_function",function(){var b=n,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),b=0;b<f;b++)k[b]=arguments[b+0];if(0===k.length)this.$$module_function=!0;else for(b=0,f=k.length;b<f;b++){var c="$"+k[b];a.defs(this,c,this.$$proto[c])}return this});a.defn(b,"$name",function(){if(this.$$full_name)return this.$$full_name;for(var b=[],f=this;f;){if(f.$$name===n)return 0===b.length?n:b.join("::");b.unshift(f.$$name);f=f.$$base_module;
if(f===a.Object)break}return 0===b.length?n:this.$$full_name=b.join("::")});a.defn(b,"$remove_class_variable",function(){return n});a.defn(b,"$remove_const",function(a){var b=this.$$scope[a];delete this.$$scope[a];return b});a.defn(b,"$to_s",function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==n?b:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"});return(a.defn(b,"$undef_method",function(){var b=n,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),b=0;b<f;b++)k[b]=
arguments[b+0];b=0;for(f=k.length;b<f;b++)a.udef(this,"$"+k[b]);return this}),n)&&"undef_method"}(a.base,null)};
Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var q=a.top,n=a.nil,l=a.klass;a.add_stubs(["$require","$raise","$allocate"]);q.$require("corelib/module");return function(g,$super){function e(){}var c=e=l(g,$super,"Class",e),b=c.$$scope,q,x;a.defs(c,"$new",q=function(e){var c=q.$$p||n;null==e&&(e=b.get("Object"));q.$$p=null;e.$$is_class||this.$raise(b.get("TypeError"),"superclass must be a Class");var g=a.boot_class(e,function(){});g.$$name=n;g.$$parent=e;g.$$is_class=
!0;a.create_scope(e.$$scope,g);e.$inherited(g);c!==n&&(e=c.$$s,c.$$s=null,c.call(g),c.$$s=e);return g});a.defn(c,"$allocate",function(){var b=new this.$$alloc;b.$$id=a.uid();return b});a.defn(c,"$inherited",function(a){return n});a.defn(c,"$new",x=function(){var a=x.$$p||n,b=n,e=arguments.length-0;0>e&&(e=0);for(var c=Array(e),b=0;b<e;b++)c[b]=arguments[b+0];x.$$p=null;b=this.$allocate();b.$initialize.$$p=a;b.$initialize.apply(b,c);return b});return(a.defn(c,"$superclass",function(){return this.$$super||
n}),n)&&"superclass"}(a.base,null)};
Opal.modules["corelib/basic_object"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}a.dynamic_require_severity="warning";var n=a.nil,l=a.klass,g=a.range,m=a.hash2;a.add_stubs("$== $! $nil? $cover? $size $raise $compile $lambda $> $new $inspect".split(" "));return function(e,$super){function b(){}var A=b=l(e,$super,"BasicObject",b),x=A.$$scope,y,u,p,t;a.defn(A,"$initialize",function(){return n});a.defn(A,"$==",function(a){return this===a});a.defn(A,"$eql?",
function(a){return this["$=="](a)});a.alias(A,"equal?","==");a.defn(A,"$__id__",function(){return this.$$id||(this.$$id=a.uid())});a.defn(A,"$__send__",y=function(a){var b=y.$$p||n,e=n,v=arguments.length-1;0>v&&(v=0);for(var r=Array(v),e=0;e<v;e++)r[e]=arguments[e+1];y.$$p=null;if(e=this["$"+a])return b!==n&&(e.$$p=b),e.apply(this,r);b!==n&&(this.$method_missing.$$p=b);return this.$method_missing.apply(this,[a].concat(r))});a.defn(A,"$!",function(){return!1});a.defn(A,"$!=",function(a){return this["$=="](a)["$!"]()});
a.alias(A,"equal?","==");a.defn(A,"$instance_eval",u=function(){var b,k,e,v=u.$$p||n,r=n,h=n,d=n,t=n,r=n,h=arguments.length-0;0>h&&(h=0);for(var w=Array(h),r=0;r<h;r++)w[r]=arguments[r+0];u.$$p=null;(b=(k=v["$nil?"](),!1!==k&&k!==n?!!a.compile:k))===n||b.$$is_boolean&&1!=b?(b=q(w.$size(),0))===n||b.$$is_boolean&&1!=b||x.get("Kernel").$raise(x.get("ArgumentError"),"wrong number of arguments ("+w.$size()+" for 0)"):(((b=g(1,3,!1)["$cover?"](w.$size()))===n||b.$$is_boolean&&1!=b)&&x.get("Kernel").$raise(x.get("ArgumentError"),
"wrong number of arguments (0 for 1..3)"),b=a.to_a(w),r=null==b[0]?n:b[0],h=null==b[1]?n:b[1],b,d=x.get("Opal").$compile(r,m(["file","eval"],{file:!1!==(b=h)&&b!==n?b:"(eval)",eval:!0})),t=function(){return eval(d)},v=(b=(k=x.get("Kernel")).$lambda,b.$$p=(e=function(){return t.call(e.$$s||this)},e.$$s=this,e),b).call(k));b=v.$$s;var p;v.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{p=v.call(this,this)}finally{this.$$eval=!1}}else p=v.call(this,this);v.$$s=b;return p});a.defn(A,
"$instance_exec",p=function(){var a=p.$$p||n,b=n,e=arguments.length-0;0>e&&(e=0);for(var v=Array(e),b=0;b<e;b++)v[b]=arguments[b+0];p.$$p=null;!1!==a&&a!==n||x.get("Kernel").$raise(x.get("ArgumentError"),"no block given");var b=a.$$s,r;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{r=a.apply(this,v)}finally{this.$$eval=!1}}else r=a.apply(this,v);a.$$s=b;return r});a.defn(A,"$singleton_method_added",function(){return n});a.defn(A,"$singleton_method_removed",function(){return n});
a.defn(A,"$singleton_method_undefined",function(){return n});return(a.defn(A,"$method_missing",t=function(a){var b,e=n,v=arguments.length-1;0>v&&(v=0);for(var r=Array(v),e=0;e<v;e++)r[e]=arguments[e+1];t.$$p=null;return x.get("Kernel").$raise(x.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)===n||b.$$is_boolean&&1!=b?"undefined method `"+a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))}),n)&&"method_missing"}(a.base,null)};
Opal.modules["corelib/kernel"]=function(a){function q(a,e){return"number"===typeof a&&"number"===typeof e?a<=e:a["$<="](e)}a.dynamic_require_severity="warning";var n=a.nil,l=a.breaker,g=a.module,m=a.gvars,e=a.hash2,c=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $loop $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $> $print $format $puts $each $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $include".split(" "));
(function(b){b=g(b,"Kernel");var c=b.$$scope,x,y,u,p,t,f,k,B,v;a.defn(b,"$method_missing",x=function(a){var b=n,d=arguments.length-1;0>d&&(d=0);for(var f=Array(d),b=0;b<d;b++)f[b]=arguments[b+1];x.$$p=null;return this.$raise(c.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,f))});a.defn(b,"$=~",function(a){return!1});a.defn(b,"$!~",function(a){return this["$=~"](a)["$!"]()});a.defn(b,"$===",function(a){var b;return!1!==(b=this.$object_id()["$=="](a.$object_id()))&&b!==
n?b:this["$=="](a)});a.defn(b,"$<=>",function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==n?0:n});a.defn(b,"$method",function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(c.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return c.get("Method").$new(this,b,a)});a.defn(b,"$methods",function(b){null==b&&(b=!0);var h=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=b&&b!==n||a.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&h.push(d.substr(1));
return h});a.alias(b,"public_methods","methods");a.defn(b,"$Array",function(a){var b;if(a===n)return[];if(a.$$is_array)return a;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_ary");if(b!==n)return b;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_a");return b!==n?b:[a]});a.defn(b,"$at_exit",y=function(){var a,b=y.$$p||n;null==m.__at_exit__&&(m.__at_exit__=n);y.$$p=null;!1!==(a=m.__at_exit__)&&a!==n?a:m.__at_exit__=[];return m.__at_exit__["$<<"](b)});a.defn(b,"$caller",function(){return[]});
a.defn(b,"$class",function(){return this.$$class});a.defn(b,"$copy_instance_variables",function(a){for(var b in a)a.hasOwnProperty(b)&&"$"!==b.charAt(0)&&(this[b]=a[b])});a.defn(b,"$copy_singleton_methods",function(b){var h;if(b.hasOwnProperty("$$meta")){var d=a.get_singleton_class(b).$$proto,f=a.get_singleton_class(this).$$proto;for(h in d)"$"===h.charAt(0)&&d.hasOwnProperty(h)&&(f[h]=d[h])}for(h in b)"$"===h.charAt(0)&&"$"!==h.charAt(1)&&b.hasOwnProperty(h)&&(this[h]=b[h])});a.defn(b,"$clone",function(){var a=
n,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(b,"$initialize_clone",function(a){return this.$initialize_copy(a)});a.defn(b,"$define_singleton_method",u=function(a,b){var d,f,k=u.$$p||n;u.$$p=null;return(d=(f=this.$singleton_class()).$define_method,d.$$p=k.$to_proc(),d).call(f,a,b)});a.defn(b,"$dup",function(){var a=n,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a});
a.defn(b,"$initialize_dup",function(a){return this.$initialize_copy(a)});a.defn(b,"$enum_for",p=function(b){var h,d,f=p.$$p||n,k=n,e=arguments.length-1;0>e&&(e=0);for(var v=Array(e),k=0;k<e;k++)v[k]=arguments[k+1];null==b&&(b="each");p.$$p=null;return(h=(d=c.get("Enumerator")).$for,h.$$p=f.$to_proc(),h).apply(d,[this,b].concat(a.to_a(v)))});a.alias(b,"to_enum","enum_for");a.defn(b,"$equal?",function(a){return this===a});a.defn(b,"$exit",function(b){var h,d;null==m.__at_exit__&&(m.__at_exit__=n);null==
b&&(b=!0);!1!==(h=m.__at_exit__)&&h!==n?h:m.__at_exit__=[];(h=this.$loop,h.$$p=(d=function(){var a=n;null==m.__at_exit__&&(m.__at_exit__=n);a=m.__at_exit__.$pop();return!1!==a&&a!==n?a.$call():(l.$v=n,l)},d.$$s=this,d),h).call(this);(h=!0===b)===n||h.$$is_boolean&&1!=h||(b=0);a.exit(b);return n});a.defn(b,"$extend",function(){var a=n,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),a=0;a<b;a++)d[a]=arguments[a+0];a=this.$singleton_class();for(b=d.length-1;0<=b;b--){var f=d[b];f.$$is_module||this.$raise(c.get("TypeError"),
"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(a);f.$extended(this)}return this});a.defn(b,"$format",function(a){function b(){D&32&&g.$raise(c.get("ArgumentError"),"flag after width");D&128&&g.$raise(c.get("ArgumentError"),"flag after precision")}function d(){D&32&&g.$raise(c.get("ArgumentError"),"width given twice");D&128&&g.$raise(c.get("ArgumentError"),"width after precision")}function f(a){a>=t.length&&g.$raise(c.get("ArgumentError"),"too few arguments");return t[a]}
function k(){switch(X){case -1:g.$raise(c.get("ArgumentError"),"unnumbered("+ea+") mixed with numbered");case -2:g.$raise(c.get("ArgumentError"),"unnumbered("+ea+") mixed with named")}X=ea++;return f(X-1)}function e(a){0<X&&g.$raise(c.get("ArgumentError"),"numbered("+a+") after unnumbered("+X+")");-2===X&&g.$raise(c.get("ArgumentError"),"numbered("+a+") after named");1>a&&g.$raise(c.get("ArgumentError"),"invalid index - "+a+"$");X=-1;return f(a-1)}function v(){return void 0===R?k():R}function z(d){var b;
for(b="";;p++){p===q&&g.$raise(c.get("ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(p)||57<a.charCodeAt(p))return p--,b=parseInt(b,10)||0,2147483647<b&&g.$raise(c.get("ArgumentError"),""+d+" too big"),b;b+=a.charAt(p)}}function O(d){d=z(d);"$"===a.charAt(p+1)?(p++,d=e(d)):d=k();return d.$to_int()}var Q,g=this,F=n,F=n;null==m.DEBUG&&(m.DEBUG=n);var B=arguments.length-1;0>B&&(B=0);for(var t=Array(B),F=0;F<B;F++)t[F]=arguments[F+1];(Q=t.$length()["$=="](1)?t["$[]"](0)["$respond_to?"]("to_ary"):
t.$length()["$=="](1))!==n&&(!Q.$$is_boolean||1==Q)&&(F=c.get("Opal")["$coerce_to?"](t["$[]"](0),c.get("Array"),"to_ary"),(Q=F["$nil?"]())===n||Q.$$is_boolean&&1!=Q)&&(t=F.$to_a());Q="";var F=0,p,q=a.length,u,l,x,y,N,K,U,Z,ca,R,ea=1,X=0,D;for(p=a.indexOf("%");-1!==p;p=a.indexOf("%",p)){l=void 0;D=0;N=y=-1;R=void 0;B=p;p++;switch(a.charAt(p)){case "%":F=p;case "":case "\n":case "\x00":p++;continue}a:for(;p<q;p++)switch(a.charAt(p)){case " ":b();D|=16;continue a;case "#":b();D|=1;continue a;case "+":b();
D|=4;continue a;case "-":b();D|=2;continue a;case "0":b();D|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":u=z("width");if("$"===a.charAt(p+1)){if(p+2===q){l="%";p++;break a}void 0!==R&&g.$raise(c.get("ArgumentError"),"value given twice - %"+u+"$");R=e(u);p++}else d(),D|=32,y=u;continue a;case "<":case "{":for(x="<"===a.charAt(p)?">":"}",u="",p++;;p++){p===q&&g.$raise(c.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(p)===
x)if(0<X&&g.$raise(c.get("ArgumentError"),"named "+u+" after unnumbered("+X+")"),-1===X&&g.$raise(c.get("ArgumentError"),"named "+u+" after numbered"),X=-2,void 0!==t[0]&&t[0].$$is_hash||g.$raise(c.get("ArgumentError"),"one hash required"),R=t[0].$fetch(u),">"===x)continue a;else{l=R.toString();-1!==N&&(l=l.slice(0,N));if(D&2)for(;l.length<y;)l+=" ";else for(;l.length<y;)l=" "+l;break a}u+=a.charAt(p)}case "*":p++;d();D|=32;y=O("width");0>y&&(D|=2,y=-y);continue a;case ".":D&128&&g.$raise(c.get("ArgumentError"),
"precision given twice");D|=192;N=0;p++;if("*"===a.charAt(p)){p++;N=O("precision");0>N&&(D&=-65);continue a}N=z("precision");continue a;case "d":case "i":case "u":u=g.$Integer(v());if(0<=u){for(l=u.toString();l.length<N;)l="0"+l;if(D&2){if(D&4||D&16)l=(D&4?"+":" ")+l;for(;l.length<y;)l+=" "}else if(D&8&&-1===N){for(;l.length<y-(D&4||D&16?1:0);)l="0"+l;if(D&4||D&16)l=(D&4?"+":" ")+l}else{if(D&4||D&16)l=(D&4?"+":" ")+l;for(;l.length<y;)l=" "+l}}else{for(l=(-u).toString();l.length<N;)l="0"+l;if(D&2)for(l=
"-"+l;l.length<y;)l+=" ";else if(D&8&&-1===N){for(;l.length<y-1;)l="0"+l;l="-"+l}else for(l="-"+l;l.length<y;)l=" "+l}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(p)){case "b":case "B":K=2;U="0b";Z=/^1+/;ca="1";break;case "o":K=8;U="0";Z=/^3?7+/;ca="7";break;case "x":case "X":K=16,U="0x",Z=/^f+/,ca="f"}u=g.$Integer(v());if(0<=u){for(l=u.toString(K);l.length<N;)l="0"+l;if(D&2){if(D&4||D&16)l=(D&4?"+":" ")+l;for(D&1&&0!==u&&(l=U+l);l.length<y;)l+=" "}else if(D&8&&-1===N){for(;l.length<
y-(D&4||D&16?1:0)-(D&1&&0!==u?U.length:0);)l="0"+l;D&1&&0!==u&&(l=U+l);if(D&4||D&16)l=(D&4?"+":" ")+l}else{D&1&&0!==u&&(l=U+l);if(D&4||D&16)l=(D&4?"+":" ")+l;for(;l.length<y;)l=" "+l}}else if(D&4||D&16){for(l=(-u).toString(K);l.length<N;)l="0"+l;if(D&2)for(D&1&&(l=U+l),l="-"+l;l.length<y;)l+=" ";else if(D&8&&-1===N){for(;l.length<y-1-(D&1?2:0);)l="0"+l;D&1&&(l=U+l);l="-"+l}else for(D&1&&(l=U+l),l="-"+l;l.length<y;)l=" "+l}else{for(l=(u>>>0).toString(K).replace(Z,ca);l.length<N-2;)l=ca+l;if(D&2)for(l=
".."+l,D&1&&(l=U+l);l.length<y;)l+=" ";else if(D&8&&-1===N){for(;l.length<y-2-(D&1?U.length:0);)l=ca+l;l=".."+l;D&1&&(l=U+l)}else for(l=".."+l,D&1&&(l=U+l);l.length<y;)l=" "+l}a.charAt(p)===a.charAt(p).toUpperCase()&&(l=l.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":u=g.$Float(v());if(0<=u||isNaN(u)){if(Infinity===u)l="Inf";else switch(a.charAt(p)){case "f":l=u.toFixed(-1===N?6:N);break;case "e":case "E":l=u.toExponential(-1===N?6:N);break;case "g":case "G":l=u.toExponential(),
x=parseInt(l.split("e")[1],10),-4>x||x>=(-1===N?6:N)||(l=u.toPrecision(-1===N?D&1?6:void 0:N))}if(D&2){if(D&4||D&16)l=(D&4?"+":" ")+l;for(;l.length<y;)l+=" "}else if(D&8&&Infinity!==u&&!isNaN(u)){for(;l.length<y-(D&4||D&16?1:0);)l="0"+l;if(D&4||D&16)l=(D&4?"+":" ")+l}else{if(D&4||D&16)l=(D&4?"+":" ")+l;for(;l.length<y;)l=" "+l}}else{if(-Infinity===u)l="Inf";else switch(a.charAt(p)){case "f":l=(-u).toFixed(-1===N?6:N);break;case "e":case "E":l=(-u).toExponential(-1===N?6:N);break;case "g":case "G":l=
(-u).toExponential(),x=parseInt(l.split("e")[1],10),-4>x||x>=(-1===N?6:N)||(l=(-u).toPrecision(-1===N?D&1?6:void 0:N))}if(D&2)for(l="-"+l;l.length<y;)l+=" ";else if(D&8&&-Infinity!==u){for(;l.length<y-1;)l="0"+l;l="-"+l}else for(l="-"+l;l.length<y;)l=" "+l}a.charAt(p)!==a.charAt(p).toUpperCase()||Infinity===u||-Infinity===u||isNaN(u)||(l=l.toUpperCase());l=l.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":g.$raise(c.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":u=v();u["$respond_to?"]("to_ary")&&(u=u.$to_ary()[0]);l=u["$respond_to?"]("to_str")?u.$to_str():String.fromCharCode(c.get("Opal").$coerce_to(u,c.get("Integer"),"to_int"));1!==l.length&&g.$raise(c.get("ArgumentError"),"%c requires a character");if(D&2)for(;l.length<y;)l+=" ";else for(;l.length<y;)l=" "+l;break a;case "p":l=v().$inspect();-1!==N&&(l=l.slice(0,N));if(D&2)for(;l.length<y;)l+=" ";else for(;l.length<y;)l=" "+l;break a;case "s":l=v().$to_s();-1!==N&&(l=l.slice(0,N));if(D&2)for(;l.length<
y;)l+=" ";else for(;l.length<y;)l=" "+l;break a;default:g.$raise(c.get("ArgumentError"),"malformed format string - %"+a.charAt(p))}void 0===l&&g.$raise(c.get("ArgumentError"),"malformed format string - %");Q+=a.slice(F,B)+l;F=p+1}m.DEBUG&&0<=X&&ea<t.length&&g.$raise(c.get("ArgumentError"),"too many arguments for format string");return Q+a.slice(F)});a.defn(b,"$hash",function(){return this.$__id__()});a.defn(b,"$initialize_copy",function(a){return n});a.defn(b,"$inspect",function(){return this.$to_s()});
a.defn(b,"$instance_of?",function(a){a.$$is_class||a.$$is_module||this.$raise(c.get("TypeError"),"class or module required");return this.$$class===a});a.defn(b,"$instance_variable_defined?",function(b){b=c.get("Opal")["$instance_variable_name!"](b);return a.hasOwnProperty.call(this,b.substr(1))});a.defn(b,"$instance_variable_get",function(b){b=c.get("Opal")["$instance_variable_name!"](b);b=this[a.ivar(b.substr(1))];return null==b?n:b});a.defn(b,"$instance_variable_set",function(b,h){b=c.get("Opal")["$instance_variable_name!"](b);
return this[a.ivar(b.substr(1))]=h});a.defn(b,"$remove_instance_variable",function(b){b=c.get("Opal")["$instance_variable_name!"](b);var h=a.ivar(b.substr(1));return this.hasOwnProperty(h)?(b=this[h],delete this[h],b):this.$raise(c.get("NameError"),"instance variable "+b+" not defined")});a.defn(b,"$instance_variables",function(){var a=[],b,d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&(b="$"===d.substr(-1)?d.slice(0,d.length-1):d,a.push("@"+b));return a});a.defn(b,"$Integer",function(a,
b){var d=this,f,k;if(!a.$$is_string)return void 0!==b&&d.$raise(c.get("ArgumentError"),"base specified for non string value"),a===n&&d.$raise(c.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&d.$raise(c.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(f=a.$to_int(),f!==n)?f:c.get("Opal")["$coerce_to!"](a,c.get("Integer"),"to_i");void 0===b?b=0:(b=c.get("Opal").$coerce_to(b,c.get("Integer"),"to_int"),(1===b||0>b||36<
b)&&d.$raise(c.get("ArgumentError"),"invalid radix "+b));f=a.toLowerCase();f=f.replace(/(\d)_(?=\d)/g,"$1");f=f.replace(/^(\s*[+-]?)(0[bodx]?)/,function(f,k,z){switch(z){case "0b":if(0===b||2===b)return b=2,k;case "0":case "0o":if(0===b||8===b)return b=8,k;case "0d":if(0===b||10===b)return b=10,k;case "0x":if(0===b||16===b)return b=16,k}d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"')});b=0===b?10:b;k="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+
k+"]+\\s*$")).test(f)||d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');f=parseInt(f,b);isNaN(f)&&d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return f});a.defn(b,"$Float",function(a){var b;a===n&&this.$raise(c.get("TypeError"),"can't convert nil into Float");if(a.$$is_string){b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||
this.$raise(c.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return c.get("Opal")["$coerce_to!"](a,c.get("Float"),"to_f")});a.defn(b,"$Hash",function(a){var b,d;return(b=!1!==(d=a["$nil?"]())&&d!==n?d:a["$=="]([]))===n||b.$$is_boolean&&1!=b?(b=c.get("Hash")["$==="](a))===n||b.$$is_boolean&&1!=b?c.get("Opal")["$coerce_to!"](a,c.get("Hash"),"to_hash"):a:e([],{})});a.defn(b,"$is_a?",function(b){b.$$is_class||b.$$is_module||this.$raise(c.get("TypeError"),"class or module required");
return a.is_a(this,b)});a.alias(b,"kind_of?","is_a?");a.defn(b,"$lambda",t=function(){var a=t.$$p||n;t.$$p=null;a.$$is_lambda=!0;return a});a.defn(b,"$load",function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.load(b)});a.defn(b,"$loop",f=function(){var a=f.$$p||n;for(f.$$p=null;;)if(a()===l)return l.$v});a.defn(b,"$nil?",function(){return!1});a.alias(b,"object_id","__id__");a.defn(b,"$printf",function(){var b,h=n,d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),h=0;h<
d;h++)f[h]=arguments[h+0];h=f.$length();(b="number"===typeof h?0<h:h["$>"](0))===n||b.$$is_boolean&&1!=b||this.$print((b=this).$format.apply(b,a.to_a(f)));return n});a.defn(b,"$proc",k=function(){var a=k.$$p||n;k.$$p=null;!1!==a&&a!==n||this.$raise(c.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a});a.defn(b,"$puts",function(){var b,h=n;null==m.stdout&&(m.stdout=n);var d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),h=0;h<d;h++)f[h]=arguments[h+0];
return(b=m.stdout).$puts.apply(b,a.to_a(f))});a.defn(b,"$p",function(){var a,b,d=n,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),d=0;d<f;d++)k[d]=arguments[d+0];(a=k.$each,a.$$p=(b=function(a){null==m.stdout&&(m.stdout=n);null==a&&(a=n);return m.stdout.$puts(a.$inspect())},b.$$s=this,b),a).call(k);return(a=q(k.$length(),1))===n||a.$$is_boolean&&1!=a?k:k["$[]"](0)});a.defn(b,"$print",function(){var b,h=n;null==m.stdout&&(m.stdout=n);var d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),h=0;h<
d;h++)f[h]=arguments[h+0];return(b=m.stdout).$print.apply(b,a.to_a(f))});a.defn(b,"$warn",function(){var b,h,d=n;null==m.VERBOSE&&(m.VERBOSE=n);null==m.stderr&&(m.stderr=n);var f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),d=0;d<f;d++)k[d]=arguments[d+0];return(b=!1!==(h=m.VERBOSE["$nil?"]())&&h!==n?h:k["$empty?"]())===n||b.$$is_boolean&&1!=b?(b=m.stderr).$puts.apply(b,a.to_a(k)):n});a.defn(b,"$raise",function(b,h,d){null==m["!"]&&(m["!"]=n);null==h&&(h=n);if(null==b&&m["!"]!==n)throw m["!"];
null==b?b=c.get("RuntimeError").$new():b.$$is_string?b=c.get("RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(h):b["$kind_of?"](c.get("Exception"))||(b=c.get("TypeError").$new("exception class/object expected"));m["!"]!==n&&a.exceptions.push(m["!"]);m["!"]=b;throw b;});a.alias(b,"fail","raise");a.defn(b,"$rand",function(a){if(void 0===a)return Math.random();if(a.$$is_range){var b=a.begin,d=a.end-b;a.exclude||d++;return this.$rand(d)+b}return Math.floor(Math.random()*
Math.abs(c.get("Opal").$coerce_to(a,c.get("Integer"),"to_int")))});a.defn(b,"$respond_to?",function(a,b){var d;null==b&&(b=!1);if((d=this["$respond_to_missing?"](a,b))!==n&&(!d.$$is_boolean||1==d))return!0;d=this["$"+a];return"function"!==typeof d||d.$$stub?!1:!0});a.defn(b,"$respond_to_missing?",function(a,b){return!1});a.defn(b,"$require",function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.require(b)});a.defn(b,"$require_relative",function(b){c.get("Opal")["$try_convert!"](b,
c.get("String"),"to_str");b=c.get("File").$expand_path(c.get("File").$join(a.current_file,"..",b));return a.require(b)});a.defn(b,"$require_tree",function(b){b=c.get("File").$expand_path(b);b["$=="](".")&&(b="");for(var h in a.modules)h["$start_with?"](b)&&a.require(h);return n});a.alias(b,"send","__send__");a.alias(b,"public_send","__send__");a.defn(b,"$singleton_class",function(){return a.get_singleton_class(this)});a.defn(b,"$sleep",function(a){null==a&&(a=n);a===n&&this.$raise(c.get("TypeError"),
"can't convert NilClass into time interval");a.$$is_number||this.$raise(c.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(c.get("ArgumentError"),"time interval must be positive");for(var b=new Date;new Date-b<=1E3*a;);return a});a.alias(b,"sprintf","format");a.alias(b,"srand","rand");a.defn(b,"$String",function(a){var b;return!1!==(b=c.get("Opal")["$coerce_to?"](a,c.get("String"),"to_str"))&&b!==n?b:c.get("Opal")["$coerce_to!"](a,c.get("String"),"to_s")});a.defn(b,
"$tap",B=function(){var b=B.$$p||n;B.$$p=null;return a.yield1(b,this)===l?l.$v:this});a.defn(b,"$to_proc",function(){return this});a.defn(b,"$to_s",function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"});a.defn(b,"$catch",v=function(b){var h,d=v.$$p||n,f=n;v.$$p=null;try{return h=a.yieldX(d,[]),h}catch(k){if(a.rescue(k,[c.get("UncaughtThrowError")])){f=k;try{return f.$sym()["$=="](b)?f.$arg():this.$raise()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw k;}});a.defn(b,
"$throw",function(){var a=n,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),a=0;a<b;a++)d[a]=arguments[a+0];return this.$raise(c.get("UncaughtThrowError").$new(d))})})(a.base);return function(a,$super){function e(){}var g=e=c(a,$super,"Object",e);return g.$include(g.$$scope.get("Kernel"))}(a.base,null)};
Opal.modules["corelib/error"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass,l=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(g,$super){function e(){}var c=e=n(g,$super,"Exception",e);c.$$proto.message=q;a.defs(c,"$new",function(){var a=q,e=arguments.length-0;0>e&&(e=0);for(var c=Array(e),a=0;a<e;a++)c[a]=arguments[a+0];a=new this.$$alloc(0<c.length?c[0]:q);Error.captureStackTrace&&Error.captureStackTrace(a);
a.name=this.$$name;a.$initialize.apply(a,c);return a});a.defs(c,"$exception",function(){var b=q,e=arguments.length-0;0>e&&(e=0);for(var c=Array(e),b=0;b<e;b++)c[b]=arguments[b+0];return this.$new.apply(this,a.to_a(c))});a.defn(c,"$initialize",function(){var a=q,e=arguments.length-0;0>e&&(e=0);for(var c=Array(e),a=0;a<e;a++)c[a]=arguments[a+0];return this.message=0<c.length?c[0]:q});a.defn(c,"$backtrace",function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):
[]});a.defn(c,"$exception",function(a){null==a&&(a=q);if(a===q||this===a)return this;var e=this.$clone();e.message=a;return e});a.defn(c,"$message",function(){return this.$to_s()});a.defn(c,"$inspect",function(){var a,e=q,e=this.$to_s();return(a=e["$empty?"]())===q||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()});return(a.defn(c,"$to_s",function(){var a,e;return!1!==(a=(e=this.message,!1!==e&&e!==q?this.message.$to_s():e))&&a!==q?a:this.$class().$to_s()}),
q)&&"to_s"})(a.base,Error);(function(a,$super){function e(){}e=n(a,$super,"ScriptError",e);return q})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=n(a,$super,"SyntaxError",e);return q})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=n(a,$super,"LoadError",e);return q})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=n(a,$super,"NotImplementedError",e);return q})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=n(a,$super,"SystemExit",
e);return q})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=n(a,$super,"NoMemoryError",e);return q})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=n(a,$super,"SignalException",e);return q})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=n(a,$super,"Interrupt",e);return q})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=n(a,$super,"SecurityError",e);return q})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=n(a,$super,
"StandardError",e);return q})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=n(a,$super,"ZeroDivisionError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"NameError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"NoMethodError",e);return q})(a.base,a.get("NameError"));(function(a,$super){function e(){}e=n(a,$super,"RuntimeError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}
e=n(a,$super,"LocalJumpError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"TypeError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"ArgumentError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"IndexError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"StopIteration",e);return q})(a.base,a.get("IndexError"));(function(a,
$super){function e(){}e=n(a,$super,"KeyError",e);return q})(a.base,a.get("IndexError"));(function(a,$super){function e(){}e=n(a,$super,"RangeError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"FloatDomainError",e);return q})(a.base,a.get("RangeError"));(function(a,$super){function e(){}e=n(a,$super,"IOError",e);return q})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=n(a,$super,"SystemCallError",e);return q})(a.base,a.get("StandardError"));
(function(g){g=l(g,"Errno").$$scope;(function(g,$super){function c(){}var b=c=n(g,$super,"EINVAL",c),l;return(a.defs(b,"$new",l=function(){l.$$p=null;return a.find_super_dispatcher(this,"new",l,null,c).apply(this,["Invalid argument"])}),q)&&"new"})(g.base,g.get("SystemCallError"))})(a.base);(function(g,$super){function e(){}var c=e=n(g,$super,"UncaughtThrowError",e),b;c.$$proto.sym=q;c.$attr_reader("sym","arg");return(a.defn(c,"$initialize",b=function(e){var c;b.$$p=null;this.sym=e["$[]"](0);var g=
e.$length();(c="number"===typeof g?1<g:g["$>"](1))===q||c.$$is_boolean&&1!=c||(this.arg=e["$[]"](1));return a.find_super_dispatcher(this,"initialize",b,null).apply(this,["uncaught throw "+this.sym.$inspect()])}),q)&&"initialize"})(a.base,a.get("ArgumentError"));(function(g,$super){function e(){}var c=e=n(g,$super,"NameError",e),b;c.$attr_reader("name");return(a.defn(c,"$initialize",b=function(e,c){null==c&&(c=q);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[e]);return this.name=
c}),q)&&"initialize"})(a.base,null);return function(g,$super){function e(){}var c=e=n(g,$super,"NoMethodError",e),b;c.$attr_reader("args");return(a.defn(c,"$initialize",b=function(e,c,g){null==g&&(g=[]);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[e,c]);return this.args=g}),q)&&"initialize"}(a.base,null)};
Opal.modules["corelib/constants"]=function(a){a.dynamic_require_severity="warning";a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.2.3");a.cdecl(a,"RUBY_ENGINE_VERSION","0.9.2");a.cdecl(a,"RUBY_RELEASE_DATE","2016-01-10");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+
" revision "+a.get("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){a.dynamic_require_severity="warning";var q=a.top;a.add_stubs(["$require"]);q.$require("corelib/runtime");q.$require("corelib/helpers");q.$require("corelib/module");q.$require("corelib/class");q.$require("corelib/basic_object");q.$require("corelib/kernel");q.$require("corelib/error");return q.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(l,$super){function m(){}var e=m=n(l,$super,"NilClass",m),c=e.$$scope;e.$$proto.$$meta=e;a.defn(e,"$!",function(){return!0});a.defn(e,"$&",function(a){return!1});a.defn(e,"$|",function(a){return!1!==a&&a!==q});a.defn(e,"$^",function(a){return!1!==a&&a!==q});a.defn(e,"$==",function(a){return a===q});a.defn(e,"$dup",function(){return this.$raise(c.get("TypeError"),
"can't dup "+this.$class())});a.defn(e,"$clone",function(){return this.$raise(c.get("TypeError"),"can't clone "+this.$class())});a.defn(e,"$inspect",function(){return"nil"});a.defn(e,"$nil?",function(){return!0});a.defn(e,"$singleton_class",function(){return c.get("NilClass")});a.defn(e,"$to_a",function(){return[]});a.defn(e,"$to_h",function(){return a.hash()});a.defn(e,"$to_i",function(){return 0});a.alias(e,"to_f","to_i");a.defn(e,"$to_s",function(){return""});a.defn(e,"$to_c",function(){return c.get("Complex").$new(0,
0)});a.defn(e,"$rationalize",function(){var a,e=q,m=arguments.length-0;0>m&&(m=0);for(var n=Array(m),e=0;e<m;e++)n[e]=arguments[e+0];e=n.$length();(a="number"===typeof e?1<e:e["$>"](1))===q||a.$$is_boolean&&1!=a||this.$raise(c.get("ArgumentError"));return this.$Rational(0,1)});a.defn(e,"$to_r",function(){return this.$Rational(0,1)});return(a.defn(e,"$instance_variables",function(){return[]}),q)&&"instance_variables"})(a.base,null);return a.cdecl(a,"NIL",q)};
Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass;a.add_stubs(["$raise","$class"]);(function(l,$super){function m(){}var e=m=n(l,$super,"Boolean",m),c=e.$$proto,b=e.$$scope;c.$$is_boolean=!0;c.$$meta=e;a.defn(e,"$__id__",function(){return this.valueOf()?2:0});a.alias(e,"object_id","__id__");a.defn(e,"$!",function(){return 1!=this});a.defn(e,"$&",function(a){return 1==this?!1!==a&&a!==q:!1});a.defn(e,"$|",function(a){return 1==this?!0:!1!==a&&a!==
q});a.defn(e,"$^",function(a){return 1==this?!1===a||a===q:!1!==a&&a!==q});a.defn(e,"$==",function(a){return 1==this===a.valueOf()});a.alias(e,"equal?","==");a.alias(e,"eql?","==");a.defn(e,"$singleton_class",function(){return b.get("Boolean")});a.defn(e,"$to_s",function(){return 1==this?"true":"false"});a.defn(e,"$dup",function(){return this.$raise(b.get("TypeError"),"can't dup "+this.$class())});return(a.defn(e,"$clone",function(){return this.$raise(b.get("TypeError"),"can't clone "+this.$class())}),
q)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function q(a,e){return"number"===typeof a&&"number"===typeof e?a>e:a["$>"](e)}function n(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var l=a.nil,g=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(m){m=g(m,"Comparable");var e=m.$$scope;a.defs(m,"$normalize",function(a){var b;return(b=e.get("Integer")["$==="](a))===l||b.$$is_boolean&&1!=b?(b=q(a,
0))===l||b.$$is_boolean&&1!=b?(b=n(a,0))===l||b.$$is_boolean&&1!=b?0:-1:1:a});a.defn(m,"$==",function(c){var b,g=l;try{return(b=this["$equal?"](c))===l||b.$$is_boolean&&1!=b?this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(b=g=this["$<=>"](c))===l||b.$$is_boolean&&1!=b?!1:0==e.get("Comparable").$normalize(g):!0}catch(m){if(a.rescue(m,[e.get("StandardError")]))try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw m;}});a.defn(m,"$>",function(a){var b,
g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<e.get("Comparable").$normalize(g)});a.defn(m,"$>=",function(a){var b,g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=e.get("Comparable").$normalize(g)});a.defn(m,"$<",function(a){var b,g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&
1!=b)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>e.get("Comparable").$normalize(g)});a.defn(m,"$<=",function(a){var b,g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=e.get("Comparable").$normalize(g)});a.defn(m,"$between?",function(a,b){return n(this,a)||q(this,b)?!1:!0})}(a.base)};
Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass,l=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function e(){}e=n(a,$super,"RegexpError",e);return q})(a.base,a.get("StandardError"));(function(g,$super){function e(){}var c=e=n(g,$super,"Regexp",e),b=c.$$proto,A=c.$$scope,x;a.cdecl(A,"IGNORECASE",
1);a.cdecl(A,"MULTILINE",4);b.$$is_regexp=!0;(function(b){var e=b.$$scope,c;a.defn(b,"$allocate",c=function(){var b=c.$$p,f=q,k=f=q;c.$$p=null;f=[];for(k=0;k<arguments.length;k++)f[k]=arguments[k];f=a.find_super_dispatcher(this,"allocate",c,b).apply(this,f);f.uninitialized=!0;return f});a.defn(b,"$escape",function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")});a.defn(b,"$last_match",function(a){var b;
null==l["~"]&&(l["~"]=q);null==a&&(a=q);return(b=a["$nil?"]())===q||b.$$is_boolean&&1!=b?l["~"]["$[]"](a):l["~"]});a.alias(b,"quote","escape");a.defn(b,"$union",function(){var a=q,b=arguments.length-0;0>b&&(b=0);for(var k=Array(b),a=0;a<b;a++)k[a]=arguments[a+0];var c,v;if(0==k.length)return/(?!)/;a=k[0].$$is_array;1<k.length&&a&&this.$raise(e.get("TypeError"),"no implicit conversion of Array into String");a&&(k=k[0]);c=void 0;for(var a=[],r=0;r<k.length;r++)b=k[r],b.$$is_string?a.push(this.$escape(b)):
b.$$is_regexp?(v=b.$options(),void 0!=c&&c!=v&&this.$raise(e.get("TypeError"),"All expressions must use the same options"),c=v,a.push("("+b.source+")")):a.push(this.$escape(b.$to_str()));return this.$new(a.$join("|"),c)});return(a.defn(b,"$new",function(a,b){if(a.$$is_regexp)return new RegExp(a);a=e.get("Opal")["$coerce_to!"](a,e.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&this.$raise(e.get("RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var k="";e.get("IGNORECASE")&b&&(k+="i");e.get("MULTILINE")&b&&(k+="m");b=k}else b="i";return new RegExp(a,b)}),q)&&"new"})(a.get_singleton_class(c));a.defn(c,"$==",function(a){return a.constructor==RegExp&&this.toString()===a.toString()});a.defn(c,"$===",function(a){return this.$match(A.get("Opal")["$coerce_to?"](a,A.get("String"),"to_str"))!==q});a.defn(c,"$=~",function(a){var b;null==l["~"]&&(l["~"]=q);return b=this.$match(a),!1!==b&&b!==q?l["~"].$begin(0):b});a.alias(c,"eql?",
"==");a.defn(c,"$inspect",function(){return this.toString()});a.defn(c,"$match",x=function(a,b){var e=x.$$p||q;null==l["~"]&&(l["~"]=q);x.$$p=null;this.uninitialized&&this.$raise(A.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:A.get("Opal").$coerce_to(b,A.get("Integer"),"to_int");if(a===q)return l["~"]=q;a=A.get("Opal").$coerce_to(a,A.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return l["~"]=q;var c=this.source,f="g";this.multiline&&(c=c.replace(".","[\\s\\S]"),f+="m");for(f=new RegExp(c,
f+(this.ignoreCase?"i":""));;){c=f.exec(a);if(null===c)return l["~"]=q;if(c.index>=b)return l["~"]=A.get("MatchData").$new(f,c),e===q?l["~"]:e.$call(l["~"]);f.lastIndex=c.index+1}});a.defn(c,"$~",function(){null==l._&&(l._=q);return this["$=~"](l._)});a.defn(c,"$source",function(){return this.source});a.defn(c,"$options",function(){this.uninitialized&&this.$raise(A.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=A.get("MULTILINE"));this.ignoreCase&&(a|=A.get("IGNORECASE"));return a});
a.defn(c,"$casefold?",function(){return this.ignoreCase});return a.alias(c,"to_s","source")})(a.base,RegExp);return function(g,$super){function e(){}var c=e=n(g,$super,"MatchData",e),b=c.$$scope;c.$$proto.matches=q;c.$attr_reader("post_match","pre_match","regexp","string");a.defn(c,"$initialize",function(a,b){l["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var e=0,c=b.length;e<
c;e++){var g=b[e];null==g?this.matches.push(q):this.matches.push(g)}});a.defn(c,"$[]",function(){var b,e=q,c=arguments.length-0;0>c&&(c=0);for(var g=Array(c),e=0;e<c;e++)g[e]=arguments[e+0];return(b=this.matches)["$[]"].apply(b,a.to_a(g))});a.defn(c,"$offset",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]});a.defn(c,"$==",function(a){var e,c,g,p;return(e=b.get("MatchData")["$==="](a))===q||e.$$is_boolean&&
1!=e?!1:(e=(c=(g=(p=this.string==a.string,!1!==p&&p!==q?this.regexp.toString()==a.regexp.toString():p),!1!==g&&g!==q?this.pre_match==a.pre_match:g),!1!==c&&c!==q?this.post_match==a.post_match:c),!1!==e&&e!==q?this.begin==a.begin:e)});a.alias(c,"eql?","==");a.defn(c,"$begin",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#begin only supports 0th element");return this.begin});a.defn(c,"$end",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#end only supports 0th element");
return this.begin+this.matches[a].length});a.defn(c,"$captures",function(){return this.matches.slice(1)});a.defn(c,"$inspect",function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,e=this.matches.length;b<e;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"});a.defn(c,"$length",function(){return this.matches.length});a.alias(c,"size","length");a.defn(c,"$to_a",function(){return this.matches});a.defn(c,"$to_s",function(){return this.matches[0]});return(a.defn(c,"$values_at",function(){var a=
q,e=arguments.length-0;0>e&&(e=0);for(var c=Array(e),a=0;a<e;a++)c[a]=arguments[a+0];for(var g,e=[],a=0;a<c.length;a++){c[a].$$is_range&&(g=c[a].$to_a(),g.unshift(a,1),Array.prototype.splice.apply(c,g));g=b.get("Opal")["$coerce_to!"](c[a],b.get("Integer"),"to_int");if(0>g&&(g+=this.matches.length,0>g)){e.push(q);continue}e.push(this.matches[g])}return e}),q)&&"values_at"}(a.base,null)};
Opal.modules["corelib/string"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var l=a.top,g=a.nil,m=a.breaker,e=a.slice,c=a.klass,b=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $class $each_line $match $captures $proc $shift $__send__ $succ $escape".split(" "));
l.$require("corelib/comparable");l.$require("corelib/regexp");(function(l,$super){function y(){}function u(a){function d(a){var b="",h,z=a.length,k,e;for(h=0;h<z;h++)if(k=a.charAt(h),"-"===k&&0<h&&h<z-1&&!e){e=a.charCodeAt(h-1);k=a.charCodeAt(h+1);e>k&&p.$raise(f.get("ArgumentError"),'invalid range "'+e+"-"+k+'" in string transliteration');for(e+=1;e<k+1;e++)b+=String.fromCharCode(e);e=!0;h++}else e="\\"===k,b+=k;return b}function b(a,d){if(0===a.length)return d;var h="",z,f=a.length,k;for(z=0;z<
f;z++)k=a.charAt(z),-1!==d.indexOf(k)&&(h+=k);return h}var h,k,e,c,v="",r="";h=0;for(k=a.length;h<k;h++)e=f.get("Opal").$coerce_to(a[h],f.get("String"),"to_str"),c="^"===e.charAt(0)&&1<e.length,e=d(c?e.slice(1):e),c?r=b(r,e):v=b(v,e);if(0<v.length&&0<r.length){e="";h=0;for(k=v.length;h<k;h++)a=v.charAt(h),-1===r.indexOf(a)&&(e+=a);v=e;r=""}return 0<v.length?"["+f.get("Regexp").$escape(v)+"]":0<r.length?"[^"+f.get("Regexp").$escape(r)+"]":null}var p=y=c(l,$super,"String",y),t=p.$$proto,f=p.$$scope,
k,B,v,r,h,d,E,w,C;t.length=g;p.$include(f.get("Comparable"));t.$$is_string=!0;a.defn(p,"$__id__",function(){return this.toString()});a.alias(p,"object_id","__id__");a.defs(p,"$try_convert",function(a){return f.get("Opal")["$coerce_to?"](a,f.get("String"),"to_str")});a.defs(p,"$new",function(a){null==a&&(a="");a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");return new String(a)});a.defn(p,"$initialize",function(a){return void 0===a?this:this.$raise(f.get("NotImplementedError"),"Mutable strings are not supported in Opal.")});
a.defn(p,"$%",function(b){var d;return(d=f.get("Array")["$==="](b))===g||d.$$is_boolean&&1!=d?this.$format(this,b):(d=this).$format.apply(d,[this].concat(a.to_a(b)))});a.defn(p,"$*",function(a){a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&this.$raise(f.get("ArgumentError"),"negative argument");if(0===a)return"";var b="",d=this.toString();for(268435456<=d.length*a&&this.$raise(f.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=d);a>>>=1;if(0===
a)break;d+=d}return b});a.defn(p,"$+",function(a){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");return this+a.$to_s()});a.defn(p,"$<=>",function(a){var d;if((d=a["$respond_to?"]("to_str"))===g||d.$$is_boolean&&1!=d)return a=a["$<=>"](this),a===g?g:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0});a.defn(p,"$==",function(a){return a.$$is_string?this.toString()===a.toString():f.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1});a.alias(p,"eql?","==");a.alias(p,"===",
"==");a.defn(p,"$=~",function(a){a.$$is_string&&this.$raise(f.get("TypeError"),"type mismatch: String given");return a["$=~"](this)});a.defn(p,"$[]",function(a,d){var h=this.length,k;if(a.$$is_range){k=a.exclude;d=f.get("Opal").$coerce_to(a.end,f.get("Integer"),"to_int");a=f.get("Opal").$coerce_to(a.begin,f.get("Integer"),"to_int");if(Math.abs(a)>h)return g;0>a&&(a+=h);0>d&&(d+=h);k||(d+=1);d-=a;0>d&&(d=0);return this.substr(a,d)}if(a.$$is_string)return null!=d&&this.$raise(f.get("TypeError")),-1!==
this.indexOf(a)?a:g;if(a.$$is_regexp){h=this.match(a);if(null===h)return b["~"]=g;b["~"]=f.get("MatchData").$new(a,h);if(null==d)return h[0];d=f.get("Opal").$coerce_to(d,f.get("Integer"),"to_int");return 0>d&&-d<h.length?h[d+h.length]:0<=d&&d<h.length?h[d]:g}a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&(a+=h);if(null==d)return a>=h||0>a?g:this.substr(a,1);d=f.get("Opal").$coerce_to(d,f.get("Integer"),"to_int");return 0>d||a>h||0>a?g:this.substr(a,d)});a.alias(p,"byteslice","[]");a.defn(p,
"$capitalize",function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()});a.defn(p,"$casecmp",function(a){var d=this;a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();var b=/^[\x00-\x7F]*$/;b.test(d)&&b.test(a)&&(d=d.toLowerCase(),a=a.toLowerCase());return d["$<=>"](a)});a.defn(p,"$center",function(a,d){var b;null==d&&(d=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");d=f.get("Opal").$coerce_to(d,f.get("String"),"to_str").$to_s();(b=d["$empty?"]())===g||
b.$$is_boolean&&1!=b||this.$raise(f.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==g&&(!b.$$is_boolean||1==b))return this;b=this.$ljust(q(n(a,this.length),2).$ceil(),d);return this.$rjust(q(n(a,this.length),2).$floor(),d)+b.slice(this.length)});a.defn(p,"$chars",k=function(){var a,d=k.$$p||g;k.$$p=null;return!1===d||d===g?this.$each_char().$to_a():(a=this.$each_char,a.$$p=d.$to_proc(),a).call(this)});a.defn(p,"$chomp",function(a){var d;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);
if((d=a===g||0===this.length)!==g&&(!d.$$is_boolean||1==d))return this;a=f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this});a.defn(p,"$chop",function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)});a.defn(p,"$chr",function(){return this.charAt(0)});
a.defn(p,"$clone",function(){var a=g,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(p,"$dup",function(){var a=g,a=this.slice();a.$initialize_dup(this);return a});a.defn(p,"$count",function(){var a=g,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];0===b.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=u(b);return null===a?0:this.length-this.replace(new RegExp(a,"g"),"").length});
a.defn(p,"$delete",function(){var a=g,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];0===b.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=u(b);return null===a?this:this.replace(new RegExp(a,"g"),"")});a.defn(p,"$downcase",function(){return this.toLowerCase()});a.defn(p,"$each_char",B=function(){var d,b,h=B.$$p||g;B.$$p=null;if(h===g)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=
this,b),d).call(this,"each_char");d=0;for(var f=this.length;d<f;d++)if(a.yield1(h,this.charAt(d))===m)return m.$v;return this});a.defn(p,"$each_line",v=function(d){var h=v.$$p||g;null==b["/"]&&(b["/"]=g);null==d&&(d=b["/"]);v.$$p=null;if(h===g)return this.$enum_for("each_line",d);var k;if(d===g)return k=a.yield1(h,this),k===m?k.$v:this;d=f.get("Opal").$coerce_to(d,f.get("String"),"to_str");var e,c,r,w;if(0===d.length){d=this.split(/(\n{2,})/);e=0;for(c=d.length;e<c;e+=2)if(d[e]||d[e+1])if(k=a.yield1(h,
(d[e]||"")+(d[e+1]||"")),k===m)return k.$v;return this}k=this.$chomp(d);c=this.length!=k.length;w=k.split(d);e=0;for(r=w.length;e<r;e++)if(k=e<r-1||c?a.yield1(h,w[e]+d):a.yield1(h,w[e]),k===m)return k.$v;return this});a.defn(p,"$empty?",function(){return 0===this.length});a.defn(p,"$end_with?",function(){var a=g,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];a=0;for(d=b.length;a<d;a++){var h=f.get("Opal").$coerce_to(b[a],f.get("String"),"to_str").$to_s();if(this.length>=
h.length&&this.substr(this.length-h.length,h.length)==h)return!0}return!1});a.alias(p,"eql?","==");a.alias(p,"equal?","===");a.defn(p,"$gsub",r=function(a,d){var h=this,k=r.$$p||g;r.$$p=null;if(void 0===d&&k===g)return h.$enum_for("gsub",a);var e="",c=g,v=0,w,B;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){w=a.exec(h);if(null===w){b["~"]=g;e+=h.slice(v);break}c=
f.get("MatchData").$new(a,w);void 0===d?B=k(w[0]):d.$$is_hash?B=d["$[]"](w[0]).$to_s():(d.$$is_string||(d=f.get("Opal").$coerce_to(d,f.get("String"),"to_str")),B=d.replace(/([\\]+)([0-9+&`'])/g,function(a,d,b){if(0===d.length%2)return a;switch(b){case "+":for(a=w.length-1;0<a;a--)if(void 0!==w[a])return d.slice(1)+w[a];return"";case "&":return d.slice(1)+w[0];case "`":return d.slice(1)+h.slice(0,w.index);case "'":return d.slice(1)+h.slice(w.index+w[0].length);default:return d.slice(1)+(w[b]||"")}}).replace(/\\\\/g,
"\\"));a.lastIndex===w.index?(e+=B+h.slice(v,w.index+1),a.lastIndex+=1):e+=h.slice(v,w.index)+B;v=a.lastIndex}b["~"]=c;return e});a.defn(p,"$hash",function(){return this.toString()});a.defn(p,"$hex",function(){return this.$to_i(16)});a.defn(p,"$include?",function(a){var d;if(a.$$is_string)return-1!==this.indexOf(a);((d=a["$respond_to?"]("to_str"))===g||d.$$is_boolean&&1!=d)&&this.$raise(f.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");return-1!==this.indexOf(a.$to_str())});
a.defn(p,"$index",function(a,d){var h,k;if(void 0===d)d=0;else if(d=f.get("Opal").$coerce_to(d,f.get("Integer"),"to_int"),0>d&&(d+=this.length,0>d))return g;if(a.$$is_regexp)for(k=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){h=k.exec(this);if(null===h){b["~"]=g;h=-1;break}if(h.index>=d){b["~"]=f.get("MatchData").$new(k,h);h=h.index;break}k.lastIndex=h.index+1}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),h=0===a.length&&d>this.length?-1:this.indexOf(a,d);return-1===h?g:h});a.defn(p,
"$inspect",function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(d){return a[d]||"\\u"+("0000"+d.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'});a.defn(p,"$intern",function(){return this});a.defn(p,"$lines",h=function(a){var d,
f=h.$$p||g,k=g;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);h.$$p=null;k=(d=this.$each_line,d.$$p=f.$to_proc(),d).call(this,a);return!1!==f&&f!==g?this:k.$to_a()});a.defn(p,"$length",function(){return this.length});a.defn(p,"$ljust",function(a,d){var b;null==d&&(d=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");d=f.get("Opal").$coerce_to(d,f.get("String"),"to_str").$to_s();(b=d["$empty?"]())===g||b.$$is_boolean&&1!=b||this.$raise(f.get("ArgumentError"),"zero width padding");if((b=a<=
this.length)!==g&&(!b.$$is_boolean||1==b))return this;b=-1;var h="";for(a-=this.length;++b<a;)h+=d;return this+h.slice(0,a)});a.defn(p,"$lstrip",function(){return this.replace(/^\s*/,"")});a.defn(p,"$match",d=function(a,b){var h,k,e=d.$$p||g;d.$$p=null;(h=!1!==(k=f.get("String")["$==="](a))&&k!==g?k:a["$respond_to?"]("to_str"))===g||h.$$is_boolean&&1!=h||(a=f.get("Regexp").$new(a.$to_str()));((h=f.get("Regexp")["$==="](a))===g||h.$$is_boolean&&1!=h)&&this.$raise(f.get("TypeError"),"wrong argument type "+
a.$class()+" (expected Regexp)");return(h=(k=a).$match,h.$$p=e.$to_proc(),h).call(k,this,b)});a.defn(p,"$next",function(){var a=this.length;if(0===a)return"";for(var d=this,b=this.search(/[a-zA-Z0-9]/),h=!1,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:h=!0;f=48;break;case 90:h=!0;f=65;break;case 122:h=!0;f=97;break;default:h=!1,f+=1}else-1===b?255===f?(h=!0,f=0):(h=!1,f+=1):h=!0;d=d.slice(0,a)+String.fromCharCode(f)+d.slice(a+1);if(h&&(0===a||a===b)){switch(f){case 65:break;
case 97:break;default:f+=1}d=0===a?String.fromCharCode(f)+d:d.slice(0,a)+String.fromCharCode(f)+d.slice(a);h=!1}if(!h)break}return d});a.defn(p,"$oct",function(){var a;a=this;var d=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,h,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===h)return a}switch(h){case "0b":d=2;break;case "0":case "0o":d=8;break;case "0d":d=10;break;case "0x":d=16}return b+f});a=parseInt(a.replace(/_(?!_)/g,
""),d);return isNaN(a)?0:a});a.defn(p,"$ord",function(){return this.charCodeAt(0)});a.defn(p,"$partition",function(a){var d;a.$$is_regexp?(d=a.exec(this),null===d?d=-1:(f.get("MatchData").$new(a,d),a=d[0],d=d.index)):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),d=this.indexOf(a));return-1===d?[this,"",""]:[this.slice(0,d),this.slice(d,d+a.length),this.slice(d+a.length)]});a.defn(p,"$reverse",function(){return this.split("").reverse().join("")});a.defn(p,"$rindex",function(a,d){var h,k,
e;if(void 0===d)d=this.length;else if(d=f.get("Opal").$coerce_to(d,f.get("Integer"),"to_int"),0>d&&(d+=this.length,0>d))return g;if(a.$$is_regexp){h=null;for(k=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=k.exec(this);if(null===e||e.index>d)break;h=e;k.lastIndex=h.index+1}null===h?(b["~"]=g,h=-1):(f.get("MatchData").$new(k,h),h=h.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),h=this.lastIndexOf(a,d);return-1===h?g:h});a.defn(p,"$rjust",function(a,d){var b;null==d&&(d=" ");
a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");d=f.get("Opal").$coerce_to(d,f.get("String"),"to_str").$to_s();(b=d["$empty?"]())===g||b.$$is_boolean&&1!=b||this.$raise(f.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==g&&(!b.$$is_boolean||1==b))return this;b=Math.floor(a-this.length);var h=Array(Math.floor(b/d.length)+1).join(d);return h+d.slice(0,b-h.length)+this});a.defn(p,"$rpartition",function(a){var d,b,h;if(a.$$is_regexp){d=null;for(b=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":""));;){h=b.exec(this);if(null===h)break;d=h;b.lastIndex=d.index+1}null===d?d=-1:(f.get("MatchData").$new(b,d),a=d[0],d=d.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),d=this.lastIndexOf(a);return-1===d?["","",this]:[this.slice(0,d),this.slice(d,d+a.length),this.slice(d+a.length)]});a.defn(p,"$rstrip",function(){return this.replace(/[\s\u0000]*$/,"")});a.defn(p,"$scan",E=function(a){var d=E.$$p||g;E.$$p=null;var h=[],k=g,e;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(e=a.exec(this));)k=f.get("MatchData").$new(a,e),d===g?1==e.length?h.push(e[0]):h.push(k.$captures()):1==e.length?d(e[0]):d.call(this,k.$captures()),a.lastIndex===e.index&&(a.lastIndex+=1);b["~"]=k;return d!==g?this:h});a.alias(p,"size","length");a.alias(p,"slice","[]");a.defn(p,"$split",function(a,d){var h;null==b[";"]&&(b[";"]=g);if(0===this.length)return[];if(void 0===
d)d=0;else if(d=f.get("Opal")["$coerce_to!"](d,f.get("Integer"),"to_int"),1===d)return[this];if(void 0===a||a===g)a=!1!==(h=b[";"])&&h!==g?h:" ";h=[];var k=this.toString(),e=0,c,v;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,k=k.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));h=k.split(a);if(1===h.length&&h[0]===k)return h;for(;-1!==(v=h.indexOf(void 0));)h.splice(v,
1);if(0===d){for(;""===h[h.length-1];)--h.length;return h}c=a.exec(k);if(0>d){if(null!==c&&""===c[0]&&-1===a.source.indexOf("(?="))for(v=0;v<c.length;v++)h.push("");return h}if(null!==c&&""===c[0])return h.splice(d-1,h.length-1,h.slice(d-1).join("")),h;for(v=0;null!==c;){v++;e=a.lastIndex;if(v+1===d)break;c=a.exec(k)}h.splice(d-1,h.length-1,k.slice(e));return h});a.defn(p,"$squeeze",function(){var a=g,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];if(0===b.length)return this.replace(/(.)\1+/g,
"$1");a=u(b);return null===a?this:this.replace(new RegExp("("+a+")\\1+","g"),"$1")});a.defn(p,"$start_with?",function(){var a=g,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];a=0;for(d=b.length;a<d;a++){var h=f.get("Opal").$coerce_to(b[a],f.get("String"),"to_str").$to_s();if(0===this.indexOf(h))return!0}return!1});a.defn(p,"$strip",function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")});a.defn(p,"$sub",w=function(a,d){var h=this,k=w.$$p||g;w.$$p=
null;a.$$is_regexp||(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var e=a.exec(h);if(null===e)return b["~"]=g,h.toString();f.get("MatchData").$new(a,e);if(void 0===d)return k===g&&h.$raise(f.get("ArgumentError"),"wrong number of arguments (1 for 2)"),h.slice(0,e.index)+k(e[0])+h.slice(e.index+e[0].length);if(d.$$is_hash)return h.slice(0,e.index)+d["$[]"](e[0]).$to_s()+h.slice(e.index+e[0].length);d=f.get("Opal").$coerce_to(d,f.get("String"),
"to_str");d=d.replace(/([\\]+)([0-9+&`'])/g,function(a,d,b){if(0===d.length%2)return a;switch(b){case "+":for(a=e.length-1;0<a;a--)if(void 0!==e[a])return d.slice(1)+e[a];return"";case "&":return d.slice(1)+e[0];case "`":return d.slice(1)+h.slice(0,e.index);case "'":return d.slice(1)+h.slice(e.index+e[0].length);default:return d.slice(1)+(e[b]||"")}}).replace(/\\\\/g,"\\");return h.slice(0,e.index)+d+h.slice(e.index+e[0].length)});a.alias(p,"succ","next");a.defn(p,"$sum",function(a){null==a&&(a=16);
a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");for(var d=0,b=this.length,h=0;h<b;h++)d+=this.charCodeAt(h);return 0>=a?d:d&Math.pow(2,a)-1});a.defn(p,"$swapcase",function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,d,b){return d?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)});a.defn(p,"$to_f",function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a});a.defn(p,"$to_i",
function(a){null==a&&(a=10);var d=this.toLowerCase(),b=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");(1===b||0>b||36<b)&&this.$raise(f.get("ArgumentError"),"invalid radix "+b);if(/^\s*_/.test(d))return 0;d=d.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,d,h,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===h&&(0===b||16===b))return a}switch(h){case "0b":if(0===b||2===b)return b=2,d+f;break;case "0":case "0o":if(0===b||8===b)return b=8,d+f;break;case "0d":if(0===
b||10===b)return b=10,d+f;break;case "0x":if(0===b||16===b)return b=16,d+f}return a});a=parseInt(d.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a});a.defn(p,"$to_proc",function(){var d,b,h=g,h=this;return(d=this.$proc,d.$$p=(b=function(d){var k=b.$$s||this,c,v,r,w=g;d=e.call(arguments,0);c=b.$$p||g;b.$$p=null;(v=d["$empty?"]())===g||v.$$is_boolean&&1!=v||k.$raise(f.get("ArgumentError"),"no receiver given");w=d.$shift();return(v=(r=w).$__send__,v.$$p=c.$to_proc(),v).apply(r,[h].concat(a.to_a(d)))},b.$$s=
this,b),d).call(this)});a.defn(p,"$to_s",function(){return this.toString()});a.alias(p,"to_str","to_s");a.alias(p,"to_sym","intern");a.defn(p,"$tr",function(a,d){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();d=f.get("Opal").$coerce_to(d,f.get("String"),"to_str").$to_s();if(0==a.length||a===d)return this;var b,h,k,e,c,v={};c=a.split("");var r=c.length,w=d.split(""),g=w.length,B=!1,t=null;"^"===c[0]&&1<c.length&&(B=!0,c.shift(),t=w[g-1],--r);var m=[];k=null;h=!1;for(b=0;b<r;b++)if(e=
c[b],null==k)k=e,m.push(e);else if("-"===e)"-"===k?(m.push("-"),m.push("-")):b==r-1?m.push("-"):h=!0;else if(h){k=k.charCodeAt(0);h=e.charCodeAt(0);k>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(k)+"-"+String.fromCharCode(h)+'" in string transliteration');for(k+=1;k<h;k++)m.push(String.fromCharCode(k));m.push(e);k=h=null}else m.push(e);c=m;r=c.length;if(B)for(b=0;b<r;b++)v[c[b]]=!0;else{if(0<g){m=[];h=!1;for(b=0;b<g;b++)if(e=w[b],null==k)k=e,m.push(e);else if("-"===
e)b==g-1?m.push("-"):h=!0;else if(h){k=k.charCodeAt(0);h=e.charCodeAt(0);k>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(k)+"-"+String.fromCharCode(h)+'" in string transliteration');for(k+=1;k<h;k++)m.push(String.fromCharCode(k));m.push(e);k=h=null}else m.push(e);w=m;g=w.length}e=r-g;if(0<e)for(g=0<g?w[g-1]:"",b=0;b<e;b++)w.push(g);for(b=0;b<r;b++)v[c[b]]=w[b]}r="";b=0;for(c=this.length;b<c;b++)e=this.charAt(b),w=v[e],r=B?r+(null==w?t:e):r+(null!=w?w:e);return r});a.defn(p,
"$tr_s",function(a,d){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();d=f.get("Opal").$coerce_to(d,f.get("String"),"to_str").$to_s();if(0==a.length)return this;var b,h,k,e,c,v={};c=a.split("");var r=c.length,w=d.split(""),g=w.length,B=!1,t=null;"^"===c[0]&&1<c.length&&(B=!0,c.shift(),t=w[g-1],--r);var m=[];k=null;h=!1;for(b=0;b<r;b++)if(e=c[b],null==k)k=e,m.push(e);else if("-"===e)"-"===k?(m.push("-"),m.push("-")):b==r-1?m.push("-"):h=!0;else if(h){k=k.charCodeAt(0);h=e.charCodeAt(0);
k>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(k)+"-"+String.fromCharCode(h)+'" in string transliteration');for(k+=1;k<h;k++)m.push(String.fromCharCode(k));m.push(e);k=h=null}else m.push(e);c=m;r=c.length;if(B)for(b=0;b<r;b++)v[c[b]]=!0;else{if(0<g){m=[];h=!1;for(b=0;b<g;b++)if(e=w[b],null==k)k=e,m.push(e);else if("-"===e)b==g-1?m.push("-"):h=!0;else if(h){k=k.charCodeAt(0);h=e.charCodeAt(0);k>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(k)+
"-"+String.fromCharCode(h)+'" in string transliteration');for(k+=1;k<h;k++)m.push(String.fromCharCode(k));m.push(e);k=h=null}else m.push(e);w=m;g=w.length}e=r-g;if(0<e)for(g=0<g?w[g-1]:"",b=0;b<e;b++)w.push(g);for(b=0;b<r;b++)v[c[b]]=w[b]}r="";w=null;b=0;for(c=this.length;b<c;b++)if(e=this.charAt(b),g=v[e],B)null==g?null==w&&(r+=t,w=!0):(r+=e,w=null);else if(null!=g){if(null==w||w!==g)r+=g,w=g}else r+=e,w=null;return r});a.defn(p,"$upcase",function(){return this.toUpperCase()});a.defn(p,"$upto",C=
function(a,d){var b=C.$$p||g;null==d&&(d=!1);C.$$p=null;if(b===g)return this.$enum_for("upto",a,d);a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");var h,k;h=this.toString();var e;if(1===h.length&&1===a.length)for(h=h.charCodeAt(0),k=a.charCodeAt(0);h<=k&&(!d||h!==k);){e=b(String.fromCharCode(h));if(e===m)return m.$v;h+=1}else if(parseInt(h,10).toString()===h&&parseInt(a,10).toString()===a)for(h=parseInt(h,10),k=parseInt(a,10);h<=k&&(!d||h!==k);){e=b(h.toString());if(e===m)return m.$v;h+=1}else for(;h.length<=
a.length&&h<=a&&(!d||h!==a);){e=b(h);if(e===m)return m.$v;h=h.$succ()}return this})})(a.base,String);return a.cdecl(a,"Symbol",a.get("String"))};
Opal.modules["corelib/enumerable"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.breaker,l=a.slice,g=a.module;a.add_stubs("$raise $new $yield $dup $enum_for $enumerator_size $flatten $map $== $destructure $respond_to? $coerce_to! $> $* $nil? $coerce_to $try_convert $< $+ $- $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $compare $<=> $proc $call $to_a $lambda $sort! $map! $first $zip".split(" "));return function(m){m=g(m,"Enumerable");var e=m.$$scope,c,b,A,x,y,u,p,t,f,k,B,
v,r,h,d,E,w,C,P,z,O,Q,ba,F,H,M,I,J,V,S,L,W,N,K,U;a.defn(m,"$all?",c=function(){var d,b=c.$$p||q;c.$$p=null;var h=!0;this.$each.$$p=b!==q?function(){var k=a.yieldX(b,arguments);if(k===n)return h=n.$v,n;if((d=k)===q||d.$$is_boolean&&0==d)return h=!1,n}:function(a){if(1==arguments.length&&((d=a)===q||d.$$is_boolean&&0==d))return h=!1,n};this.$each();return h});a.defn(m,"$any?",b=function(){var d,h=b.$$p||q;b.$$p=null;var k=!1;this.$each.$$p=h!==q?function(){var b=a.yieldX(h,arguments);if(b===n)return k=
n.$v,n;if((d=b)!==q&&(!d.$$is_boolean||1==d))return k=!0,n}:function(a){if(1!=arguments.length||(d=a)!==q&&(!d.$$is_boolean||1==d))return k=!0,n};this.$each();return k});a.defn(m,"$chunk",A=function(d){var b,h,k,f=A.$$p||q;A.$$p=null;!1!==f&&f!==q||e.get("Kernel").$raise(e.get("ArgumentError"),"no block given");return(b=(h=a.get("Enumerator")).$new,b.$$p=(k=function(b){function h(){0<Q.length&&b.$yield(g,Q)}var c=k.$$s||this,z,v,r;null==b&&(b=q);var w,g=q,Q=[];w=void 0==d||d===q?f:(z=(v=e.get("Proc")).$new,
z.$$p=(r=function(a){null==a&&(a=q);return f.$yield(a,d.$dup())},r.$$s=c,r),z).call(v);c.$each.$$p=function(d){var b=a.yield1(w,d);if(b===n)return n;b===q?(h(),Q=[],g=q):(g===q||g===b?Q.push(d):(h(),Q=[d]),g=b)};c.$each();h()},k.$$s=this,k),b).call(h)});a.defn(m,"$collect",x=function(){var d,b,h=x.$$p||q;x.$$p=null;if(h===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"collect");var k=[];this.$each.$$p=function(){var d=a.yieldX(h,arguments);
if(d===n)return k=n.$v,n;k.push(d)};this.$each();return k});a.defn(m,"$collect_concat",y=function(){var d,b,h,k=y.$$p||q;y.$$p=null;return k===q?(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"collect_concat"):(d=this.$map,d.$$p=(h=function(d){var b;null==d&&(d=q);return b=a.yield1(k,d),b},h.$$s=this,h),d).call(this).$flatten(1)});a.defn(m,"$count",u=function(d){var b,h=u.$$p||q;u.$$p=null;var k=0;null!=d?h=function(){return e.get("Opal").$destructure(arguments)["$=="](d)}:
h===q&&(h=function(){return!0});this.$each.$$p=function(){var d=a.yieldX(h,arguments);if(d===n)return k=n.$v,n;(b=d)===q||b.$$is_boolean&&1!=b||k++};this.$each();return k});a.defn(m,"$cycle",p=function(d){var b,h,k=p.$$p||q;null==d&&(d=q);p.$$p=null;if(k===q)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this,b;if(d["$=="](q))return(b=a["$respond_to?"]("size"))===q||b.$$is_boolean&&1!=b?q:e.get("Float").$$scope.get("INFINITY");d=e.get("Opal")["$coerce_to!"](d,e.get("Integer"),"to_int");
if((b="number"===typeof d?0<d:d["$>"](0))===q||b.$$is_boolean&&1!=b)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)},h.$$s=this,h),b).call(this,"cycle",d);if((b=d["$nil?"]())===q||b.$$is_boolean&&1!=b)if(d=e.get("Opal")["$coerce_to!"](d,e.get("Integer"),"to_int"),(b=0>=d)!==q&&(!b.$$is_boolean||1==b))return q;var f,c=[],z,v;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments);if(a.yield1(k,d)===n)return f=n.$v,n;c.push(d)};this.$each();
if(void 0!==f)return f;if(0===c.length)return q;if(d===q)for(;;)for(b=0,z=c.length;b<z;b++){if(v=a.yield1(k,c[b]),v===n)return n.$v}else for(;1<d;){b=0;for(z=c.length;b<z;b++)if(v=a.yield1(k,c[b]),v===n)return n.$v;d--}});a.defn(m,"$detect",t=function(d){var b,h=t.$$p||q;t.$$p=null;if(h===q)return this.$enum_for("detect",d);var k;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),f=a.yield1(h,d);if(f===n)return k=n.$v,n;if((b=f)!==q&&(!b.$$is_boolean||1==b))return k=d,n};this.$each();
void 0===k&&void 0!==d&&(k="function"===typeof d?d():d);return void 0===k?q:k});a.defn(m,"$drop",function(a){var d;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(d=0>a)===q||d.$$is_boolean&&1!=d||this.$raise(e.get("ArgumentError"),"attempt to drop negative size");var b=[],h=0;this.$each.$$p=function(){a<=h&&b.push(e.get("Opal").$destructure(arguments));h++};this.$each();return b});a.defn(m,"$drop_while",f=function(){var d,b=f.$$p||q;f.$$p=null;if(b===q)return this.$enum_for("drop_while");
var h=[],k=!0;this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments);if(k){var c=a.yield1(b,f);if(c===n)return h=n.$v,n;if((d=c)===q||d.$$is_boolean&&0==d)k=!1,h.push(f)}else h.push(f)};this.$each();return h});a.defn(m,"$each_cons",k=function(d){var b,h,f=k.$$p||q;k.$$p=null;(b=1!=arguments.length)===q||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");d=e.get("Opal").$try_convert(d,e.get("Integer"),"to_int");(b=0>=d)===
q||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"invalid size");if(f===q)return(b=this.$enum_for,b.$$p=(h=function(){var a,b,k=q,k=(h.$$s||this).$enumerator_size();return(a=k["$nil?"]())===q||a.$$is_boolean&&1!=a?(a=!1!==(b=k["$=="](0))&&b!==q?b:"number"===typeof k&&"number"===typeof d?k<d:k["$<"](d))===q||a.$$is_boolean&&1!=a?(a="number"===typeof k&&"number"===typeof d?k-d:k["$-"](d),"number"===typeof a?a+1:a["$+"](1)):0:q},h.$$s=this,h),b).call(this,"each_cons",d);var c=[],z=q;this.$each.$$p=
function(){var b=e.get("Opal").$destructure(arguments);c.push(b);c.length>d&&c.shift();if(c.length==d&&a.yield1(f,c.slice(0,d))==n)return z=n.$v,n};this.$each();return z});a.defn(m,"$each_entry",B=function(){B.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(m,"$each_slice",v=function(d){var b,h,k=v.$$p||q;v.$$p=null;d=e.get("Opal").$coerce_to(d,e.get("Integer"),"to_int");(b=0>=d)===q||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"invalid slice size");if(k===q)return(b=
this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this,b;if((b=a["$respond_to?"]("size"))===q||b.$$is_boolean&&1!=b)return q;a=a.$size();return("number"===typeof a&&"number"===typeof d?a/d:a["$/"](d)).$ceil()},h.$$s=this,h),b).call(this,"each_slice",d);var f,c=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments);c.push(b);if(c.length===d){if(a.yield1(k,c)===n)return f=n.$v,n;c=[]}};this.$each();return void 0!==f?f:0<c.length&&a.yield1(k,c)===n?n.$v:q});a.defn(m,"$each_with_index",
r=function(){var d,b,h=r.$$p||q,k=q,f=arguments.length-0;0>f&&(f=0);for(var c=Array(f),k=0;k<f;k++)c[k]=arguments[k+0];r.$$p=null;if(h===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).apply(this,["each_with_index"].concat(a.to_a(c)));var z,v=0;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(h(a,v)===n)return z=n.$v,n;v++};this.$each.apply(this,c);return void 0!==z?z:this});a.defn(m,"$each_with_object",h=function(a){var d,
b,k=h.$$p||q;h.$$p=null;if(k===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"each_with_object",a);var f;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments);if(k(d,a)===n)return f=n.$v,n};this.$each();return void 0!==f?f:a});a.defn(m,"$entries",function(){var a=q,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];var h=[];this.$each.$$p=function(){h.push(e.get("Opal").$destructure(arguments))};
this.$each.apply(this,b);return h});a.alias(m,"find","detect");a.defn(m,"$find_all",d=function(){var b,h,k=d.$$p||q;d.$$p=null;if(k===q)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$enumerator_size()},h.$$s=this,h),b).call(this,"find_all");var f=[];this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),h=a.yield1(k,d);if(h===n)return f=n.$v,n;(b=h)===q||b.$$is_boolean&&1!=b||f.push(d)};this.$each();return f});a.defn(m,"$find_index",E=function(d){var b,h=E.$$p||q;
E.$$p=null;if((b=void 0===d&&h===q)!==q&&(!b.$$is_boolean||1==b))return this.$enum_for("find_index");var k=q,f=0;null!=d?this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](d))return k=f,n;f+=1}:h!==q&&(this.$each.$$p=function(){var d=a.yieldX(h,arguments);if(d===n)return k=n.$v,n;if((b=d)!==q&&(!b.$$is_boolean||1==b))return k=f,n;f+=1});this.$each();return k});a.defn(m,"$first",function(a){var d,b=q;if((d=void 0===a)===q||d.$$is_boolean&&1!=d){b=[];a=e.get("Opal").$coerce_to(a,
e.get("Integer"),"to_int");(d=0>a)===q||d.$$is_boolean&&1!=d||this.$raise(e.get("ArgumentError"),"attempt to take negative size");if((d=0==a)!==q&&(!d.$$is_boolean||1==d))return[];var h=0;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");this.$each.$$p=function(){b.push(e.get("Opal").$destructure(arguments));if(a<=++h)return n}}else b=q,this.$each.$$p=function(){b=e.get("Opal").$destructure(arguments);return n};this.$each();return b});a.alias(m,"flat_map","collect_concat");a.defn(m,"$grep",
w=function(d){var b,h=w.$$p||q;w.$$p=null;var k=[];this.$each.$$p=h!==q?function(){var f=e.get("Opal").$destructure(arguments),c=d["$==="](f);if((b=c)!==q&&(!b.$$is_boolean||1==b)){c=a.yield1(h,f);if(c===n)return k=n.$v,n;k.push(c)}}:function(){var a=e.get("Opal").$destructure(arguments);(b=d["$==="](a))===q||b.$$is_boolean&&1!=b||k.push(a)};this.$each();return k});a.defn(m,"$group_by",C=function(){var d,b,h,k,f=C.$$p||q,c=q;C.$$p=null;if(f===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||
this).$enumerator_size()},b.$$s=this,b),d).call(this,"group_by");var c=e.get("Hash").$new(),z;this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments),v=a.yield1(f,b);if(v===n)return z=n.$v,n;(d=v,h=c,!1!==(k=h["$[]"](d))&&k!==q?k:h["$[]="](d,[]))["$<<"](b)};this.$each();return void 0!==z?z:c});a.defn(m,"$include?",function(a){var d=!1;this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](a))return d=!0,n};this.$each();return d});a.defn(m,"$inject",P=function(d,b){var h=
P.$$p||q;P.$$p=null;var k=d;h!==q&&void 0===b?this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments);if(void 0!==k&&(d=a.yieldX(h,[k,d]),d===n))return k=n.$v,n;k=d}:(void 0===b&&(e.get("Symbol")["$==="](d)||this.$raise(e.get("TypeError"),""+d.$inspect()+" is not a Symbol"),b=d,k=void 0),this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);k=void 0===k?a:k.$__send__(b,a)});this.$each();return void 0==k?q:k});a.defn(m,"$lazy",function(){var d,b,h;return(d=(b=e.get("Enumerator").$$scope.get("Lazy")).$new,
d.$$p=(h=function(d,b){var h;null==d&&(d=q);b=l.call(arguments,1);return(h=d).$yield.apply(h,a.to_a(b))},h.$$s=this,h),d).call(b,this,this.$enumerator_size())});a.defn(m,"$enumerator_size",function(){var a;return(a=this["$respond_to?"]("size"))===q||a.$$is_boolean&&1!=a?q:this.$size()});a.alias(m,"map","collect");a.defn(m,"$max",z=function(){var a=this,d=z.$$p||q;z.$$p=null;var b;a.$each.$$p=d!==q?function(){var h=e.get("Opal").$destructure(arguments);if(void 0===b)b=h;else{var k=d(h,b);if(k===n)return b=
n.$v,n;k===q&&a.$raise(e.get("ArgumentError"),"comparison failed");0<k&&(b=h)}}:function(){var a=e.get("Opal").$destructure(arguments);void 0===b?b=a:0<e.get("Opal").$compare(a,b)&&(b=a)};a.$each();return void 0===b?q:b});a.defn(m,"$max_by",O=function(){var d,b,h=O.$$p||q;O.$$p=null;if(!1===h||h===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"max_by");var k,f;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),b=
a.yield1(h,d);if(void 0===k)k=d,f=b;else{if(b===n)return k=n.$v,n;0<b["$<=>"](f)&&(k=d,f=b)}};this.$each();return void 0===k?q:k});a.alias(m,"member?","include?");a.defn(m,"$min",Q=function(){var a=this,d=Q.$$p||q;Q.$$p=null;var b;a.$each.$$p=d!==q?function(){var h=e.get("Opal").$destructure(arguments);if(void 0===b)b=h;else{var k=d(h,b);if(k===n)return b=n.$v,n;k===q&&a.$raise(e.get("ArgumentError"),"comparison failed");0>k&&(b=h)}}:function(){var a=e.get("Opal").$destructure(arguments);void 0===
b?b=a:0>e.get("Opal").$compare(a,b)&&(b=a)};a.$each();return void 0===b?q:b});a.defn(m,"$min_by",ba=function(){var d,b,h=ba.$$p||q;ba.$$p=null;if(!1===h||h===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"min_by");var k,f;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),b=a.yield1(h,d);if(void 0===k)k=d,f=b;else{if(b===n)return k=n.$v,n;0>b["$<=>"](f)&&(k=d,f=b)}};this.$each();return void 0===k?q:k});a.defn(m,
"$minmax",F=function(){var a,d,b,h=this,k=F.$$p||q;F.$$p=null;!1!==(a=k)&&a!==q?a:k=(d=h.$proc,d.$$p=(b=function(a,d){null==a&&(a=q);null==d&&(d=q);return a["$<=>"](d)},b.$$s=h,b),d).call(h);var f=q,c=q,z=!0;h.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(z)f=c=a,z=!1;else{var d=k.$call(f,a);d===q?h.$raise(e.get("ArgumentError"),"comparison failed"):0<d&&(f=a);d=k.$call(c,a);d===q?h.$raise(e.get("ArgumentError"),"comparison failed"):0>d&&(c=a)}};h.$each();return[f,c]});a.defn(m,
"$minmax_by",H=function(){H.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(m,"$none?",M=function(){var d,b=M.$$p||q;M.$$p=null;var h=!0;this.$each.$$p=b!==q?function(){var k=a.yieldX(b,arguments);if(k===n)return h=n.$v,n;if((d=k)!==q&&(!d.$$is_boolean||1==d))return h=!1,n}:function(){if((d=e.get("Opal").$destructure(arguments))!==q&&(!d.$$is_boolean||1==d))return h=!1,n};this.$each();return h});a.defn(m,"$one?",I=function(){var d,b=I.$$p||q;I.$$p=null;var h=!1;this.$each.$$p=b!==
q?function(){var k=a.yieldX(b,arguments);if(k===n)return h=n.$v,n;if((d=k)!==q&&(!d.$$is_boolean||1==d)){if(!0===h)return h=!1,n;h=!0}}:function(){if((d=e.get("Opal").$destructure(arguments))!==q&&(!d.$$is_boolean||1==d)){if(!0===h)return h=!1,n;h=!0}};this.$each();return h});a.defn(m,"$partition",J=function(){var d,b,h=J.$$p||q;J.$$p=null;if(h===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"partition");var k=[],f=[];this.$each.$$p=
function(){var b=e.get("Opal").$destructure(arguments),c=a.yield1(h,b);if(c===n)return n;(d=c)===q||d.$$is_boolean&&1!=d?f.push(b):k.push(b)};this.$each();return[k,f]});a.alias(m,"reduce","inject");a.defn(m,"$reject",V=function(){var d,b,h=V.$$p||q;V.$$p=null;if(h===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"reject");var k=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments),f=a.yield1(h,b);if(f===n)return k=
n.$v,n;((d=f)===q||d.$$is_boolean&&0==d)&&k.push(b)};this.$each();return k});a.defn(m,"$reverse_each",S=function(){var d,b,h=S.$$p||q;S.$$p=null;if(h===q)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),d).call(this,"reverse_each");var k=[];this.$each.$$p=function(){k.push(arguments)};this.$each();for(d=k.length-1;0<=d;d--)a.yieldX(h,k[d]);return k});a.alias(m,"select","find_all");a.defn(m,"$slice_before",L=function(d){var b,h,k,f=L.$$p||q;L.$$p=null;
(b=void 0===d&&f===q||1<arguments.length)===q||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");return(b=(h=e.get("Enumerator")).$new,b.$$p=(k=function(b){var h=k.$$s||this,c;null==b&&(b=q);var z=[];h.$each.$$p=f!==q?void 0===d?function(){var d=e.get("Opal").$destructure(arguments);(c=a.yield1(f,d))!==q&&(!c.$$is_boolean||1==c)&&0<z.length&&(b["$<<"](z),z=[]);z.push(d)}:function(){var a=e.get("Opal").$destructure(arguments);(c=f(a,
d.$dup()))!==q&&(!c.$$is_boolean||1==c)&&0<z.length&&(b["$<<"](z),z=[]);z.push(a)}:function(){var a=e.get("Opal").$destructure(arguments);(c=d["$==="](a))!==q&&(!c.$$is_boolean||1==c)&&0<z.length&&(b["$<<"](z),z=[]);z.push(a)};h.$each();if(0<z.length)b["$<<"](z)},k.$$s=this,k),b).call(h)});a.defn(m,"$sort",W=function(){var a,d,b=W.$$p||q,h=q;W.$$p=null;h=this.$to_a();b===q&&(b=(a=this.$lambda,a.$$p=(d=function(a,d){null==a&&(a=q);null==d&&(d=q);return a["$<=>"](d)},d.$$s=this,d),a).call(this));return h.sort(b)});
a.defn(m,"$sort_by",N=function(){var a,d,b,h,k,f,c,z=N.$$p||q,v=q;N.$$p=null;if(z===q)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d),a).call(this,"sort_by");v=(a=this.$map,a.$$p=(b=function(){var a=q,a=e.get("Opal").$destructure(arguments);return[z.$call(a),a]},b.$$s=this,b),a).call(this);(a=(h=v)["$sort!"],a.$$p=(k=function(a,d){null==a&&(a=q);null==d&&(d=q);return a[0]["$<=>"](d[0])},k.$$s=this,k),a).call(h);return(a=(f=v)["$map!"],a.$$p=(c=function(a){null==
a&&(a=q);return a[1]},c.$$s=this,c),a).call(f)});a.defn(m,"$take",function(a){return this.$first(a)});a.defn(m,"$take_while",K=function(){var d,b=K.$$p||q;K.$$p=null;if(!1===b||b===q)return this.$enum_for("take_while");var h=[];this.$each.$$p=function(){var k=e.get("Opal").$destructure(arguments),f=a.yield1(b,k);if(f===n)return h=n.$v,n;if((d=f)===q||d.$$is_boolean&&0==d)return n;h.push(k)};this.$each();return h});a.alias(m,"to_a","entries");a.defn(m,"$zip",U=function(){var d,b=q,h=arguments.length-
0;0>h&&(h=0);for(var k=Array(h),b=0;b<h;b++)k[b]=arguments[b+0];U.$$p=null;return(d=this.$to_a()).$zip.apply(d,a.to_a(k))})}(a.base)};
Opal.modules["corelib/enumerator"]=function(a){function q(a,e){return"number"===typeof a&&"number"===typeof e?a+e:a["$+"](e)}function n(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var l=a.top,g=a.nil,m=a.breaker,e=a.slice,c=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));l.$require("corelib/enumerable");
return function(b,$super){function l(){}var y=l=c(b,$super,"Enumerator",l),u=y.$$proto,p=y.$$scope,t,f,k,B;u.size=u.args=u.object=u.method=g;y.$include(p.get("Enumerable"));u.$$is_enumerator=!0;a.defs(y,"$for",t=function(a,b){var h=t.$$p||g,d=g,k=arguments.length-2;0>k&&(k=0);for(var f=Array(k),d=0;d<k;d++)f[d]=arguments[d+2];null==b&&(b="each");t.$$p=null;d=this.$allocate();d.object=a;d.size=h;d.method=b;d.args=f;return d});a.defn(y,"$initialize",f=function(){var a,b,h=f.$$p||g;f.$$p=null;if(!1!==
h&&h!==g)return this.object=(a=(b=p.get("Generator")).$new,a.$$p=h.$to_proc(),a).call(b),this.method="each",this.args=[],this.size=arguments[0]||g,(a=this.size)===g||a.$$is_boolean&&1!=a?g:this.size=p.get("Opal").$coerce_to(this.size,p.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=e.call(arguments,2);return this.size=g});a.defn(y,"$each",k=function(){var b,f,h,d=k.$$p||g,e=g,c=arguments.length-0;0>c&&(c=0);for(var B=Array(c),e=0;e<c;e++)B[e]=arguments[e+
0];k.$$p=null;if((b=(f=d["$nil?"](),!1!==f&&f!==g?B["$empty?"]():f))!==g&&(!b.$$is_boolean||1==b))return this;B=q(this.args,B);return(b=d["$nil?"]())===g||b.$$is_boolean&&1!=b?(f=(h=this.object).$__send__,f.$$p=d.$to_proc(),f).apply(h,[this.method].concat(a.to_a(B))):(b=this.$class()).$new.apply(b,[this.object,this.method].concat(a.to_a(B)))});a.defn(y,"$size",function(){var b;return(b=p.get("Proc")["$==="](this.size))===g||b.$$is_boolean&&1!=b?this.size:(b=this.size).$call.apply(b,a.to_a(this.args))});
a.defn(y,"$with_index",B=function(a){var b,h,d=B.$$p||g;null==a&&(a=0);B.$$p=null;a=!1!==a&&a!==g?p.get("Opal").$coerce_to(a,p.get("Integer"),"to_int"):0;if(!1===d||d===g)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},h.$$s=this,h),b).call(this,"with_index",a);var k,f=a;this.$each.$$p=function(){var a=p.get("Opal").$destructure(arguments),a=d(a,f);if(a===m)return k=m.$v,m;f++;return a};this.$each();return void 0!==k?k:this.object});a.alias(y,"with_object","each_with_object");
a.defn(y,"$inspect",function(){var a,b=g,b="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===g||a.$$is_boolean&&1!=a)b=q(b,"("+this.args.$inspect()["$[]"](p.get("Range").$new(1,-2))+")");return q(b,">")});(function(b,$super){function h(){}var d=h=c(b,$super,"Generator",h),k=d.$$scope,f,e;d.$$proto.block=g;d.$include(k.get("Enumerable"));a.defn(d,"$initialize",f=function(){var a=f.$$p||g;f.$$p=null;!1!==a&&a!==g||this.$raise(k.get("LocalJumpError"),"no block given");
return this.block=a});return(a.defn(d,"$each",e=function(){var d,b,h=e.$$p||g,f=g,f=g,c=arguments.length-0;0>c&&(c=0);for(var v=Array(c),f=0;f<c;f++)v[f]=arguments[f+0];e.$$p=null;f=(d=(b=k.get("Yielder")).$new,d.$$p=h.$to_proc(),d).call(b);try{if(v.unshift(f),a.yieldX(this.block,v)===m)return m.$v}catch(w){if(w===m)return m.$v;throw w;}return this}),g)&&"each"})(p.base,null);(function(b,$super){function h(){}var d=h=c(b,$super,"Yielder",h),k;d.$$proto.block=g;a.defn(d,"$initialize",k=function(){var a=
k.$$p||g;k.$$p=null;return this.block=a});a.defn(d,"$yield",function(){var d=g,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),d=0;d<b;d++)h[d]=arguments[d+0];d=a.yieldX(this.block,h);if(d===m)throw m;return d});return(a.defn(d,"$<<",function(){var d=g,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),d=0;d<b;d++)h[d]=arguments[d+0];this.$yield.apply(this,a.to_a(h));return this}),g)&&"<<"})(p.base,null);return function(b,$super){function h(){}var d=h=c(b,$super,"Lazy",h),k=d.$$scope,f,B,t,z,O,
Q,p,F,H;d.$$proto.enumerator=g;(function(a,$super){function d(){}d=c(a,$super,"StopLazyError",d);return g})(k.base,k.get("Exception"));a.defn(d,"$initialize",f=function(d,b){var h,c=f.$$p||g;null==b&&(b=g);f.$$p=null;c===g&&this.$raise(k.get("ArgumentError"),"tried to call lazy new without a block");this.enumerator=d;return a.find_super_dispatcher(this,"initialize",f,(h=function(b,f){var z=h.$$s||this,v,w;null==b&&(b=g);f=e.call(arguments,1);try{return(v=d.$each,v.$$p=(w=function(d){d=e.call(arguments,
0);d.unshift(b);if(a.yieldX(c,d)===m)return m},w.$$s=z,w),v).apply(d,a.to_a(f))}catch(Q){if(a.rescue(Q,[k.get("Exception")]))try{return g}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw Q;}},h.$$s=this,h)).apply(this,[b])});a.alias(d,"force","to_a");a.defn(d,"$lazy",function(){return this});a.defn(d,"$collect",B=function(){var d,b,h,f=B.$$p||g;B.$$p=null;!1!==f&&f!==g||this.$raise(k.get("ArgumentError"),"tried to call lazy map without a block");return(d=(b=k.get("Lazy")).$new,d.$$p=(h=function(d,
b){null==d&&(d=g);b=e.call(arguments,1);var h=a.yieldX(f,b);if(h===m)return m;d.$yield(h)},h.$$s=this,h),d).call(b,this,this.$enumerator_size())});a.defn(d,"$collect_concat",t=function(){var d,b,h,f=t.$$p||g;t.$$p=null;!1!==f&&f!==g||this.$raise(k.get("ArgumentError"),"tried to call lazy map without a block");return(d=(b=k.get("Lazy")).$new,d.$$p=(h=function(d,b){var c=h.$$s||this,z,v,w,Q,B;null==d&&(d=g);b=e.call(arguments,1);var O=a.yieldX(f,b);if(O===m)return m;O["$respond_to?"]("force")&&O["$respond_to?"]("each")?
(z=(v=O).$each,z.$$p=(w=function(a){null==a&&(a=g);return d.$yield(a)},w.$$s=c,w),z).call(v):k.get("Opal").$try_convert(O,k.get("Array"),"to_ary")===g?d.$yield(O):(z=(Q=O).$each,z.$$p=(B=function(a){null==a&&(a=g);return d.$yield(a)},B.$$s=c,B),z).call(Q)},h.$$s=this,h),d).call(b,this,g)});a.defn(d,"$drop",function(d){var b,h,f,c=g,z=c=g;d=k.get("Opal").$coerce_to(d,k.get("Integer"),"to_int");(b=n(d,0))===g||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"attempt to drop negative size");
c=this.$enumerator_size();c=(b=k.get("Integer")["$==="](c))===g||b.$$is_boolean&&1!=b?c:(b=n(d,c))===g||b.$$is_boolean&&1!=b?c:d;z=0;return(b=(h=k.get("Lazy")).$new,b.$$p=(f=function(b,h){var k;null==b&&(b=g);h=e.call(arguments,1);return(k=n(z,d))===g||k.$$is_boolean&&1!=k?(k=b).$yield.apply(k,a.to_a(h)):z=q(z,1)},f.$$s=this,f),b).call(h,this,c)});a.defn(d,"$drop_while",z=function(){var d,b,h,f=z.$$p||g,c=g;z.$$p=null;!1!==f&&f!==g||this.$raise(k.get("ArgumentError"),"tried to call lazy drop_while without a block");
c=!0;return(d=(b=k.get("Lazy")).$new,d.$$p=(h=function(d,b){var h,k;null==d&&(d=g);b=e.call(arguments,1);if(!1!==c&&c!==g){k=a.yieldX(f,b);if(k===m)return m;if((h=k)===g||h.$$is_boolean&&0==h)c=!1,(h=d).$yield.apply(h,a.to_a(b))}else return(k=d).$yield.apply(k,a.to_a(b))},h.$$s=this,h),d).call(b,this,g)});a.defn(d,"$enum_for",O=function(d){var b,h,k=O.$$p||g,f=g,e=arguments.length-1;0>e&&(e=0);for(var c=Array(e),f=0;f<e;f++)c[f]=arguments[f+1];null==d&&(d="each");O.$$p=null;return(b=(h=this.$class()).$for,
b.$$p=k.$to_proc(),b).apply(h,[this,d].concat(a.to_a(c)))});a.defn(d,"$find_all",Q=function(){var d,b,h,f=Q.$$p||g;Q.$$p=null;!1!==f&&f!==g||this.$raise(k.get("ArgumentError"),"tried to call lazy select without a block");return(d=(b=k.get("Lazy")).$new,d.$$p=(h=function(d,b){var h;null==d&&(d=g);b=e.call(arguments,1);var k=a.yieldX(f,b);if(k===m)return m;(h=k)===g||h.$$is_boolean&&1!=h||(h=d).$yield.apply(h,a.to_a(b))},h.$$s=this,h),d).call(b,this,g)});a.alias(d,"flat_map","collect_concat");a.defn(d,
"$grep",p=function(d){var b,h,f,c,z,v=p.$$p||g;p.$$p=null;return!1!==v&&v!==g?(b=(h=k.get("Lazy")).$new,b.$$p=(f=function(b,h){var f;null==b&&(b=g);h=e.call(arguments,1);var c=k.get("Opal").$destructure(h),z=d["$==="](c);if((f=z)!==g&&(!f.$$is_boolean||1==f)){z=a.yield1(v,c);if(z===m)return m;b.$yield(a.yield1(v,c))}},f.$$s=this,f),b).call(h,this,g):(b=(c=k.get("Lazy")).$new,b.$$p=(z=function(a,b){var h;null==a&&(a=g);b=e.call(arguments,1);var f=k.get("Opal").$destructure(b);(h=d["$==="](f))===g||
h.$$is_boolean&&1!=h||a.$yield(f)},z.$$s=this,z),b).call(c,this,g)});a.alias(d,"map","collect");a.alias(d,"select","find_all");a.defn(d,"$reject",F=function(){var d,b,h,f=F.$$p||g;F.$$p=null;!1!==f&&f!==g||this.$raise(k.get("ArgumentError"),"tried to call lazy reject without a block");return(d=(b=k.get("Lazy")).$new,d.$$p=(h=function(d,b){var h;null==d&&(d=g);b=e.call(arguments,1);var k=a.yieldX(f,b);if(k===m)return m;((h=k)===g||h.$$is_boolean&&0==h)&&(h=d).$yield.apply(h,a.to_a(b))},h.$$s=this,
h),d).call(b,this,g)});a.defn(d,"$take",function(d){var b,h,f,c=g,z=c=g;d=k.get("Opal").$coerce_to(d,k.get("Integer"),"to_int");(b=n(d,0))===g||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"attempt to take negative size");c=this.$enumerator_size();c=(b=k.get("Integer")["$==="](c))===g||b.$$is_boolean&&1!=b?c:(b=n(d,c))===g||b.$$is_boolean&&1!=b?c:d;z=0;return(b=(h=k.get("Lazy")).$new,b.$$p=(f=function(b,h){var c=f.$$s||this,v;null==b&&(b=g);h=e.call(arguments,1);if((v=n(z,d))===g||v.$$is_boolean&&
1!=v)return c.$raise(k.get("StopLazyError"));(v=b).$yield.apply(v,a.to_a(h));return z=q(z,1)},f.$$s=this,f),b).call(h,this,c)});a.defn(d,"$take_while",H=function(){var d,b,h,f=H.$$p||g;H.$$p=null;!1!==f&&f!==g||this.$raise(k.get("ArgumentError"),"tried to call lazy take_while without a block");return(d=(b=k.get("Lazy")).$new,d.$$p=(h=function(d,b){var c=h.$$s||this,z;null==d&&(d=g);b=e.call(arguments,1);var v=a.yieldX(f,b);if(v===m)return m;(z=v)===g||z.$$is_boolean&&1!=z?c.$raise(k.get("StopLazyError")):
(z=d).$yield.apply(z,a.to_a(b))},h.$$s=this,h),d).call(b,this,g)});a.alias(d,"to_enum","enum_for");return(a.defn(d,"$inspect",function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"}),g)&&"inspect"}(p.base,y)}(a.base,null)};
Opal.modules["corelib/numeric"]=function(a){function q(a,e){return"number"===typeof a&&"number"===typeof e?a-e:a["$-"](e)}function n(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}function l(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}function g(a,e){return"number"===typeof a&&"number"===typeof e?a/e:a["$/"](e)}a.dynamic_require_severity="warning";var m=a.top,e=a.nil,c=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));
m.$require("corelib/comparable");return function(b,$super){function m(){}var y=m=c(b,$super,"Numeric",m),u=y.$$scope;y.$include(u.get("Comparable"));a.defn(y,"$coerce",function(a){var b;return(b=a["$instance_of?"](this.$class()))===e||b.$$is_boolean&&1!=b?[this.$Float(a),this.$Float(this)]:[a,this]});a.defn(y,"$__coerced__",function(b,c){var f,k,g=e,v=e,r=e;try{k=c.$coerce(this),f=a.to_ary(k),g=null==f[0]?e:f[0],v=null==f[1]?e:f[1],k}catch(h){try{r=b,"+"["$==="](r)||"-"["$==="](r)||"*"["$==="](r)||
"/"["$==="](r)||"%"["$==="](r)||"&"["$==="](r)||"|"["$==="](r)||"^"["$==="](r)||"**"["$==="](r)?this.$raise(u.get("TypeError"),""+c.$class()+" can't be coerce into Numeric"):(">"["$==="](r)||">="["$==="](r)||"<"["$==="](r)||"<="["$==="](r)||"<=>"["$==="](r))&&this.$raise(u.get("ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return g.$__send__(b,v)});a.defn(y,"$<=>",function(a){var b;return(b=this["$equal?"](a))===e||b.$$is_boolean&&
1!=b?e:0});a.defn(y,"$[]",function(a){var b=e,f=e;a=u.get("Opal")["$coerce_to!"](a,u.get("Integer"),"to_int");b=2["$**"](30)["$-@"]();f=q(2["$**"](30),1);return a<b||a>f?0:(this>>a)%2});a.defn(y,"$+@",function(){return this});a.defn(y,"$-@",function(){return q(0,this)});a.defn(y,"$%",function(a){return q(this,n(a,this.$div(a)))});a.defn(y,"$abs",function(){return l(this,0)?this["$-@"]():this});a.defn(y,"$abs2",function(){return n(this,this)});a.defn(y,"$angle",function(){return l(this,0)?u.get("Math").$$scope.get("PI"):
0});a.alias(y,"arg","angle");a.defn(y,"$ceil",function(){return this.$to_f().$ceil()});a.defn(y,"$conj",function(){return this});a.alias(y,"conjugate","conj");a.defn(y,"$denominator",function(){return this.$to_r().$denominator()});a.defn(y,"$div",function(a){a["$=="](0)&&this.$raise(u.get("ZeroDivisionError"),"divided by o");return g(this,a).$floor()});a.defn(y,"$divmod",function(a){return[this.$div(a),this["$%"](a)]});a.defn(y,"$fdiv",function(a){return g(this.$to_f(),a)});a.defn(y,"$floor",function(){return this.$to_f().$floor()});
a.defn(y,"$i",function(){return this.$Complex(0,this)});a.defn(y,"$imag",function(){return 0});a.alias(y,"imaginary","imag");a.defn(y,"$integer?",function(){return!1});a.alias(y,"magnitude","abs");a.alias(y,"modulo","%");a.defn(y,"$nonzero?",function(){var a;return(a=this["$zero?"]())===e||a.$$is_boolean&&1!=a?this:e});a.defn(y,"$numerator",function(){return this.$to_r().$numerator()});a.alias(y,"phase","arg");a.defn(y,"$polar",function(){return[this.$abs(),this.$arg()]});a.defn(y,"$quo",function(a){return g(u.get("Opal")["$coerce_to!"](this,
u.get("Rational"),"to_r"),a)});a.defn(y,"$real",function(){return this});a.defn(y,"$real?",function(){return!0});a.defn(y,"$rect",function(){return[this,0]});a.alias(y,"rectangular","rect");a.defn(y,"$round",function(a){return this.$to_f().$round(a)});a.defn(y,"$to_c",function(){return this.$Complex(this,0)});a.defn(y,"$to_int",function(){return this.$to_i()});a.defn(y,"$truncate",function(){return this.$to_f().$truncate()});a.defn(y,"$zero?",function(){return this["$=="](0)});a.defn(y,"$positive?",
function(){return"number"===typeof this?0<this:this["$>"](0)});a.defn(y,"$negative?",function(){return l(this,0)});a.defn(y,"$dup",function(){return this.$raise(u.get("TypeError"),"can't dup "+this.$class())});return(a.defn(y,"$clone",function(){return this.$raise(u.get("TypeError"),"can't clone "+this.$class())}),e)&&"clone"}(a.base,null)};
Opal.modules["corelib/array"]=function(a){function q(a,e){return"number"===typeof a&&"number"===typeof e?a>e:a["$>"](e)}a.dynamic_require_severity="warning";var n=a.top,l=a.nil,g=a.breaker,m=a.klass,e=a.hash2,c=a.gvars;a.add_stubs("$require $include $raise $=== $to_a $respond_to? $to_ary $coerce_to $initialize $to_proc $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $copy_singleton_methods $initialize_clone $initialize_dup $replace $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $!= $times $[]= $<< $kind_of? $last $first $upto".split(" "));
n.$require("corelib/enumerable");n.$require("corelib/numeric");return function(b,$super){function n(){}function y(a,d){return a===d||0===d?1:0<d&&a>d?y(a-1,d-1)+y(a-1,d):0}var u=n=m(b,$super,"Array",n),p=u.$$proto,t=u.$$scope,f,k,B,v,r,h,d,E,w,C,P,z,O,Q,ba,F,H,M,I,J,V,S,L,W,N,K,U,Z,ca;p.length=l;u.$include(t.get("Enumerable"));p.$$is_array=!0;a.defs(u,"$[]",function(){var a=l,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];return b});a.defn(u,"$initialize",f=function(a,
d){var b,h=f.$$p||l;null==a&&(a=l);null==d&&(d=l);f.$$p=null;(b=2<arguments.length)===l||b.$$is_boolean&&1!=b||this.$raise(t.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if((b=1===arguments.length)!==l&&(!b.$$is_boolean||1==b)){if((b=t.get("Array")["$==="](a))!==l&&(!b.$$is_boolean||1==b))return a.$to_a();if((b=a["$respond_to?"]("to_ary"))!==l&&(!b.$$is_boolean||1==b))return a.$to_ary()}a=t.get("Opal").$coerce_to(a,
t.get("Integer"),"to_int");(b=0>a)===l||b.$$is_boolean&&1!=b||this.$raise(t.get("ArgumentError"),"negative array size");this.splice(0,this.length);var k;if(h===l)for(b=0;b<a;b++)this.push(d);else for(b=0,k;b<a;b++){k=h(b);if(k===g)return g.$v;this[b]=k}return this});a.defs(u,"$new",k=function(){var d,b,h=k.$$p||l,f=l,e=arguments.length-0;0>e&&(e=0);for(var c=Array(e),f=0;f<e;f++)c[f]=arguments[f+0];k.$$p=null;return(d=(b=[]).$initialize,d.$$p=h.$to_proc(),d).apply(b,a.to_a(c))});a.defs(u,"$try_convert",
function(a){return t.get("Opal")["$coerce_to?"](a,t.get("Array"),"to_ary")});a.defn(u,"$&",function(d){var b;d=(b=t.get("Array")["$==="](d))===l||b.$$is_boolean&&1!=b?t.get("Opal").$coerce_to(d,t.get("Array"),"to_ary").$to_a():d.$to_a();b=[];var h=e([],{}),k,f;k=0;for(f=d.length;k<f;k++)a.hash_put(h,d[k],!0);k=0;for(f=this.length;k<f;k++)d=this[k],void 0!==a.hash_delete(h,d)&&b.push(d);return b});a.defn(u,"$|",function(d){var b;d=(b=t.get("Array")["$==="](d))===l||b.$$is_boolean&&1!=b?t.get("Opal").$coerce_to(d,
t.get("Array"),"to_ary").$to_a():d.$to_a();b=e([],{});var h,k;h=0;for(k=this.length;h<k;h++)a.hash_put(b,this[h],!0);h=0;for(k=d.length;h<k;h++)a.hash_put(b,d[h],!0);return b.$keys()});a.defn(u,"$*",function(a){var d;if((d=a["$respond_to?"]("to_str"))!==l&&(!d.$$is_boolean||1==d))return this.$join(a.$to_str());((d=a["$respond_to?"]("to_int"))===l||d.$$is_boolean&&1!=d)&&this.$raise(t.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=t.get("Opal").$coerce_to(a,t.get("Integer"),
"to_int");(d=0>a)===l||d.$$is_boolean&&1!=d||this.$raise(t.get("ArgumentError"),"negative argument");d=[];for(var b=0;b<a;b++)d=d.concat(this);return d});a.defn(u,"$+",function(a){var d;a=(d=t.get("Array")["$==="](a))===l||d.$$is_boolean&&1!=d?t.get("Opal").$coerce_to(a,t.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)});a.defn(u,"$-",function(d){var b;d=(b=t.get("Array")["$==="](d))===l||b.$$is_boolean&&1!=b?t.get("Opal").$coerce_to(d,t.get("Array"),"to_ary").$to_a():d.$to_a();if((b=
0===this.length)!==l&&(!b.$$is_boolean||1==b))return[];if((b=0===d.length)!==l&&(!b.$$is_boolean||1==b))return this.$clone();b=[];var h=e([],{}),k,f;k=0;for(f=d.length;k<f;k++)a.hash_put(h,d[k],!0);k=0;for(f=this.length;k<f;k++)d=this[k],void 0===a.hash_get(h,d)&&b.push(d);return b});a.defn(u,"$<<",function(a){this.push(a);return this});a.defn(u,"$<=>",function(a){var d;if((d=t.get("Array")["$==="](a))===l||d.$$is_boolean&&1!=d){if((d=a["$respond_to?"]("to_ary"))===l||d.$$is_boolean&&1!=d)return l;
a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;d=Math.min(this.length,a.length);for(var b=0;b<d;b++){var h=this[b]["$<=>"](a[b]);if(0!==h)return h}return this.length["$<=>"](a.length)});a.defn(u,"$==",function(a){function d(a,h){var k,f,e,c;if(a===h)return!0;if(!h.$$is_array)return t.get("Opal")["$respond_to?"](h,"to_ary")?h["$=="](a):!1;a.constructor!==Array&&(a=a.literal);h.constructor!==Array&&(h=h.literal);if(a.length!==h.length)return!1;b[a.$object_id()]=!0;k=0;for(f=
a.length;k<f;k++)if(e=a[k],c=h[k],e.$$is_array){if(c.$$is_array&&c.length!==e.length||!b.hasOwnProperty(e.$object_id())&&!d(e,c))return!1}else if(!e["$=="](c))return!1;return!0}var b={};return d(this,a)});a.defn(u,"$[]",function(a,d){var b=this.length,h,k,f;if(a.$$is_range){h=a.exclude;k=t.get("Opal").$coerce_to(a.begin,t.get("Integer"),"to_int");f=t.get("Opal").$coerce_to(a.end,t.get("Integer"),"to_int");if(0>k&&(k+=b,0>k)||k>b)return l;if(0>f&&(f+=b,0>f))return[];h||(f+=1);return this.slice(k,f)}a=
t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");if(0>a&&(a+=b,0>a))return l;if(void 0===d)return a>=b||0>a?l:this[a];d=t.get("Opal").$coerce_to(d,t.get("Integer"),"to_int");return 0>d||a>b||0>a?l:this.slice(a,a+d)});a.defn(u,"$[]=",function(a,d,b){var h,k=l,f=l,e;e=this.length;if((h=t.get("Range")["$==="](a))===l||h.$$is_boolean&&1!=h){(h=void 0===b)===l||h.$$is_boolean&&1!=h?(f=d,d=b,k=(h=t.get("Array")["$==="](d))===l||h.$$is_boolean&&1!=h?(h=d["$respond_to?"]("to_ary"))===l||h.$$is_boolean&&
1!=h?[d]:d.$to_ary().$to_a():d.$to_a()):f=1;a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");f=t.get("Opal").$coerce_to(f,t.get("Integer"),"to_int");0>a&&(h=a,a+=e,0>a&&this.$raise(t.get("IndexError"),"index "+h+" too small for array; minimum "+-this.length));0>f&&this.$raise(t.get("IndexError"),"negative length ("+f+")");if(a>e)for(;e<a;e++)this[e]=l;void 0===b?this[a]=d:this.splice.apply(this,[a,f].concat(k))}else{k=(h=t.get("Array")["$==="](d))===l||h.$$is_boolean&&1!=h?(h=d["$respond_to?"]("to_ary"))===
l||h.$$is_boolean&&1!=h?[d]:d.$to_ary().$to_a():d.$to_a();h=a.exclude;b=t.get("Opal").$coerce_to(a.begin,t.get("Integer"),"to_int");f=t.get("Opal").$coerce_to(a.end,t.get("Integer"),"to_int");0>b&&(b+=e,0>b&&this.$raise(t.get("RangeError"),""+a.$inspect()+" out of range"));0>f&&(f+=e);h||(f+=1);if(b>e)for(;e<b;e++)this[e]=l;0>f?this.splice.apply(this,[b,0].concat(k)):this.splice.apply(this,[b,f-b].concat(k))}return d});a.defn(u,"$assoc",function(a){for(var d=0,b=this.length,h;d<b;d++)if(h=this[d],
h.length&&h[0]["$=="](a))return h;return l});a.defn(u,"$at",function(a){a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?l:this[a]});a.defn(u,"$bsearch",B=function(){var a=B.$$p||l;B.$$p=null;if(a===l)return this.$enum_for("bsearch");for(var d=0,b=this.length,h,k,f,e=!1,c=l;d<b;){h=d+Math.floor((b-d)/2);k=this[h];f=a(k);if(f===g)return g.$v;if(!0===f)c=k,e=!0;else if(!1===f||f===l)e=!1;else if(f.$$is_number){if(0===f)return k;e=0>f}else this.$raise(t.get("TypeError"),
"wrong argument type "+f.$class()+" (must be numeric, true, false or nil)");e?b=h:d=h+1}return c});a.defn(u,"$cycle",v=function(d){var b,h,k,f=v.$$p||l;null==d&&(d=l);v.$$p=null;if(f===l)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this,b;if(d["$=="](l))return t.get("Float").$$scope.get("INFINITY");d=t.get("Opal")["$coerce_to!"](d,t.get("Integer"),"to_int");if((b=q(d,0))===l||b.$$is_boolean&&1!=b)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)},
h.$$s=this,h),b).call(this,"cycle",d);if((b=!1!==(k=this["$empty?"]())&&k!==l?k:d["$=="](0))!==l&&(!b.$$is_boolean||1==b))return l;var e;if(d===l)for(;;)for(b=0,k=this.length;b<k;b++){if(e=a.yield1(f,this[b]),e===g)return g.$v}else{d=t.get("Opal")["$coerce_to!"](d,t.get("Integer"),"to_int");if(0>=d)return this;for(;0<d;){b=0;for(k=this.length;b<k;b++)if(e=a.yield1(f,this[b]),e===g)return g.$v;d--}}return this});a.defn(u,"$clear",function(){this.splice(0,this.length);return this});a.defn(u,"$clone",
function(){var a=l,a=[];a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(u,"$dup",function(){var a=l,a=[];a.$initialize_dup(this);return a});a.defn(u,"$initialize_copy",function(a){return this.$replace(a)});a.defn(u,"$collect",r=function(){var d,b,h=r.$$p||l;r.$$p=null;if(h===l)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"collect");d=[];for(var k=0,f=this.length;k<f;k++){var e=a.yield1(h,this[k]);if(e===g)return g.$v;
d.push(e)}return d});a.defn(u,"$collect!",h=function(){var d,b,k=h.$$p||l;h.$$p=null;if(k===l)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"collect!");d=0;for(var f=this.length;d<f;d++){var e=a.yield1(k,this[d]);if(e===g)return g.$v;this[d]=e}return this});a.defn(u,"$combination",d=function(b){var h,k,f=d.$$p||l,e=l;d.$$p=null;e=t.get("Opal")["$coerce_to!"](b,t.get("Integer"),"to_int");if(f===l)return(h=this.$enum_for,h.$$p=(k=function(){return y((k.$$s||
this).length,e)},k.$$s=this,k),h).call(this,"combination",e);var c,z,v;if(0===e)(h=a.yield1(f,[]))===g?g.$v:h;else if(1===e)for(c=0,b=this.length;c<b;c++)(h=a.yield1(f,[this[c]]))===g?g.$v:h;else if(e===this.length)(h=a.yield1(f,this.slice()))===g?g.$v:h;else if(0<=e&&e<this.length){b=[];for(c=0;c<=e+1;c++)b.push(0);c=[];z=0;v=!1;for(b[0]=-1;!v;){for(c[z]=this[b[z+1]];z<e-1;)z++,v=b[z+1]=b[z]+1,c[z]=this[v];(h=a.yield1(f,c.slice()))===g?g.$v:h;z++;do v=0===z,b[z]++,z--;while(b[z+1]+e===this.length+
z+1)}}return this});a.defn(u,"$compact",function(){for(var a=[],d=0,b=this.length,h;d<b;d++)(h=this[d])!==l&&a.push(h);return a});a.defn(u,"$compact!",function(){for(var a=this.length,d=0,b=this.length;d<b;d++)this[d]===l&&(this.splice(d,1),b--,d--);return this.length===a?l:this});a.defn(u,"$concat",function(a){var d;a=(d=t.get("Array")["$==="](a))===l||d.$$is_boolean&&1!=d?t.get("Opal").$coerce_to(a,t.get("Array"),"to_ary").$to_a():a.$to_a();d=0;for(var b=a.length;d<b;d++)this.push(a[d]);return this});
a.defn(u,"$delete",E=function(d){var b,h=E.$$p||l;E.$$p=null;for(var k=this.length,f=0,e=k;f<e;f++)this[f]["$=="](d)&&(this.splice(f,1),e--,f--);return this.length===k?h!==l?(b=a.yieldX(h,[]))===g?g.$v:b:l:d});a.defn(u,"$delete_at",function(a){a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return l;var d=this[a];this.splice(a,1);return d});a.defn(u,"$delete_if",w=function(){var a,d,b=w.$$p||l;w.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(d=
function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"delete_if");a=0;for(var h=this.length,k;a<h;a++){if((k=b(this[a]))===g)return g.$v;!1!==k&&k!==l&&(this.splice(a,1),h--,a--)}return this});a.defn(u,"$drop",function(a){0>a&&this.$raise(t.get("ArgumentError"));return this.slice(a)});a.defn(u,"$each",C=function(){var d,b,h=C.$$p||l;C.$$p=null;if(h===l)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"each");d=0;for(var k=this.length;d<
k;d++)if(a.yield1(h,this[d])==g)return g.$v;return this});a.defn(u,"$each_index",P=function(){var d,b,h=P.$$p||l;P.$$p=null;if(h===l)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"each_index");d=0;for(var k=this.length;d<k;d++)if(a.yield1(h,d)===g)return g.$v;return this});a.defn(u,"$empty?",function(){return 0===this.length});a.defn(u,"$eql?",function(a){function d(a,h){var k,f,e,c;if(!h.$$is_array)return!1;h=h.$to_a();if(a.length!==h.length)return!1;
b[a.$object_id()]=!0;k=0;for(f=a.length;k<f;k++)if(e=a[k],c=h[k],e.$$is_array){if(c.$$is_array&&c.length!==e.length||!b.hasOwnProperty(e.$object_id())&&!d(e,c))return!1}else if(!e["$eql?"](c))return!1;return!0}var b={};return d(this,a)});a.defn(u,"$fetch",z=function(a,d){var b=z.$$p||l;z.$$p=null;var h=a;a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(b!==l)return b(h);if(null!=d)return d;0===this.length?this.$raise(t.get("IndexError"),
"index "+h+" outside of array bounds: 0...0"):this.$raise(t.get("IndexError"),"index "+h+" outside of array bounds: -"+this.length+"..."+this.length)});a.defn(u,"$fill",O=function(){var d,b,h=O.$$p||l,k=l,f=l,e=l;b=f=b=l;k=arguments.length-0;0>k&&(k=0);f=Array(k);for(b=0;b<k;b++)f[b]=arguments[b+0];O.$$p=null;!1!==h&&h!==l?((d=2<f.length)===l||d.$$is_boolean&&1!=d||this.$raise(t.get("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 0..2)"),b=f,d=a.to_ary(b),k=null==d[0]?l:d[0],f=null==
d[1]?l:d[1]):((d=0==f.length)===l||d.$$is_boolean&&1!=d?(d=3<f.length)===l||d.$$is_boolean&&1!=d||this.$raise(t.get("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 1..3)"):this.$raise(t.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),b=f,d=a.to_ary(b),e=null==d[0]?l:d[0],k=null==d[1]?l:d[1],f=null==d[2]?l:d[2]);b;if((d=t.get("Range")["$==="](k))===l||d.$$is_boolean&&1!=d)if(!1!==k&&k!==l)if(b=t.get("Opal").$coerce_to(k,t.get("Integer"),"to_int"),(d=0>b)===l||d.$$is_boolean&&
1!=d||(b+=this.length),(d=0>b)===l||d.$$is_boolean&&1!=d||(b=0),!1!==f&&f!==l){f=t.get("Opal").$coerce_to(f,t.get("Integer"),"to_int");if((d=0==f)!==l&&(!d.$$is_boolean||1==d))return this;f+=b}else f=this.length;else b=0,f=this.length;else{!1!==f&&f!==l&&this.$raise(t.get("TypeError"),"length invalid with range");b=t.get("Opal").$coerce_to(k.$begin(),t.get("Integer"),"to_int");(d=0>b)===l||d.$$is_boolean&&1!=d||(b+=this.length);(d=0>b)===l||d.$$is_boolean&&1!=d||this.$raise(t.get("RangeError"),""+
k.$inspect()+" out of range");f=t.get("Opal").$coerce_to(k.$end(),t.get("Integer"),"to_int");(d=0>f)===l||d.$$is_boolean&&1!=d||(f+=this.length);if((d=k["$exclude_end?"]())===l||d.$$is_boolean&&1!=d)f+=1;if((d=f<=b)!==l&&(!d.$$is_boolean||1==d))return this}if((d=b>this.length)!==l&&(!d.$$is_boolean||1==d))for(k=this.length;k<f;k++)this[k]=l;(d=f>this.length)===l||d.$$is_boolean&&1!=d||(this.length=f);if(!1!==h&&h!==l)for(;b<f;b++){d=h(b);if(d===g)return g.$v;this[b]=d}else for(;b<f;b++)this[b]=e;
return this});a.defn(u,"$first",function(a){if(null==a)return 0===this.length?l:this[0];a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");0>a&&this.$raise(t.get("ArgumentError"),"negative array size");return this.slice(0,a)});a.defn(u,"$flatten",function(a){function d(a,h){var k=[],f,e,c,z;a=a.$to_a();f=0;for(e=a.length;f<e;f++)if(c=a[f],t.get("Opal")["$respond_to?"](c,"to_ary"))if(z=c.$to_ary(),z===l)k.push(c);else switch(z.$$is_array||b.$raise(t.get("TypeError")),z===b&&b.$raise(t.get("ArgumentError")),
h){case void 0:k.push.apply(k,d(z));break;case 0:k.push(z);break;default:k.push.apply(k,d(z,h-1))}else k.push(c);return k}var b=this;void 0!==a&&(a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int"));return d(b,a)});a.defn(u,"$flatten!",function(a){a=this.$flatten(a);if(this.length==a.length){for(var d=0,b=this.length;d<b&&this[d]===a[d];d++);if(d==b)return l}this.$replace(a);return this});a.defn(u,"$hash",function(){var d=void 0==a.hash_ids,b=["A"],h=this.$object_id(),k,f,e;try{d&&(a.hash_ids=
{});if(a.hash_ids.hasOwnProperty(h))return"self";for(e in a.hash_ids)if(a.hash_ids.hasOwnProperty(e)&&(k=a.hash_ids[e],this["$eql?"](k)))return"self";a.hash_ids[h]=this;for(f=0;f<this.length;f++)k=this[f],b.push(k.$hash());return b.join(",")}finally{d&&delete a.hash_ids}});a.defn(u,"$include?",function(a){for(var d=0,b=this.length;d<b;d++)if(this[d]["$=="](a))return!0;return!1});a.defn(u,"$index",Q=function(a){var d=Q.$$p||l;Q.$$p=null;var b,h;if(null!=a)for(b=0,h=this.length;b<h;b++){if(this[b]["$=="](a))return b}else if(d!==
l)for(b=0,h=this.length;b<h;b++){if((a=d(this[b]))===g)return g.$v;if(!1!==a&&a!==l)return b}else return this.$enum_for("index");return l});a.defn(u,"$insert",function(a){var d=l,b=arguments.length-1;0>b&&(b=0);for(var h=Array(b),d=0;d<b;d++)h[d]=arguments[d+1];a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");if(0<h.length){0>a&&(a+=this.length+1,0>a&&this.$raise(t.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(d=this.length;d<a;d++)this.push(l);this.splice.apply(this,[a,
0].concat(h))}return this});a.defn(u,"$inspect",function(){for(var a=[],d=this.$__id__(),b=0,h=this.length;b<h;b++){var k=this["$[]"](b);k.$__id__()===d?a.push("[...]"):a.push(k.$inspect())}return"["+a.join(", ")+"]"});a.defn(u,"$join",function(a){var d;null==c[","]&&(c[","]=l);null==a&&(a=l);if((d=0===this.length)!==l&&(!d.$$is_boolean||1==d))return"";(d=a===l)===l||d.$$is_boolean&&1!=d||(a=c[","]);d=[];var b,h,k,f;b=0;for(h=this.length;b<h;b++){k=this[b];if(t.get("Opal")["$respond_to?"](k,"to_str")&&
(f=k.$to_str(),f!==l)){d.push(f.$to_s());continue}if(t.get("Opal")["$respond_to?"](k,"to_ary")&&(f=k.$to_ary(),f===this&&this.$raise(t.get("ArgumentError")),f!==l)){d.push(f.$join(a));continue}if(t.get("Opal")["$respond_to?"](k,"to_s")&&(f=k.$to_s(),f!==l)){d.push(f);continue}this.$raise(t.get("NoMethodError").$new(""+t.get("Opal").$inspect(k)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===l?d.join(""):d.join(t.get("Opal")["$coerce_to!"](a,t.get("String"),"to_str").$to_s())});
a.defn(u,"$keep_if",ba=function(){var a,d,b=ba.$$p||l;ba.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"keep_if");a=0;for(var h=this.length,k;a<h;a++){if((k=b(this[a]))===g)return g.$v;if(!1===k||k===l)this.splice(a,1),h--,a--}return this});a.defn(u,"$last",function(a){if(null==a)return 0===this.length?l:this[this.length-1];a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");0>a&&this.$raise(t.get("ArgumentError"),"negative array size");
a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)});a.defn(u,"$length",function(){return this.length});a.alias(u,"map","collect");a.alias(u,"map!","collect!");a.defn(u,"$permutation",F=function(d){var b,h,k,f=this,e=F.$$p||l,c=l,z=l;F.$$p=null;if(e===l)return(b=(h=f).$enum_for,b.$$p=(k=function(){return(k.$$s||this).$size()},k.$$s=f,k),b).call(h,"permutation",d);var v,r;d=void 0===d?f.length:t.get("Opal").$coerce_to(d,t.get("Integer"),"to_int");if(!(0>d||f.length<d))if(0===
d)(b=a.yield1(e,[]))===g?g.$v:b;else if(1===d)for(d=0;d<f.length;d++)(b=a.yield1(e,[f[d]]))===g?g.$v:b;else c=t.get("Array").$new(d),z=t.get("Array").$new(f.length,!1),v=function(d,b,h,k,e){f=this;for(var c=0;c<f.length;c++)if(k["$[]"](c)["$!"]())if(b[h]=c,h<d-1)k[c]=!0,v.call(f,d,b,h+1,k,e),k[c]=!1;else{r=[];for(var z=0;z<b.length;z++)r.push(f[b[z]]);a.yield1(e,r)}},e!==l?(b=f.slice(),v.call(b,d,c,0,z,e)):v.call(f,d,c,0,z,e);return f});a.defn(u,"$pop",function(a){var d;if((d=void 0===a)!==l&&(!d.$$is_boolean||
1==d))return(d=0===this.length)===l||d.$$is_boolean&&1!=d?this.pop():l;a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");(d=0>a)===l||d.$$is_boolean&&1!=d||this.$raise(t.get("ArgumentError"),"negative array size");return(d=0===this.length)===l||d.$$is_boolean&&1!=d?(d=a>this.length)===l||d.$$is_boolean&&1!=d?this.splice(this.length-a,this.length):this.splice(0,this.length):[]});a.defn(u,"$product",H=function(){var d,b=H.$$p||l,h=l,k=arguments.length-0;0>k&&(k=0);for(var f=Array(k),h=0;h<k;h++)f[h]=
arguments[h+0];H.$$p=null;var h=b!==l?null:[],k=f.length+1,e=Array(k),c=Array(k),z=Array(k),v,r=1;z[0]=this;for(v=1;v<k;v++)z[v]=t.get("Opal").$coerce_to(f[v-1],t.get("Array"),"to_ary");for(v=0;v<k;v++){f=z[v].length;if(0===f)return h||this;r*=f;2147483647<r&&this.$raise(t.get("RangeError"),"too big to product");c[v]=f;e[v]=0}a:for(;;){f=[];for(v=0;v<k;v++)f.push(z[v][e[v]]);h?h.push(f):(d=a.yield1(b,f))===g?g.$v:d;f=k-1;for(e[f]++;e[f]===c[f];){e[f]=0;if(0>--f)break a;e[f]++}}return h||this});a.defn(u,
"$push",function(){var a=l,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];a=0;for(d=b.length;a<d;a++)this.push(b[a]);return this});a.defn(u,"$rassoc",function(a){for(var d=0,b=this.length,h;d<b;d++)if(h=this[d],h.length&&void 0!==h[1]&&h[1]["$=="](a))return h;return l});a.defn(u,"$reject",M=function(){var a,d,b=M.$$p||l;M.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"reject");a=[];for(var h=
0,k=this.length,f;h<k;h++){if((f=b(this[h]))===g)return g.$v;!1!==f&&f!==l||a.push(this[h])}return a});a.defn(u,"$reject!",I=function(){var a,d,b=I.$$p||l,h=l;I.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"reject!");h=this.$length();(a=this.$delete_if,a.$$p=b.$to_proc(),a).call(this);return this.$length()["$=="](h)?l:this});a.defn(u,"$replace",function(a){var d;a=(d=t.get("Array")["$==="](a))===l||d.$$is_boolean&&1!=d?t.get("Opal").$coerce_to(a,
t.get("Array"),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this});a.defn(u,"$reverse",function(){return this.slice(0).reverse()});a.defn(u,"$reverse!",function(){return this.reverse()});a.defn(u,"$reverse_each",J=function(){var a,d,b,h=J.$$p||l;J.$$p=null;if(h===l)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"reverse_each");(a=(b=this.$reverse()).$each,a.$$p=h.$to_proc(),a).call(b);return this});a.defn(u,
"$rindex",V=function(a){var d=V.$$p||l;V.$$p=null;var b;if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(d!==l)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if((a=d(this[b]))===g)return g.$v;if(!1!==a&&a!==l)return b}else if(null==a)return this.$enum_for("rindex");return l});a.defn(u,"$rotate",function(a){null==a&&(a=1);a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");var d,b;if(1===this.length)return this.slice();if(0===this.length)return[];
d=this.slice();b=a%d.length;a=d.slice(b);d=d.slice(0,b);return a.concat(d)});a.defn(u,"$rotate!",function(a){var d=l;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");d=this.$rotate(a);return this.$replace(d)});(function(d,$super){function b(){}var h=b=m(d,$super,"SampleRandom",b),k=h.$$scope;h.$$proto.rng=l;a.defn(h,"$initialize",function(a){return this.rng=a});return(a.defn(h,"$rand",function(a){var d,b=l,b=k.get("Opal").$coerce_to(this.rng.$rand(a),
k.get("Integer"),"to_int");(d=0>b)===l||d.$$is_boolean&&1!=d||this.$raise(k.get("RangeError"),"random value must be >= 0");((d=b<a)===l||d.$$is_boolean&&1!=d)&&this.$raise(k.get("RangeError"),"random value must be less than Array size");return b}),l)&&"rand"})(t.base,null);a.defn(u,"$sample",function(a,d){var b,h=l,k=l;if((b=void 0===a)!==l&&(!b.$$is_boolean||1==b))return this.$at(t.get("Kernel").$rand(this.length));(b=void 0===d)===l||b.$$is_boolean&&1!=b?(a=t.get("Opal").$coerce_to(a,t.get("Integer"),
"to_int"),d=t.get("Opal").$coerce_to(d,t.get("Hash"),"to_hash")):(b=h=t.get("Opal")["$coerce_to?"](a,t.get("Hash"),"to_hash"))===l||b.$$is_boolean&&1!=b?(d=l,a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int")):(d=h,a=l);(b=!1!==a&&a!==l?0>a:a)===l||b.$$is_boolean&&1!=b||this.$raise(t.get("ArgumentError"),"count must be greater than 0");!1!==d&&d!==l&&(k=d["$[]"]("random"));k=(b=!1!==k&&k!==l?k["$respond_to?"]("rand"):k)===l||b.$$is_boolean&&1!=b?t.get("Kernel"):t.get("SampleRandom").$new(k);
if(!1===a||a===l)return this[k.$rand(this.length)];var f,e,c,z;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[k.$rand(this.length)]];case 2:return e=k.$rand(this.length),c=k.$rand(this.length),e===c&&(c=0===e?e+1:e-1),[this[e],this[c]];default:if(3<this.length/a){h=!1;f=0;b=t.get("Array").$new(a);e=1;for(b[0]=k.$rand(this.length);e<a;){z=k.$rand(this.length);for(c=0;c<e;){for(;z===b[c];){f++;if(100<f){h=!0;break}z=k.$rand(this.length)}if(h)break;c++}if(h)break;b[e]=z;
e++}if(!h){for(e=0;e<a;)b[e]=this[b[e]],e++;return b}}b=this.slice();for(e=0;e<a;e++)h=k.$rand(this.length),f=b[e],b[e]=b[h],b[h]=f;return a===this.length?b:b["$[]"](0,a)}});a.defn(u,"$select",S=function(){var d,b,h=S.$$p||l;S.$$p=null;if(h===l)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"select");d=[];for(var k=0,f=this.length,e,c;k<f;k++){e=this[k];if((c=a.yield1(h,e))===g)return g.$v;!1!==c&&c!==l&&d.push(e)}return d});a.defn(u,"$select!",
L=function(){var a,d,b=L.$$p||l;L.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"select!");var h=this.length;(a=this.$keep_if,a.$$p=b.$to_proc(),a).call(this);return this.length===h?l:this});a.defn(u,"$shift",function(a){var d;if((d=void 0===a)!==l&&(!d.$$is_boolean||1==d))return(d=0===this.length)===l||d.$$is_boolean&&1!=d?this.shift():l;a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");(d=0>a)===l||d.$$is_boolean&&1!=
d||this.$raise(t.get("ArgumentError"),"negative array size");return(d=0===this.length)===l||d.$$is_boolean&&1!=d?this.splice(0,a):[]});a.alias(u,"size","length");a.defn(u,"$shuffle",function(a){return this.$dup()["$shuffle!"](a)});a.defn(u,"$shuffle!",function(a){var d,b=this.length,h;void 0!==a&&(a=t.get("Opal")["$coerce_to?"](a,t.get("Hash"),"to_hash"),a!==l&&(a=a["$[]"]("random"),a!==l&&a["$respond_to?"]("rand")&&(d=a)));for(;b;)d?(a=d.$rand(b).$to_int(),0>a&&this.$raise(t.get("RangeError"),"random number too small "+
a),a>=b&&this.$raise(t.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*b),h=this[--b],this[b]=this[a],this[a]=h;return this});a.alias(u,"slice","[]");a.defn(u,"$slice!",function(a,d){0>a&&(a+=this.length);return null!=d?this.splice(a,d):0>a||a>=this.length?l:this.splice(a,1)[0]});a.defn(u,"$sort",W=function(){var a,d=this,b=W.$$p||l;W.$$p=null;if((a=1<d.length)===l||a.$$is_boolean&&1!=a)return d;b===l&&(b=function(a,d){return a["$<=>"](d)});try{return d.slice().sort(function(a,
h){var k=b(a,h);if(k===g)throw g;k===l&&d.$raise(t.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+h.$inspect()+" failed");return q(k,0)?1:("number"===typeof k?0>k:k["$<"](0))?-1:0})}catch(h){if(h===g)return g.$v;throw h;}});a.defn(u,"$sort!",N=function(){var a,d,b=N.$$p||l;N.$$p=null;b=b!==l?(a=(d=this.slice()).$sort,a.$$p=b.$to_proc(),a).call(d):this.slice().$sort();a=this.length=0;for(d=b.length;a<d;a++)this.push(b[a]);return this});a.defn(u,"$take",function(a){0>a&&this.$raise(t.get("ArgumentError"));
return this.slice(0,a)});a.defn(u,"$take_while",K=function(){var a=K.$$p||l;K.$$p=null;for(var d=[],b=0,h=this.length,k,f;b<h;b++){k=this[b];if((f=a(k))===g)return g.$v;if(!1===f||f===l)break;d.push(k)}return d});a.defn(u,"$to_a",function(){return this});a.alias(u,"to_ary","to_a");a.defn(u,"$to_h",function(){var d,b=this.length,h,k,f=e([],{});for(d=0;d<b;d++)h=t.get("Opal")["$coerce_to?"](this[d],t.get("Array"),"to_ary"),h.$$is_array||this.$raise(t.get("TypeError"),"wrong element type "+h.$class()+
" at "+d+" (expected array)"),2!==h.length&&this.$raise(t.get("ArgumentError"),"wrong array length at "+d+" (expected 2, was "+h.$length()+")"),k=h[0],h=h[1],a.hash_put(f,k,h);return f});a.alias(u,"to_s","inspect");a.defn(u,"$transpose",function(){var a,d,b=l,h=l;if((a=this["$empty?"]())!==l&&(!a.$$is_boolean||1==a))return[];b=[];h=l;(a=this.$each,a.$$p=(d=function(a){var k=d.$$s||this,f,e,c;null==a&&(a=l);a=(f=t.get("Array")["$==="](a))===l||f.$$is_boolean&&1!=f?t.get("Opal").$coerce_to(a,t.get("Array"),
"to_ary").$to_a():a.$to_a();!1!==(f=h)&&f!==l?f:h=a.length;(f=a.length["$!="](h))===l||f.$$is_boolean&&1!=f||k.$raise(t.get("IndexError"),"element size differs ("+a.length+" should be "+h);return(f=(e=a.length).$times,f.$$p=(c=function(d){var h,k,f,e=l;null==d&&(d=l);e=(h=d,k=b,!1!==(f=k["$[]"](h))&&f!==l?f:k["$[]="](h,[]));return e["$<<"](a.$at(d))},c.$$s=k,c),f).call(e)},d.$$s=this,d),a).call(this);return b});a.defn(u,"$uniq",U=function(){var d=U.$$p||l;U.$$p=null;var b=e([],{}),h,k,f,c;if(d===
l)for(h=0,k=this.length;h<k;h++)f=this[h],void 0===a.hash_get(b,f)&&a.hash_put(b,f,f);else for(h=0,k=this.length;h<k;h++)f=this[h],c=a.yield1(d,f),void 0===a.hash_get(b,c)&&a.hash_put(b,c,f);return b.$values()});a.defn(u,"$uniq!",Z=function(){var d=Z.$$p||l;Z.$$p=null;var b=this.length,h=e([],{}),k,f,c,z;k=0;for(f=b;k<f;k++)c=this[k],z=d===l?c:a.yield1(d,c),void 0===a.hash_get(h,z)?a.hash_put(h,z,c):(this.splice(k,1),f--,k--);return this.length===b?l:this});a.defn(u,"$unshift",function(){var a=l,
d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];for(a=b.length-1;0<=a;a--)this.unshift(b[a]);return this});a.defn(u,"$values_at",function(){var a,d,b=l,h=l,k=arguments.length-0;0>k&&(k=0);for(var f=Array(k),h=0;h<k;h++)f[h]=arguments[h+0];b=[];(a=f.$each,a.$$p=(d=function(a){var h=d.$$s||this,k,f,e,c=l,z=l,c=l;null==a&&(a=l);if((k=a["$kind_of?"](t.get("Range")))===l||k.$$is_boolean&&1!=k)return c=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int"),b["$<<"](h.$at(c));
c=t.get("Opal").$coerce_to(a.$last(),t.get("Integer"),"to_int");z=t.get("Opal").$coerce_to(a.$first(),t.get("Integer"),"to_int");if(0>z)return z+=h.length,l;0>c&&(c+=h.length);a["$exclude_end?"]()&&c--;return c<z?l:(k=(f=z).$upto,k.$$p=(e=function(a){var d=e.$$s||this;null==a&&(a=l);return b["$<<"](d.$at(a))},e.$$s=h,e),k).call(f,c)},d.$$s=this,d),a).call(f);return b});return(a.defn(u,"$zip",ca=function(){var a,d=ca.$$p||l,b=l,h=arguments.length-0;0>h&&(h=0);for(var k=Array(h),b=0;b<h;b++)k[b]=arguments[b+
0];ca.$$p=null;var b=[],h=this.length,f,e,c,z;c=0;for(z=k.length;c<z;c++)f=k[c],f.$$is_array||(f.$$is_enumerator?Infinity===f.$size()?k[c]=f.$take(h):k[c]=f.$to_a():k[c]=(!1!==(a=t.get("Opal")["$coerce_to?"](f,t.get("Array"),"to_ary"))&&a!==l?a:t.get("Opal")["$coerce_to!"](f,t.get("Enumerator"),"each")).$to_a());for(e=0;e<h;e++){a=[this[e]];c=0;for(z=k.length;c<z;c++)f=k[c][e],null==f&&(f=l),a[c+1]=f;b[e]=a}if(d!==l){for(e=0;e<h;e++)d(b[e]);return l}return b}),l)&&"zip"}(a.base,Array)};
Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var q=a.top,n=a.nil,l=a.breaker,g=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));q.$require("corelib/enumerable");return function(m,$super){function c(){}var b=c=g(m,$super,"Hash",c),q=b.$$proto,x=b.$$scope,y,u,p,
t,f,k,B,v,r,h,d,E,w,C;q.proc=q.none=n;b.$include(x.get("Enumerable"));q.$$is_hash=!0;a.defs(b,"$[]",function(){var a=n,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),a=0;a<d;a++)b[a]=arguments[a+0];var d=b.length,h;if(1===d){a=x.get("Opal")["$coerce_to?"](b["$[]"](0),x.get("Hash"),"to_hash");if(a!==n)return this.$allocate()["$merge!"](a);b=x.get("Opal")["$coerce_to?"](b["$[]"](0),x.get("Array"),"to_ary");b===n&&this.$raise(x.get("ArgumentError"),"odd number of arguments for Hash");d=b.length;
a=this.$allocate();for(h=0;h<d;h++)if(b[h].$$is_array)switch(b[h].length){case 1:a.$store(b[h][0],n);break;case 2:a.$store(b[h][0],b[h][1]);break;default:this.$raise(x.get("ArgumentError"),"invalid number of elements ("+b[h].length+" for 1..2)")}return a}0!==d%2&&this.$raise(x.get("ArgumentError"),"odd number of arguments for Hash");a=this.$allocate();for(h=0;h<d;h+=2)a.$store(b[h],b[h+1]);return a});a.defs(b,"$allocate",function(){var d=new this.$$alloc;a.hash_init(d);d.none=n;d.proc=n;return d});
a.defs(b,"$try_convert",function(a){return x.get("Opal")["$coerce_to?"](a,x.get("Hash"),"to_hash")});a.defn(b,"$initialize",y=function(a){var d=y.$$p||n;y.$$p=null;void 0!==a&&d!==n&&this.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.none=void 0===a?n:a;this.proc=d;return this});a.defn(b,"$==",function(d){if(this===d)return!0;if(!d.$$is_hash||this.$$keys.length!==d.$$keys.length)return!1;for(var b=0,h=this.$$keys,k=h.length,f,c;b<k;b++)if(f=h[b],f.$$is_string?(c=this.$$smap[f],
f=d.$$smap[f]):(c=f.value,f=a.hash_get(d,f.key)),void 0===f||!c["$eql?"](f))return!1;return!0});a.defn(b,"$[]",function(d){var b=a.hash_get(this,d);return void 0!==b?b:this.$default(d)});a.defn(b,"$[]=",function(d,b){a.hash_put(this,d,b);return b});a.defn(b,"$assoc",function(a){for(var d=0,b=this.$$keys,h=b.length,k;d<h;d++)if(k=b[d],k.$$is_string){if(k["$=="](a))return[k,this.$$smap[k]]}else if(k.key["$=="](a))return[k.key,k.value];return n});a.defn(b,"$clear",function(){a.hash_init(this);return this});
a.defn(b,"$clone",function(){var d=new this.$$class.$$alloc;a.hash_init(d);a.hash_clone(this,d);return d});a.defn(b,"$default",function(a){return void 0!==a&&this.proc!==n?this.proc.$call(this,a):this.none});a.defn(b,"$default=",function(a){this.proc=n;return this.none=a});a.defn(b,"$default_proc",function(){return this.proc});a.defn(b,"$default_proc=",function(a){a!==n&&(a=x.get("Opal")["$coerce_to!"](a,x.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(x.get("TypeError"),
"default_proc takes two arguments"));this.none=n;return this.proc=a});a.defn(b,"$delete",u=function(d){var b=u.$$p||n;u.$$p=null;var h=a.hash_delete(this,d);return void 0!==h?h:b!==n?b.$call(d):n});a.defn(b,"$delete_if",p=function(){var d,b,h=p.$$p||n;p.$$p=null;if(!1===h||h===n)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"delete_if");d=0;for(var k=this.$$keys,f=k.length,c,v;d<f;d++){c=k[d];c.$$is_string?v=this.$$smap[c]:(v=c.value,c=c.key);
v=h(c,v);if(v===l)return l.$v;!1!==v&&v!==n&&void 0!==a.hash_delete(this,c)&&(f--,d--)}return this});a.alias(b,"dup","clone");a.defn(b,"$each",t=function(){var d,b,h=t.$$p||n;t.$$p=null;if(!1===h||h===n)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"each");d=0;for(var k=this.$$keys,f=k.length,c,v;d<f;d++)if(c=k[d],c.$$is_string?v=this.$$smap[c]:(v=c.value,c=c.key),c=a.yield1(h,[c,v]),c===l)return l.$v;return this});a.defn(b,"$each_key",f=function(){var a,
d,b=f.$$p||n;f.$$p=null;if(!1===b||b===n)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"each_key");a=0;for(var h=this.$$keys,k=h.length,c;a<k;a++)if(c=h[a],b(c.$$is_string?c:c.key)===l)return l.$v;return this});a.alias(b,"each_pair","each");a.defn(b,"$each_value",k=function(){var a,d,b=k.$$p||n;k.$$p=null;if(!1===b||b===n)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"each_value");a=0;for(var h=
this.$$keys,f=h.length,c;a<f;a++)if(c=h[a],b(c.$$is_string?this.$$smap[c]:c.value)===l)return l.$v;return this});a.defn(b,"$empty?",function(){return 0===this.$$keys.length});a.alias(b,"eql?","==");a.defn(b,"$fetch",B=function(d,b){var h=B.$$p||n;B.$$p=null;var k=a.hash_get(this,d);return void 0!==k?k:h!==n?(k=h(d),k===l?l.$v:k):void 0!==b?b:this.$raise(x.get("KeyError"),"key not found: "+d.$inspect())});a.defn(b,"$flatten",function(a){null==a&&(a=1);a=x.get("Opal")["$coerce_to!"](a,x.get("Integer"),
"to_int");for(var d=[],b=0,h=this.$$keys,k=h.length,f,c;b<k;b++)f=h[b],f.$$is_string?c=this.$$smap[f]:(c=f.value,f=f.key),d.push(f),c.$$is_array?1===a?d.push(c):d=d.concat(c.$flatten(a-2)):d.push(c);return d});a.defn(b,"$has_key?",function(d){return void 0!==a.hash_get(this,d)});a.defn(b,"$has_value?",function(a){for(var d=0,b=this.$$keys,h=b.length,k;d<h;d++)if(k=b[d],(k.$$is_string?this.$$smap[k]:k.value)["$=="](a))return!0;return!1});a.defn(b,"$hash",function(){var d=void 0===a.hash_ids,b=this.$object_id(),
h=["Hash"],k,f;try{d&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(b))return"self";for(k in a.hash_ids)if(a.hash_ids.hasOwnProperty(k)&&(f=a.hash_ids[k],this["$eql?"](f)))return"self";a.hash_ids[b]=this;for(var b=0,c=this.$$keys,v=c.length;b<v;b++)k=c[b],k.$$is_string?h.push([k,this.$$smap[k].$hash()]):h.push([k.key_hash,k.value.$hash()]);return h.sort().join()}finally{d&&delete a.hash_ids}});a.alias(b,"include?","has_key?");a.defn(b,"$index",function(a){for(var d=0,b=this.$$keys,h=b.length,k,f;d<
h;d++)if(k=b[d],k.$$is_string?f=this.$$smap[k]:(f=k.value,k=k.key),f["$=="](a))return k;return n});a.defn(b,"$indexes",function(){var d=n,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),d=0;d<b;d++)h[d]=arguments[d+0];for(var d=[],b=0,k=h.length,f;b<k;b++)f=h[b],f=a.hash_get(this,f),void 0===f?d.push(this.$default()):d.push(f);return d});a.alias(b,"indices","indexes");var P;a.defn(b,"$inspect",function(){var a=void 0===P,d=this.$object_id(),b=[];try{a&&(P={});if(P.hasOwnProperty(d))return"{...}";
P[d]=!0;for(var d=0,h=this.$$keys,k=h.length,f,c;d<k;d++)f=h[d],f.$$is_string?c=this.$$smap[f]:(c=f.value,f=f.key),b.push(f.$inspect()+"=>"+c.$inspect());return"{"+b.join(", ")+"}"}finally{a&&(P=void 0)}});a.defn(b,"$invert",function(){for(var d=a.hash(),b=0,h=this.$$keys,k=h.length,f,c;b<k;b++)f=h[b],f.$$is_string?c=this.$$smap[f]:(c=f.value,f=f.key),a.hash_put(d,c,f);return d});a.defn(b,"$keep_if",v=function(){var d,b,h=v.$$p||n;v.$$p=null;if(!1===h||h===n)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||
this).$size()},b.$$s=this,b),d).call(this,"keep_if");d=0;for(var k=this.$$keys,f=k.length,c,r;d<f;d++){c=k[d];c.$$is_string?r=this.$$smap[c]:(r=c.value,c=c.key);r=h(c,r);if(r===l)return l.$v;!1!==r&&r!==n||void 0===a.hash_delete(this,c)||(f--,d--)}return this});a.alias(b,"key","index");a.alias(b,"key?","has_key?");a.defn(b,"$keys",function(){for(var a=[],d=0,b=this.$$keys,h=b.length,k;d<h;d++)k=b[d],k.$$is_string?a.push(k):a.push(k.key);return a});a.defn(b,"$length",function(){return this.$$keys.length});
a.alias(b,"member?","has_key?");a.defn(b,"$merge",r=function(a){var d,b,h=r.$$p||n;r.$$p=null;return(d=(b=this.$dup())["$merge!"],d.$$p=h.$to_proc(),d).call(b,a)});a.defn(b,"$merge!",h=function(d){var b=h.$$p||n;h.$$p=null;x.get("Hash")["$==="](d)||(d=x.get("Opal")["$coerce_to!"](d,x.get("Hash"),"to_hash"));var k,f=d.$$keys,c=f.length,v,r,w;if(b===n){for(k=0;k<c;k++)v=f[k],v.$$is_string?w=d.$$smap[v]:(w=v.value,v=v.key),a.hash_put(this,v,w);return this}for(k=0;k<c;k++)v=f[k],v.$$is_string?w=d.$$smap[v]:
(w=v.value,v=v.key),r=a.hash_get(this,v),void 0===r?a.hash_put(this,v,w):a.hash_put(this,v,b(v,r,w));return this});a.defn(b,"$rassoc",function(a){for(var d=0,b=this.$$keys,h=b.length,k,f;d<h;d++)if(k=b[d],k.$$is_string?f=this.$$smap[k]:(f=k.value,k=k.key),f["$=="](a))return[k,f];return n});a.defn(b,"$rehash",function(){a.hash_rehash(this);return this});a.defn(b,"$reject",d=function(){var b,h,k=d.$$p||n;d.$$p=null;if(!1===k||k===n)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},
h.$$s=this,h),b).call(this,"reject");b=a.hash();for(var f=0,c=this.$$keys,v=c.length,r,w,g;f<v;f++){r=c[f];r.$$is_string?w=this.$$smap[r]:(w=r.value,r=r.key);g=k(r,w);if(g===l)return l.$v;!1!==g&&g!==n||a.hash_put(b,r,w)}return b});a.defn(b,"$reject!",E=function(){var d,b,h=E.$$p||n;E.$$p=null;if(!1===h||h===n)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"reject!");d=!1;for(var k=0,f=this.$$keys,c=f.length,v,r;k<c;k++){v=f[k];v.$$is_string?r=
this.$$smap[v]:(r=v.value,v=v.key);r=h(v,r);if(r===l)return l.$v;!1!==r&&r!==n&&void 0!==a.hash_delete(this,v)&&(d=!0,c--,k--)}return d?this:n});a.defn(b,"$replace",function(d){var b;d=x.get("Opal")["$coerce_to!"](d,x.get("Hash"),"to_hash");a.hash_init(this);for(var h=0,k=d.$$keys,f=k.length,c,v;h<f;h++)c=k[h],c.$$is_string?v=d.$$smap[c]:(v=c.value,c=c.key),a.hash_put(this,c,v);(b=d.$default_proc())===n||b.$$is_boolean&&1!=b?(b=[d.$default()],d=this,d["$default="].apply(d,b)):(b=[d.$default_proc()],
d=this,d["$default_proc="].apply(d,b));b[b.length-1];return this});a.defn(b,"$select",w=function(){var d,b,h=w.$$p||n;w.$$p=null;if(!1===h||h===n)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"select");d=a.hash();for(var k=0,f=this.$$keys,c=f.length,v,r,g;k<c;k++){v=f[k];v.$$is_string?r=this.$$smap[v]:(r=v.value,v=v.key);g=h(v,r);if(g===l)return l.$v;!1!==g&&g!==n&&a.hash_put(d,v,r)}return d});a.defn(b,"$select!",C=function(){var d,b,h=C.$$p||
n;C.$$p=null;if(!1===h||h===n)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),d).call(this,"select!");d=n;for(var k=0,f=this.$$keys,c=f.length,v,r;k<c;k++){v=f[k];v.$$is_string?r=this.$$smap[v]:(r=v.value,v=v.key);r=h(v,r);if(r===l)return l.$v;if(!1===r||r===n)void 0!==a.hash_delete(this,v)&&(c--,k--),d=this}return d});a.defn(b,"$shift",function(){var d=this.$$keys;return 0<d.length?(d=d[0],d=d.$$is_string?d:d.key,[d,a.hash_delete(this,d)]):this.$default(n)});
a.alias(b,"size","length");b.$alias_method("store","[]=");a.defn(b,"$to_a",function(){for(var a=[],d=0,b=this.$$keys,h=b.length,k,f;d<h;d++)k=b[d],k.$$is_string?f=this.$$smap[k]:(f=k.value,k=k.key),a.push([k,f]);return a});a.defn(b,"$to_h",function(){if(this.$$class===a.Hash)return this;var d=new a.Hash.$$alloc;a.hash_init(d);a.hash_clone(this,d);return d});a.defn(b,"$to_hash",function(){return this});a.alias(b,"to_s","inspect");a.alias(b,"update","merge!");a.alias(b,"value?","has_value?");a.alias(b,
"values_at","indexes");return(a.defn(b,"$values",function(){for(var a=[],d=0,b=this.$$keys,h=b.length,k;d<h;d++)k=b[d],k.$$is_string?a.push(this.$$smap[k]):a.push(k.value);return a}),n)&&"values"}(a.base,null)};
Opal.modules["corelib/number"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
a.dynamic_require_severity="warning";var c=a.top,b=a.nil,A=a.breaker,x=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));c.$require("corelib/numeric");(function(c,$super){function p(){}var t=p=x(c,$super,"Number",p),f=t.$$scope,k,B,v,r,h,d,E,w,C,P;f.get("Opal").$bridge(t,Number);Number.prototype.$$is_number=
!0;a.defn(t,"$coerce",function(a){if(a!==b){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[f.get("Opal")["$coerce_to!"](a,f.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(f.get("TypeError"),"can't convert "+a.$class()+" into Float")});a.defn(t,"$__id__",function(){return 2*this+1});a.alias(t,"object_id","__id__");a.defn(t,"$+",function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)});a.defn(t,"$-",function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)});a.defn(t,"$*",function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)});a.defn(t,"$/",function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)});a.alias(t,"fdiv","/");a.defn(t,"$%",function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(f.get("ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)});a.defn(t,"$&",function(a){return a.$$is_number?this&a:this.$__coerced__("&",
a)});a.defn(t,"$|",function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)});a.defn(t,"$^",function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)});a.defn(t,"$<",function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)});a.defn(t,"$<=",function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)});a.defn(t,"$>",function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)});a.defn(t,"$>=",function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)});a.defn(t,
"$<=>",function(d){try{return d.$$is_number?isNaN(this)||isNaN(d)?b:this>d?1:this<d?-1:0:this.$__coerced__("<=>",d)}catch(h){if(a.rescue(h,[f.get("ArgumentError")]))try{return b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw h;}});a.defn(t,"$<<",function(a){a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int");return 0<a?this<<a:this>>-a});a.defn(t,"$>>",function(a){a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int");return 0<a?this>>a:this<<-a});a.defn(t,"$[]",function(a){a=
f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int");return a<f.get("Integer").$$scope.get("MIN")||a>f.get("Integer").$$scope.get("MAX")?0:0>this?(~this+1>>a)%2:(this>>a)%2});a.defn(t,"$+@",function(){return+this});a.defn(t,"$-@",function(){return-this});a.defn(t,"$~",function(){return~this});a.defn(t,"$**",function(a){var d,h,k;return(d=f.get("Integer")["$==="](a))===b||d.$$is_boolean&&1!=d?(d=n(this,0)?!1!==(k=f.get("Float")["$==="](a))&&k!==b?k:f.get("Rational")["$==="](a):n(this,0))===b||
d.$$is_boolean&&1!=d?(d=null!=a.$$is_number)===b||d.$$is_boolean&&1!=d?this.$__coerced__("**",a):Math.pow(this,a):f.get("Complex").$new(this,0)["$**"](a.$to_f()):(d=!1!==(h=f.get("Integer")["$==="](this)["$!"]())&&h!==b?h:q(a,0))===b||d.$$is_boolean&&1!=d?f.get("Rational").$new(this,1)["$**"](a):Math.pow(this,a)});a.defn(t,"$==",function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1});a.defn(t,"$abs",function(){return Math.abs(this)});a.defn(t,"$abs2",function(){return Math.abs(this*
this)});a.defn(t,"$angle",function(){var a;return(a=this["$nan?"]())===b||a.$$is_boolean&&1!=a?0==this?0<1/this?0:Math.PI:0>this?Math.PI:0:this});a.alias(t,"arg","angle");a.alias(t,"phase","angle");a.defn(t,"$bit_length",function(){var a;((a=f.get("Integer")["$==="](this))===b||a.$$is_boolean&&1!=a)&&this.$raise(f.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var d=0>this?~this:this;0!=d;)a+=1,d>>>=1;return a});
a.defn(t,"$ceil",function(){return Math.ceil(this)});a.defn(t,"$chr",function(a){return String.fromCharCode(this)});a.defn(t,"$denominator",k=function(){var d,h,f=k.$$p,e=b,c=b;k.$$p=null;e=[];for(c=0;c<arguments.length;c++)e[c]=arguments[c];return(d=!1!==(h=this["$nan?"]())&&h!==b?h:this["$infinite?"]())===b||d.$$is_boolean&&1!=d?a.find_super_dispatcher(this,"denominator",k,f).apply(this,e):1});a.defn(t,"$downto",B=function(a){var d,h,k=B.$$p||b;B.$$p=null;if(k===b)return(d=this.$enum_for,d.$$p=
(h=function(){var d=h.$$s||this,k;((k=f.get("Numeric")["$==="](a))===b||k.$$is_boolean&&1!=k)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return(k=q(a,d))===b||k.$$is_boolean&&1!=k?l(g(d,a),1):0},h.$$s=this,h),d).call(this,"downto",a);a.$$is_number||this.$raise(f.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d>=a;d--)if(k(d)===A)return A.$v;return this});a.alias(t,"eql?","==");a.defn(t,"$equal?",function(a){var d;
return!1!==(d=this["$=="](a))&&d!==b?d:isNaN(this)&&isNaN(a)});a.defn(t,"$even?",function(){return 0===this%2});a.defn(t,"$floor",function(){return Math.floor(this)});a.defn(t,"$gcd",function(a){var d;((d=f.get("Integer")["$==="](a))===b||d.$$is_boolean&&1!=d)&&this.$raise(f.get("TypeError"),"not an integer");d=Math.abs(this);for(a=Math.abs(a);0<d;){var h=d;d=a%d;a=h}return a});a.defn(t,"$gcdlcm",function(a){return[this.$gcd(),this.$lcm()]});a.defn(t,"$integer?",function(){return 0===this%1});a.defn(t,
"$is_a?",v=function(d){var h,k=v.$$p,e=b,c=b;v.$$p=null;e=[];for(c=0;c<arguments.length;c++)e[c]=arguments[c];return((h=d["$=="](f.get("Fixnum"))?f.get("Integer")["$==="](this):d["$=="](f.get("Fixnum")))===b||h.$$is_boolean&&1!=h)&&((h=d["$=="](f.get("Integer"))?f.get("Integer")["$==="](this):d["$=="](f.get("Integer")))===b||h.$$is_boolean&&1!=h)&&((h=d["$=="](f.get("Float"))?f.get("Float")["$==="](this):d["$=="](f.get("Float")))===b||h.$$is_boolean&&1!=h)?a.find_super_dispatcher(this,"is_a?",v,k).apply(this,
e):!0});a.alias(t,"kind_of?","is_a?");a.defn(t,"$instance_of?",r=function(d){var h,k=r.$$p,e=b,c=b;r.$$p=null;e=[];for(c=0;c<arguments.length;c++)e[c]=arguments[c];return((h=d["$=="](f.get("Fixnum"))?f.get("Integer")["$==="](this):d["$=="](f.get("Fixnum")))===b||h.$$is_boolean&&1!=h)&&((h=d["$=="](f.get("Integer"))?f.get("Integer")["$==="](this):d["$=="](f.get("Integer")))===b||h.$$is_boolean&&1!=h)&&((h=d["$=="](f.get("Float"))?f.get("Float")["$==="](this):d["$=="](f.get("Float")))===b||h.$$is_boolean&&
1!=h)?a.find_super_dispatcher(this,"instance_of?",r,k).apply(this,e):!0});a.defn(t,"$lcm",function(a){var d;((d=f.get("Integer")["$==="](a))===b||d.$$is_boolean&&1!=d)&&this.$raise(f.get("TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))});a.alias(t,"magnitude","abs");a.alias(t,"modulo","%");a.defn(t,"$next",function(){return this+1});a.defn(t,"$nonzero?",function(){return 0==this?b:this});a.defn(t,"$numerator",h=function(){var d,k,f=h.$$p,e=b,c=b;h.$$p=null;e=[];
for(c=0;c<arguments.length;c++)e[c]=arguments[c];return(d=!1!==(k=this["$nan?"]())&&k!==b?k:this["$infinite?"]())===b||d.$$is_boolean&&1!=d?a.find_super_dispatcher(this,"numerator",h,f).apply(this,e):this});a.defn(t,"$odd?",function(){return 0!==this%2});a.defn(t,"$ord",function(){return this});a.defn(t,"$pred",function(){return this-1});a.defn(t,"$quo",d=function(h){var k,e=d.$$p,c=b,v=b;d.$$p=null;c=[];for(v=0;v<arguments.length;v++)c[v]=arguments[v];return(k=f.get("Integer")["$==="](this))===b||
k.$$is_boolean&&1!=k?m(this,h):a.find_super_dispatcher(this,"quo",d,e).apply(this,c)});a.defn(t,"$rationalize",function(d){var h,k,c=b,v=b;1<arguments.length&&this.$raise(f.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if((h=f.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){if((h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h){if((h=this["$nan?"]())===b||h.$$is_boolean&&1!=h){if((h=null==d)===b||h.$$is_boolean&&1!=h)return this.$to_r().$rationalize(d);
k=f.get("Math").$frexp(this);h=a.to_ary(k);c=null==h[0]?b:h[0];v=null==h[1]?b:h[1];k;c=f.get("Math").$ldexp(c,f.get("Float").$$scope.get("MANT_DIG")).$to_i();v=g(v,f.get("Float").$$scope.get("MANT_DIG"));return f.get("Rational").$new(e(2,c),1["$<<"](g(1,v))).$rationalize(f.get("Rational").$new(1,1["$<<"](g(1,v))))}return this.$raise(f.get("FloatDomainError"),"NaN")}return this.$raise(f.get("FloatDomainError"),"Infinity")}return f.get("Rational").$new(this,1)});a.defn(t,"$round",function(d){var h,
k,c=b;if((h=f.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){(h=(k=this["$nan?"](),!1!==k&&k!==b?null==d:k))===b||h.$$is_boolean&&1!=h||this.$raise(f.get("FloatDomainError"),"NaN");d=f.get("Opal")["$coerce_to!"](d||0,f.get("Integer"),"to_int");if((h="number"===typeof d?0>=d:d["$<="](0))===b||h.$$is_boolean&&1!=h){if(d["$=="](0))return Math.round(this);if((h=!1!==(k=this["$nan?"]())&&k!==b?k:this["$infinite?"]())!==b&&(!h.$$is_boolean||1==h))return this}else(h=this["$nan?"]())===b||h.$$is_boolean&&
1!=h?(h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h||this.$raise(f.get("FloatDomainError"),"Infinity"):this.$raise(f.get("RangeError"),"NaN");k=f.get("Math").$frexp(this);h=a.to_ary(k);c=null==h[1]?b:h[1];k;var e=g(l(f.get("Float").$$scope.get("DIG"),2),(k=q(c,0))===b||k.$$is_boolean&&1!=k?g(m(c,3),1):m(c,4));return(h="number"===typeof d&&"number"===typeof e?d>=e:d["$>="](e))===b||h.$$is_boolean&&1!=h?(h=n(d,((k=q(c,0))===b||k.$$is_boolean&&1!=k?m(c,4):l(m(c,3),1))["$-@"]()))===b||h.$$is_boolean&&
1!=h?Math.round(this*Math.pow(10,d))/Math.pow(10,d):0:this}if((h=null==d)!==b&&(!h.$$is_boolean||1==h))return this;(h=(k=f.get("Float")["$==="](d),!1!==k&&k!==b?d["$infinite?"]():k))===b||h.$$is_boolean&&1!=h||this.$raise(f.get("RangeError"),"Infinity");d=f.get("Opal")["$coerce_to!"](d,f.get("Integer"),"to_int");(h=n(d,f.get("Integer").$$scope.get("MIN")))===b||h.$$is_boolean&&1!=h||this.$raise(f.get("RangeError"),"out of bounds");if((h=0<=d)!==b&&(!h.$$is_boolean||1==h))return this;d=d["$-@"]();
if(.415241*d-.125>this.$size())return 0;d=Math.pow(10,d);e=Math.floor((Math.abs(e)+d/2)/d)*d;return 0>this?-e:e});a.defn(t,"$step",E=function(a,d){var h,k=E.$$p||b;null==d&&(d=1);E.$$p=null;if(!1===k||k===b)return this.$enum_for("step",a,d);(h=0==d)===b||h.$$is_boolean&&1!=h||this.$raise(f.get("ArgumentError"),"step cannot be 0");h=this;if(Infinity===a||-Infinity===a)return k(h),this;if(0<d)for(;h<=a;)k(h),h+=d;else for(;h>=a;)k(h),h+=d;return this});a.alias(t,"succ","next");a.defn(t,"$times",w=function(){var a=
w.$$p||b;w.$$p=null;if(!1===a||a===b)return this.$enum_for("times");for(var d=0;d<this;d++)if(a(d)===A)return A.$v;return this});a.defn(t,"$to_f",function(){return this});a.defn(t,"$to_i",function(){return parseInt(this,10)});a.alias(t,"to_int","to_i");a.defn(t,"$to_r",function(){var d,h,k=b,c=b;return(d=f.get("Integer")["$==="](this))===b||d.$$is_boolean&&1!=d?(h=f.get("Math").$frexp(this),d=a.to_ary(h),k=null==d[0]?b:d[0],c=null==d[1]?b:d[1],h,k=f.get("Math").$ldexp(k,f.get("Float").$$scope.get("MANT_DIG")).$to_i(),
c=g(c,f.get("Float").$$scope.get("MANT_DIG")),e(k,f.get("Float").$$scope.get("RADIX")["$**"](c)).$to_r()):f.get("Rational").$new(this,1)});a.defn(t,"$to_s",function(a){var d,h;null==a&&(a=10);(d=!1!==(h=n(a,2))&&h!==b?h:q(a,36))===b||d.$$is_boolean&&1!=d||this.$raise(f.get("ArgumentError"),"base must be between 2 and 36");return this.toString(a)});a.alias(t,"truncate","to_i");a.alias(t,"inspect","to_s");a.defn(t,"$divmod",C=function(d){var h,k,c=C.$$p,e=b,v=b;C.$$p=null;e=[];for(v=0;v<arguments.length;v++)e[v]=
arguments[v];return(h=!1!==(k=this["$nan?"]())&&k!==b?k:d["$nan?"]())===b||h.$$is_boolean&&1!=h?(h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h?a.find_super_dispatcher(this,"divmod",C,c).apply(this,e):this.$raise(f.get("FloatDomainError"),"Infinity"):this.$raise(f.get("FloatDomainError"),"NaN")});a.defn(t,"$upto",P=function(a){var d,h,k=P.$$p||b;P.$$p=null;if(k===b)return(d=this.$enum_for,d.$$p=(h=function(){var d=h.$$s||this,k;((k=f.get("Numeric")["$==="](a))===b||k.$$is_boolean&&1!=k)&&d.$raise(f.get("ArgumentError"),
"comparison of "+d.$class()+" with "+a.$class()+" failed");return(k=n(a,d))===b||k.$$is_boolean&&1!=k?l(g(a,d),1):0},h.$$s=this,h),d).call(this,"upto",a);a.$$is_number||this.$raise(f.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d<=a;d++)if(k(d)===A)return A.$v;return this});a.defn(t,"$zero?",function(){return 0==this});a.defn(t,"$size",function(){return 4});a.defn(t,"$nan?",function(){return isNaN(this)});a.defn(t,"$finite?",function(){return Infinity!=
this&&-Infinity!=this&&!isNaN(this)});a.defn(t,"$infinite?",function(){return Infinity==this?1:-Infinity==this?-1:b});a.defn(t,"$positive?",function(){return Infinity==this||0<1/this});return(a.defn(t,"$negative?",function(){return-Infinity==this||0>1/this}),b)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));(function(b,$super){function c(){}var e=c=x(b,$super,"Integer",c),f=e.$$scope;a.defs(e,"$===",function(a){return a.$$is_number?0===a%1:!1});a.cdecl(f,"MAX",Math.pow(2,
30)-1);return a.cdecl(f,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(c,$super){function e(){}var g=e=x(c,$super,"Float",e),f=g.$$scope,k;a.defs(g,"$===",function(a){return!!a.$$is_number});a.cdecl(f,"INFINITY",Infinity);a.cdecl(f,"MAX",Number.MAX_VALUE);a.cdecl(f,"MIN",Number.MIN_VALUE);a.cdecl(f,"NAN",NaN);a.cdecl(f,"DIG",15);a.cdecl(f,"MANT_DIG",53);a.cdecl(f,"RADIX",2);return(k="undefined"!==typeof Number.EPSILON)===b||k.$$is_boolean&&1!=k?a.cdecl(f,"EPSILON",2.220446049250313E-16):
a.cdecl(f,"EPSILON",Number.EPSILON)}(a.base,a.get("Numeric"))};
Opal.modules["corelib/range"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="warning";var l=a.top,g=a.nil,m=a.breaker,e=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $upto $to_proc $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect".split(" "));l.$require("corelib/enumerable");return function(c,
$super){function l(){}var x=l=e(c,$super,"Range",l),y=x.$$proto,u=x.$$scope,p,t,f;y.begin=y.exclude=y.end=g;x.$include(u.get("Enumerable"));y.$$is_range=!0;x.$attr_reader("begin","end");a.defn(x,"$initialize",function(a,f,e){var c;null==e&&(e=!1);((c=a["$<=>"](f))===g||c.$$is_boolean&&1!=c)&&this.$raise(u.get("ArgumentError"));this.begin=a;this.end=f;return this.exclude=e});a.defn(x,"$==",function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1});a.defn(x,
"$===",function(a){return this["$include?"](a)});a.defn(x,"$cover?",function(a){var f,e;return f=q(this.begin,a),!1!==f&&f!==g?(e=this.exclude)===g||e.$$is_boolean&&1!=e?q(a,this.end):n(a,this.end):f});a.defn(x,"$each",p=function(){var k,f,e,c=p.$$p||g,h=g,d=g;p.$$p=null;if(c===g)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(u.get("TypeError"),"can't iterate from Float");f=this.begin;for(h=this.end+((k=this.exclude)===
g||k.$$is_boolean&&1!=k?1:0);f<h;f++)if(e=c(f),e===m)return m.$v;return this}if(this.begin.$$is_string&&this.end.$$is_string)return e=(k=(f=this.begin).$upto,k.$$p=c.$to_proc(),k).call(f,this.end,this.exclude),e===this.begin?this:e;h=this.begin;for(d=this.end;(e=n(h,d))!==g&&(!e.$$is_boolean||1==e);){if(a.yield1(c,h)===m)return m.$v;h=h.$succ()}return(k=(e=this.exclude["$!"](),!1!==e&&e!==g?h["$=="](d):e))===g||k.$$is_boolean&&1!=k||a.yield1(c,h)!==m?this:m.$v});a.defn(x,"$eql?",function(a){var f,
e;return(f=u.get("Range")["$==="](a))===g||f.$$is_boolean&&1!=f?!1:(f=(e=this.exclude["$==="](a["$exclude_end?"]()),!1!==e&&e!==g?this.begin["$eql?"](a.$begin()):e),!1!==f&&f!==g?this.end["$eql?"](a.$end()):f)});a.defn(x,"$exclude_end?",function(){return this.exclude});a.alias(x,"first","begin");a.alias(x,"include?","cover?");a.alias(x,"last","end");a.defn(x,"$max",t=function(){var k=t.$$p,f=k||g,e=g,c=g;t.$$p=null;e=[];for(c=0;c<arguments.length;c++)e[c]=arguments[c];return f!==g?a.find_super_dispatcher(this,
"max",t,k).apply(this,e):this.exclude?this.end-1:this.end});a.alias(x,"member?","cover?");a.defn(x,"$min",f=function(){var k=f.$$p,e=k||g,c=g,r=g;f.$$p=null;c=[];for(r=0;r<arguments.length;r++)c[r]=arguments[r];return e!==g?a.find_super_dispatcher(this,"min",f,k).apply(this,c):this.begin});a.alias(x,"member?","include?");a.defn(x,"$size",function(){var a,f,e=g,c=g,h=g,e=this.begin,c=this.end;(a=this.exclude)===g||a.$$is_boolean&&1!=a||(c="number"===typeof c?c-1:c["$-"](1));if((a=(f=u.get("Numeric")["$==="](e),
!1!==f&&f!==g?u.get("Numeric")["$==="](c):f))===g||a.$$is_boolean&&1!=a)return g;if((a=n(c,e))!==g&&(!a.$$is_boolean||1==a))return 0;h=u.get("Float").$$scope.get("INFINITY");return(a=!1!==(f=h["$=="](e.$abs()))&&f!==g?f:c.$abs()["$=="](h))===g||a.$$is_boolean&&1!=a?(Math.abs(c-e)+1).$to_i():h});a.defn(x,"$step",function(a){return this.$raise(u.get("NotImplementedError"))});a.defn(x,"$to_s",function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()});return a.alias(x,"inspect",
"to_s")}(a.base,null)};
Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.breaker,l=a.slice,g=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(m,$super){function c(){}var b=c=g(m,$super,"Proc",c),A=b.$$proto,x=b.$$scope,y,u;A.$$is_proc=!0;A.$$is_lambda=!1;a.defs(b,"$new",y=function(){var a=y.$$p||q;y.$$p=null;!1!==a&&a!==q||this.$raise(x.get("ArgumentError"),"tried to create a Proc object without a block");return a});a.defn(b,"$call",u=function(){var b=u.$$p||q,c=
q,f=arguments.length-0;0>f&&(f=0);for(var k=Array(f),c=0;c<f;c++)k[c]=arguments[c+0];u.$$p=null;b!==q&&(this.$$p=b);b=this.$$is_lambda?this.apply(null,k):a.yieldX(this,k);return b===n?n.$v:b});a.alias(b,"[]","call");a.alias(b,"===","call");a.alias(b,"yield","call");a.defn(b,"$to_proc",function(){return this});a.defn(b,"$lambda?",function(){return!!this.$$is_lambda});a.defn(b,"$arity",function(){return this.$$is_curried?-1:this.$$arity?this.$$arity:this.length});a.defn(b,"$source_location",function(){return q});
a.defn(b,"$binding",function(){this.$$is_curried&&this.$raise(x.get("ArgumentError"),"Can't create Binding");return q});a.defn(b,"$parameters",function(){return this.$$is_curried?[["rest"]]:q});a.defn(b,"$curry",function(a){function b(){var k=l.call(arguments),c=k.length;c>a&&f.$$is_lambda&&!f.$$is_curried&&f.$raise(x.get("ArgumentError"),"wrong number of arguments ("+c+" for "+a+")");if(c>=a)return f.$call.apply(f,k);c=function(){return b.apply(null,k.concat(l.call(arguments)))};c.$$is_lambda=f.$$is_lambda;
c.$$is_curried=!0;return c}var f=this;void 0===a?a=f.length:(a=x.get("Opal")["$coerce_to!"](a,x.get("Integer"),"to_int"),f.$$is_lambda&&a!==f.length&&f.$raise(x.get("ArgumentError"),"wrong number of arguments ("+a+" for "+f.length+")"));b.$$is_lambda=f.$$is_lambda;b.$$is_curried=!0;return b});a.defn(b,"$dup",function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},f;for(f in this)this.hasOwnProperty(f)&&(b[f]=this[f]);return b});return a.alias(b,"clone","dup")}(a.base,
Function)};
Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.slice,l=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(g,$super){function e(){}var c=e=l(g,$super,"Method",e),b=c.$$proto,A=c.$$scope,x;b.method=b.receiver=b.owner=b.name=q;c.$attr_reader("owner","receiver","name");a.defn(c,"$initialize",function(a,b,c){this.receiver=a;this.owner=a.$class();this.name=c;return this.method=b});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,
"$call",x=function(){var a=x.$$p||q,b=q,c=arguments.length-0;0>c&&(c=0);for(var e=Array(c),b=0;b<c;b++)e[b]=arguments[b+0];x.$$p=null;this.method.$$p=a;return this.method.apply(this.receiver,e)});a.alias(c,"[]","call");a.defn(c,"$unbind",function(){return A.get("UnboundMethod").$new(this.owner,this.method,this.name)});a.defn(c,"$to_proc",function(){var a=this,b=function(){return a.$call.apply(a,n.call(arguments))};b.$$unbound=a.method;b.$$is_lambda=!0;return b});return(a.defn(c,"$inspect",function(){return"#<Method: "+
this.receiver.$class()+"#"+this.name+">"}),q)&&"inspect"})(a.base,null);return function(g,$super){function e(){}var c=e=l(g,$super,"UnboundMethod",e),b=c.$$proto,n=c.$$scope;b.method=b.name=b.owner=q;c.$attr_reader("owner","name");a.defn(c,"$initialize",function(a,b,c){this.owner=a;this.method=b;return this.name=c});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,"$bind",function(a){return n.get("Method").$new(a,this.method,this.name)});return(a.defn(c,"$inspect",function(){return"#<UnboundMethod: "+
this.owner.$name()+"#"+this.name+">"}),q)&&"inspect"}(a.base,null)};Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.gvars,l=a.hash2;a.add_stubs(["$new"]);n["&"]=n["~"]=n["`"]=n["'"]=q;n.LOADED_FEATURES=n['"']=a.loaded_features;n.LOAD_PATH=n[":"]=[];n["/"]="\n";n[","]=q;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",l([],{}));n.VERBOSE=!1;n.DEBUG=!1;return n.SAFE=0};
Opal.modules["opal/mini"]=function(a){a.dynamic_require_severity="warning";var q=a.top;a.add_stubs(["$require"]);q.$require("opal/base");q.$require("corelib/nil");q.$require("corelib/boolean");q.$require("corelib/string");q.$require("corelib/comparable");q.$require("corelib/enumerable");q.$require("corelib/enumerator");q.$require("corelib/array");q.$require("corelib/hash");q.$require("corelib/number");q.$require("corelib/range");q.$require("corelib/proc");q.$require("corelib/method");q.$require("corelib/regexp");
return q.$require("corelib/variables")};
Opal.modules["corelib/array/inheritance"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass;a.add_stubs("$new $allocate $initialize $to_proc $__send__ $clone $respond_to? $== $eql? $inspect $hash $* $class $slice $uniq $flatten $- $+".split(" "));(function(l,$super){function m(){}var e=m=n(l,$super,"Array",m),c=e.$$scope;return(a.defs(e,"$inherited",function(a){var e=q,e=c.get("Class").$new(c.get("Array").$$scope.get("Wrapper"));a.$$proto=e.$$proto;a.$$proto.$$class=a;a.$$alloc=
e.$$alloc;a.$$parent=c.get("Array").$$scope.get("Wrapper");a.$allocate=e.$allocate;a.$new=e.$new;a["$[]"]=e["$[]"]}),q)&&"inherited"})(a.base,null);return function(l,$super){function m(){}var e=m=n(l,$super,"Wrapper",m),c=e.$$proto,b=e.$$scope,A,x,y,u,p;c.literal=q;c.$$is_array=!0;a.defs(e,"$allocate",A=function(b){var f=q;null==b&&(b=[]);A.$$p=null;f=a.find_super_dispatcher(this,"allocate",A,null,m).apply(this,[]);f.literal=b;return f});a.defs(e,"$new",x=function(){var b,f,k=x.$$p||q,c=q,c=q,e=arguments.length-
0;0>e&&(e=0);for(var r=Array(e),c=0;c<e;c++)r[c]=arguments[c+0];x.$$p=null;c=this.$allocate();(b=(f=c).$initialize,b.$$p=k.$to_proc(),b).apply(f,a.to_a(r));return c});a.defs(e,"$[]",function(){var a=q,b=arguments.length-0;0>b&&(b=0);for(var k=Array(b),a=0;a<b;a++)k[a]=arguments[a+0];return this.$allocate(k)});a.defn(e,"$initialize",y=function(){var c,f,k=y.$$p||q,e=q,v=arguments.length-0;0>v&&(v=0);for(var r=Array(v),e=0;e<v;e++)r[e]=arguments[e+0];y.$$p=null;return this.literal=(c=(f=b.get("Array")).$new,
c.$$p=k.$to_proc(),c).apply(f,a.to_a(r))});a.defn(e,"$method_missing",u=function(){var b,f,k=u.$$p||q,c=q,c=q,e=arguments.length-0;0>e&&(e=0);for(var r=Array(e),c=0;c<e;c++)r[c]=arguments[c+0];u.$$p=null;c=(b=(f=this.literal).$__send__,b.$$p=k.$to_proc(),b).apply(f,a.to_a(r));return(b=c===this.literal)===q||b.$$is_boolean&&1!=b?c:this});a.defn(e,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(e,"$respond_to?",p=function(b){var f,k=p.$$p,c=q,e=q;p.$$p=null;c=[];for(e=
0;e<arguments.length;e++)c[e]=arguments[e];return!1!==(f=a.find_super_dispatcher(this,"respond_to?",p,k).apply(this,c))&&f!==q?f:this.literal["$respond_to?"](b)});a.defn(e,"$==",function(a){return this.literal["$=="](a)});a.defn(e,"$eql?",function(a){return this.literal["$eql?"](a)});a.defn(e,"$to_a",function(){return this.literal});a.defn(e,"$to_ary",function(){return this});a.defn(e,"$inspect",function(){return this.literal.$inspect()});a.defn(e,"$hash",function(){return this.literal.$hash()});
a.defn(e,"$*",function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_array?this.$class().$allocate(a):a});a.defn(e,"$[]",function(a,b){var k=this.literal.$slice(a,b);return k.$$is_array&&(a.$$is_range||void 0!==b)?this.$class().$allocate(k):k});a.alias(e,"slice","[]");a.defn(e,"$uniq",function(){return this.$class().$allocate(this.literal.$uniq())});a.defn(e,"$flatten",function(a){return this.$class().$allocate(this.literal.$flatten(a))});a.defn(e,"$-",
function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)});return(a.defn(e,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}),q)&&"+"}(a.get("Array"),null)};
Opal.modules["corelib/string/inheritance"]=function(a){a.dynamic_require_severity="warning";var q=a.top,n=a.nil,l=a.klass,g=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $%".split(" "));q.$require("corelib/string");(function(g,$super){function c(){}var b=c=l(g,$super,"String",c),q=b.$$scope;return(a.defs(b,"$inherited",function(a){var b=n,b=q.get("Class").$new(q.get("String").$$scope.get("Wrapper"));
a.$$proto=b.$$proto;a.$$proto.$$class=a;a.$$alloc=b.$$alloc;a.$$parent=q.get("String").$$scope.get("Wrapper");a.$allocate=b.$allocate;a.$new=b.$new}),n)&&"inherited"})(a.base,null);return function(m,$super){function c(){}var b=c=l(m,$super,"Wrapper",c),q=b.$$proto,x,y,u,p,t,f;q.literal=n;q.$$is_string=!0;a.defs(b,"$allocate",x=function(b){var f=n;null==b&&(b="");x.$$p=null;f=a.find_super_dispatcher(this,"allocate",x,null,c).apply(this,[]);f.literal=b;return f});a.defs(b,"$new",y=function(){var b,
f,c=y.$$p||n,r=n,r=n,h=arguments.length-0;0>h&&(h=0);for(var d=Array(h),r=0;r<h;r++)d[r]=arguments[r+0];y.$$p=null;r=this.$allocate();(b=(f=r).$initialize,b.$$p=c.$to_proc(),b).apply(f,a.to_a(d));return r});a.defs(b,"$[]",function(){var a=n,b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),a=0;a<b;a++)f[a]=arguments[a+0];return this.$allocate(f)});a.defn(b,"$initialize",function(a){null==a&&(a="");return this.literal=a});a.defn(b,"$method_missing",u=function(){var b,f,c=u.$$p||n,r=n,r=n,h=arguments.length-
0;0>h&&(h=0);for(var d=Array(h),r=0;r<h;r++)d[r]=arguments[r+0];u.$$p=null;r=(b=(f=this.literal).$__send__,b.$$p=c.$to_proc(),b).apply(f,a.to_a(d));return(b=null!=r.$$is_string)===n||b.$$is_boolean&&1!=b?r:(b=r==this.literal)===n||b.$$is_boolean&&1!=b?this.$class().$allocate(r):this});a.defn(b,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(b,"$respond_to?",p=function(b){var f,c=p.$$p,r=n,h=n;p.$$p=null;r=[];for(h=0;h<arguments.length;h++)r[h]=arguments[h];return!1!==
(f=a.find_super_dispatcher(this,"respond_to?",p,c).apply(this,r))&&f!==n?f:this.literal["$respond_to?"](b)});a.defn(b,"$==",function(a){return this.literal["$=="](a)});a.alias(b,"eql?","==");a.alias(b,"===","==");a.defn(b,"$to_s",function(){return this.literal});a.alias(b,"to_str","to_s");a.defn(b,"$inspect",function(){return this.literal.$inspect()});a.defn(b,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)});a.defn(b,"$*",function(a){var b=this.literal;
a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a});a.defn(b,"$split",function(a,b){var f,c,h;return(f=(c=this.literal.$split(a,b)).$map,f.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=n);return b.$class().$allocate(a)},h.$$s=this,h),f).call(c)});a.defn(b,"$replace",function(a){return this.literal=a});a.defn(b,"$each_line",t=function(b){var f,c,r,h=t.$$p||n;null==g["/"]&&(g["/"]=n);null==b&&(b=g["/"]);t.$$p=null;return h===n?this.$enum_for("each_line",
b):(f=(c=this.literal).$each_line,f.$$p=(r=function(d){var b=r.$$s||this,k;null==d&&(d=n);return k=a.yield1(h,b.$class().$allocate(d)),k},r.$$s=this,r),f).call(c,b)});a.defn(b,"$lines",f=function(a){var b,c=f.$$p||n,r=n;null==g["/"]&&(g["/"]=n);null==a&&(a=g["/"]);f.$$p=null;r=(b=this.$each_line,b.$$p=c.$to_proc(),b).call(this,a);return!1!==c&&c!==n?this:r.$to_a()});return(a.defn(b,"$%",function(a){return this.literal["$%"](a)}),n)&&"%"}(a.get("String"),null)};
Opal.modules["corelib/string/encoding"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var n,l,g,m,e,c,b,A=a.top,x=a.nil,y=a.breaker,u=a.klass,p=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
A.$require("corelib/string");(function(b,$super){function k(){}var c=k=u(b,$super,"Encoding",k),e=c.$$proto,r=c.$$scope,h;e.ascii=e.dummy=e.name=x;a.defs(c,"$register",h=function(a,b){var k,c,e,v,g=h.$$p||x,m=x,B=x;null==b&&(b=p([],{}));h.$$p=null;m=q([a],!1!==(k=b["$[]"]("aliases"))&&k!==x?k:[]);B=(k=(c=r.get("Class")).$new,k.$$p=g.$to_proc(),k).call(c,this).$new(a,m,!1!==(k=b["$[]"]("ascii"))&&k!==x?k:!1,!1!==(k=b["$[]"]("dummy"))&&k!==x?k:!1);return(k=(e=m).$each,k.$$p=(v=function(a){var d=v.$$s||
this;null==a&&(a=x);return d.$const_set(a.$sub("-","_"),B)},v.$$s=this,v),k).call(e)});a.defs(c,"$find",function(d){try{var b,h,k,c=x,c=d.$upcase();(b=(h=this.$constants()).$each,b.$$p=(k=function(d){var b=k.$$s||this,h,e,v=x;null==d&&(d=x);v=b.$const_get(d);if((h=r.get("Encoding")["$==="](v))===x||h.$$is_boolean&&1!=h||(h=!1!==(e=v.$name()["$=="](c))&&e!==x?e:v.$names()["$include?"](c))===x||h.$$is_boolean&&1!=h)return x;a.ret(v)},k.$$s=this,k),b).call(h);return this.$raise(r.get("ArgumentError"),
"unknown encoding name - "+d)}catch(e){if(e===a.returner)return e.$v;throw e;}});(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(c));c.$attr_reader("name","names");a.defn(c,"$initialize",function(a,b,h,k){this.name=a;this.names=b;this.ascii=h;return this.dummy=k});a.defn(c,"$ascii_compatible?",function(){return this.ascii});a.defn(c,"$dummy?",function(){return this.dummy});a.defn(c,"$to_s",function(){return this.name});a.defn(c,"$inspect",function(){var a;return"#<Encoding:"+
this.name+((a=this.dummy)===x||a.$$is_boolean&&1!=a?x:" (dummy)")+">"});a.defn(c,"$each_byte",function(){return this.$raise(r.get("NotImplementedError"))});a.defn(c,"$getbyte",function(){return this.$raise(r.get("NotImplementedError"))});a.defn(c,"$bytesize",function(){return this.$raise(r.get("NotImplementedError"))});(function(a,$super){function b(){}b=u(a,$super,"EncodingError",b);return x})(r.base,r.get("StandardError"));return function(a,$super){function b(){}b=u(a,$super,"CompatibilityError",
b);return x}(r.base,r.get("EncodingError"))})(a.base,null);(n=(l=a.get("Encoding")).$register,n.$$p=(g=function(){var b=g.$$s||this,f;a.def(b,"$each_byte",f=function(b){var c,e=f.$$p||x;f.$$p=null;for(var r=0,h=b.length;r<h;r++){var d=b.charCodeAt(r);if(127>=d)(c=a.yield1(e,d))===y?y.$v:c;else for(var d=encodeURIComponent(b.charAt(r)).substr(1).split("%"),g=0,w=d.length;g<w;g++)(c=a.yield1(e,parseInt(d[g],16)))===y?y.$v:c}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),x)&&
"bytesize"},g.$$s=A,g),n).call(l,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(n=(m=a.get("Encoding")).$register,n.$$p=(e=function(){var b=e.$$s||this,f;a.def(b,"$each_byte",f=function(b){var c,e=f.$$p||x;f.$$p=null;for(var r=0,h=b.length;r<h;r++){var d=b.charCodeAt(r);(c=a.yield1(e,d&255))===y?y.$v:c;(c=a.yield1(e,d>>8))===y?y.$v:c}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),x)&&"bytesize"},e.$$s=A,e),n).call(m,"UTF-16LE");(n=(c=a.get("Encoding")).$register,
n.$$p=(b=function(){var c=b.$$s||this,f;a.def(c,"$each_byte",f=function(b){var c,e=f.$$p||x;f.$$p=null;for(var r=0,h=b.length;r<h;r++)(c=a.yield1(e,b.charCodeAt(r)&255))===y?y.$v:c});return(a.def(c,"$bytesize",function(){return this.$bytes().$length()}),x)&&"bytesize"},b.$$s=A,b),n).call(c,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(b,$super){function k(){}var c=k=u(b,$super,"String",k),e=c.$$scope,r;c.$$proto.encoding=x;String.prototype.encoding=e.get("Encoding").$$scope.get("UTF_16LE");
a.defn(c,"$bytes",function(){return this.$each_byte().$to_a()});a.defn(c,"$bytesize",function(){return this.encoding.$bytesize(this)});a.defn(c,"$each_byte",r=function(){var a,d,b=r.$$p||x;r.$$p=null;if(b===x)return this.$enum_for("each_byte");(a=(d=this.encoding).$each_byte,a.$$p=b.$to_proc(),a).call(d,this);return this});a.defn(c,"$encode",function(a){return this.$dup().$force_encoding(a)});a.defn(c,"$encoding",function(){return this.encoding});a.defn(c,"$force_encoding",function(a){var d;a=e.get("Opal")["$coerce_to!"](a,
e.get("String"),"to_str");a=e.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(d=a["$nil?"]())===x||d.$$is_boolean&&1!=d||this.$raise(e.get("ArgumentError"),"unknown encoding name - "+a);d=new String(this);d.encoding=a;return d});return(a.defn(c,"$getbyte",function(a){return this.encoding.$getbyte(this,a)}),x)&&"getbyte"}(a.base,null)};
Opal.modules["corelib/math"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(l){l=n(l,"Math");var g=l.$$scope,m;a.cdecl(g,"E",Math.E);a.cdecl(g,"PI",Math.PI);a.cdecl(g,"DomainError",g.get("Class").$new(g.get("StandardError")));a.defs(l,"$checked",function(a){var c=q,b=arguments.length-1;0>b&&(b=0);for(var m=Array(b),c=0;c<
b;c++)m[c]=arguments[c+1];if(isNaN(m[0])||2==m.length&&isNaN(m[1]))return NaN;c=Math[a].apply(null,m);isNaN(c)&&this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return c});a.defs(l,"$float!",function(e){try{return this.$Float(e)}catch(c){if(a.rescue(c,[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(e,g.get("Float")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});a.defs(l,"$integer!",function(e){try{return this.$Integer(e)}catch(c){if(a.rescue(c,
[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(e,g.get("Integer")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});l.$module_function();a.defn(l,"$acos",function(a){return g.get("Math").$checked("acos",g.get("Math")["$float!"](a))});if((m="undefined"!==typeof Math.acosh)===q||m.$$is_boolean&&1!=m)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(l,"$acosh",function(a){return g.get("Math").$checked("acosh",g.get("Math")["$float!"](a))});
a.defn(l,"$asin",function(a){return g.get("Math").$checked("asin",g.get("Math")["$float!"](a))});if((m="undefined"!==typeof Math.asinh)===q||m.$$is_boolean&&1!=m)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(l,"$asinh",function(a){return g.get("Math").$checked("asinh",g.get("Math")["$float!"](a))});a.defn(l,"$atan",function(a){return g.get("Math").$checked("atan",g.get("Math")["$float!"](a))});a.defn(l,"$atan2",function(a,c){return g.get("Math").$checked("atan2",g.get("Math")["$float!"](a),
g.get("Math")["$float!"](c))});if((m="undefined"!==typeof Math.atanh)===q||m.$$is_boolean&&1!=m)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};a.defn(l,"$atanh",function(a){return g.get("Math").$checked("atanh",g.get("Math")["$float!"](a))});if((m="undefined"!==typeof Math.cbrt)===q||m.$$is_boolean&&1!=m)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=
2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)};a.defn(l,"$cbrt",function(a){return g.get("Math").$checked("cbrt",g.get("Math")["$float!"](a))});a.defn(l,"$cos",function(a){return g.get("Math").$checked("cos",g.get("Math")["$float!"](a))});if((m="undefined"!==typeof Math.cosh)===q||m.$$is_boolean&&1!=m)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(l,"$cosh",function(a){return g.get("Math").$checked("cosh",g.get("Math")["$float!"](a))});
if((m="undefined"!==typeof Math.erf)===q||m.$$is_boolean&&1!=m)Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))};a.defn(l,"$erf",function(a){return g.get("Math").$checked("erf",g.get("Math")["$float!"](a))});if((m="undefined"!==typeof Math.erfc)===q||m.$$is_boolean&&1!=m)Math.erfc=function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*
(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c};a.defn(l,"$erfc",function(a){return g.get("Math").$checked("erfc",g.get("Math")["$float!"](a))});a.defn(l,"$exp",function(a){return g.get("Math").$checked("exp",g.get("Math")["$float!"](a))});a.defn(l,"$frexp",function(a){a=g.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]});a.defn(l,
"$gamma",function(a){a=g.get("Math")["$float!"](a);var c,b,m,n;m=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "gamma"');
if(g.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*g.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return b=a*a,c=b*a,m=c*a,n=m*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*c)-571/(2488320*m)+163879/(209018880*n)+5246819/(75246796800*n*a));--a;b=m[0];for(c=1;c<m.length;++c)b+=m[c]/
(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*b});if((m="undefined"!==typeof Math.hypot)===q||m.$$is_boolean&&1!=m)Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)};a.defn(l,"$hypot",function(a,c){return g.get("Math").$checked("hypot",g.get("Math")["$float!"](a),g.get("Math")["$float!"](c))});a.defn(l,"$ldexp",function(a,c){a=g.get("Math")["$float!"](a);c=g.get("Math")["$integer!"](c);isNaN(c)&&this.$raise(g.get("RangeError"),"float NaN out of range of integer");
return a*Math.pow(2,c)});a.defn(l,"$lgamma",function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(g.get("Math").$gamma(a))),0>g.get("Math").$gamma(a)?-1:1]});a.defn(l,"$log",function(a,c){var b;(b=g.get("String")["$==="](a))===q||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));if((b=null==c)===q||b.$$is_boolean&&1!=b){(b=g.get("String")["$==="](c))===q||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(c,g.get("Float")));b=g.get("Math").$checked("log",g.get("Math")["$float!"](a));
var m=g.get("Math").$checked("log",g.get("Math")["$float!"](c));return"number"===typeof b&&"number"===typeof m?b/m:b["$/"](m)}return g.get("Math").$checked("log",g.get("Math")["$float!"](a))});if((m="undefined"!==typeof Math.log10)===q||m.$$is_boolean&&1!=m)Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(l,"$log10",function(a){var c;(c=g.get("String")["$==="](a))===q||c.$$is_boolean&&1!=c||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log10",g.get("Math")["$float!"](a))});
if((m="undefined"!==typeof Math.log2)===q||m.$$is_boolean&&1!=m)Math.log2=function(a){return Math.log(a)/Math.LN2};a.defn(l,"$log2",function(a){var c;(c=g.get("String")["$==="](a))===q||c.$$is_boolean&&1!=c||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log2",g.get("Math")["$float!"](a))});a.defn(l,"$sin",function(a){return g.get("Math").$checked("sin",g.get("Math")["$float!"](a))});if((m="undefined"!==typeof Math.sinh)===q||m.$$is_boolean&&1!=m)Math.sinh=
function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(l,"$sinh",function(a){return g.get("Math").$checked("sinh",g.get("Math")["$float!"](a))});a.defn(l,"$sqrt",function(a){return g.get("Math").$checked("sqrt",g.get("Math")["$float!"](a))});a.defn(l,"$tan",function(a){var c;a=g.get("Math")["$float!"](a);return(c=a["$infinite?"]())===q||c.$$is_boolean&&1!=c?g.get("Math").$checked("tan",g.get("Math")["$float!"](a)):g.get("Float").$$scope.get("NAN")});if((m="undefined"!==typeof Math.tanh)===q||m.$$is_boolean&&
1!=m)Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(l,"$tanh",function(a){return g.get("Math").$checked("tanh",g.get("Math")["$float!"](a))})}(a.base)};
Opal.modules["corelib/complex"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var m=a.top,e=a.nil,c=a.klass,b=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
m.$require("corelib/numeric");(function(b,$super){function m(){}var u=m=c(b,$super,"Complex",m),p=u.$$proto,t=u.$$scope;p.real=p.imag=e;a.defs(u,"$rect",function(a,b){var c,v,r,h;null==b&&(b=0);((c=(v=(r=(h=t.get("Numeric")["$==="](a),!1!==h&&h!==e?a["$real?"]():h),!1!==r&&r!==e?t.get("Numeric")["$==="](b):r),!1!==v&&v!==e?b["$real?"]():v))===e||c.$$is_boolean&&1!=c)&&this.$raise(t.get("TypeError"),"not a real");return this.$new(a,b)});(function(b){return a.alias(b,"rectangular","rect")})(a.get_singleton_class(u));
a.defs(u,"$polar",function(a,b){var c,v,r,h;null==b&&(b=0);((c=(v=(r=(h=t.get("Numeric")["$==="](a),!1!==h&&h!==e?a["$real?"]():h),!1!==r&&r!==e?t.get("Numeric")["$==="](b):r),!1!==v&&v!==e?b["$real?"]():v))===e||c.$$is_boolean&&1!=c)&&this.$raise(t.get("TypeError"),"not a real");return this.$new(q(a,t.get("Math").$cos(b)),q(a,t.get("Math").$sin(b)))});u.$attr_reader("real","imag");a.defn(u,"$initialize",function(a,b){null==b&&(b=0);this.real=a;return this.imag=b});a.defn(u,"$coerce",function(a){var b,
c;return(b=t.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=t.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$raise(t.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[t.get("Complex").$new(a,0),this]:[a,this]});a.defn(u,"$==",function(a){var b,c;return(b=t.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=t.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?a["$=="](this):this.real["$=="](a)?
this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())});a.defn(u,"$-@",function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())});a.defn(u,"$+",function(a){var b,c;return(b=t.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=t.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("+",a):this.$Complex(n(this.real,a),this.imag):this.$Complex(n(this.real,a.$real()),
n(this.imag,a.$imag()))});a.defn(u,"$-",function(a){var b,c;return(b=t.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=t.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("-",a):this.$Complex(l(this.real,a),this.imag):this.$Complex(l(this.real,a.$real()),l(this.imag,a.$imag()))});a.defn(u,"$*",function(a){var b,c;return(b=t.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=t.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():
c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("*",a):this.$Complex(q(this.real,a),q(this.imag,a)):this.$Complex(l(q(this.real,a.$real()),q(this.imag,a.$imag())),n(q(this.real,a.$imag()),q(this.imag,a.$real())))});a.defn(u,"$/",function(a){var b,c,v,r,h;return(b=t.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=t.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(b=!1!==(c=!1!==
(v=!1!==(r=(h=t.get("Number")["$==="](this.real),!1!==h&&h!==e?this.real["$nan?"]():h))&&r!==e?r:(h=t.get("Number")["$==="](this.imag),!1!==h&&h!==e?this.imag["$nan?"]():h))&&v!==e?v:(r=t.get("Number")["$==="](a.$real()),!1!==r&&r!==e?a.$real()["$nan?"]():r))&&c!==e?c:(v=t.get("Number")["$==="](a.$imag()),!1!==v&&v!==e?a.$imag()["$nan?"]():v))===e||b.$$is_boolean&&1!=b?g(q(this,a.$conj()),a.$abs2()):t.get("Complex").$new(t.get("Float").$$scope.get("NAN"),t.get("Float").$$scope.get("NAN"))});a.defn(u,
"$**",function(b){var k,c,v,r,h,d=e,m=e,w=e,p=e,u=e,p=w=m=d=u=d=e;if(b["$=="](0))return t.get("Complex").$new(1,0);if((k=t.get("Complex")["$==="](b))===e||k.$$is_boolean&&1!=k){if((k=t.get("Integer")["$==="](b))===e||k.$$is_boolean&&1!=k){if((k=!1!==(c=t.get("Float")["$==="](b))&&c!==e?c:t.get("Rational")["$==="](b))===e||k.$$is_boolean&&1!=k)return this.$__coerced__("**",b);c=this.$polar();k=a.to_ary(c);d=null==k[0]?e:k[0];m=null==k[1]?e:k[1];c;return t.get("Complex").$polar(d["$**"](b),q(m,b))}if((k=
"number"===typeof b?0<b:b["$>"](0))===e||k.$$is_boolean&&1!=k)return g(t.get("Rational").$new(1,1),this)["$**"](b["$-@"]());d=u=this;for(m=l(b,1);(c=m["$!="](0))!==e&&(!c.$$is_boolean||1==c);){for(;(v=(h=m.$divmod(2),r=a.to_ary(h),w=null==r[0]?e:r[0],p=null==r[1]?e:r[1],h,p["$=="](0)))!==e&&(!v.$$is_boolean||1==v);)u=this.$Complex(l(q(u.$real(),u.$real()),q(u.$imag(),u.$imag())),q(q(2,u.$real()),u.$imag())),m=w;d=q(d,u);m=l(m,1)}return d}c=this.$polar();k=a.to_ary(c);d=null==k[0]?e:k[0];m=null==k[1]?
e:k[1];c;w=b.$real();p=b.$imag();u=t.get("Math").$exp(l(q(w,t.get("Math").$log(d)),q(p,m)));d=n(q(m,w),q(p,t.get("Math").$log(d)));return t.get("Complex").$polar(u,d)});a.defn(u,"$abs",function(){return t.get("Math").$hypot(this.real,this.imag)});a.defn(u,"$abs2",function(){return n(q(this.real,this.real),q(this.imag,this.imag))});a.defn(u,"$angle",function(){return t.get("Math").$atan2(this.imag,this.real)});a.alias(u,"arg","angle");a.defn(u,"$conj",function(){return this.$Complex(this.real,this.imag["$-@"]())});
a.alias(u,"conjugate","conj");a.defn(u,"$denominator",function(){return this.real.$denominator().$lcm(this.imag.$denominator())});a.alias(u,"divide","/");a.defn(u,"$eql?",function(a){var b,c;return b=(c=t.get("Complex")["$==="](a),!1!==c&&c!==e?this.real.$class()["$=="](this.imag.$class()):c),!1!==b&&b!==e?this["$=="](a):b});a.defn(u,"$fdiv",function(a){var b;((b=t.get("Numeric")["$==="](a))===e||b.$$is_boolean&&1!=b)&&this.$raise(t.get("TypeError"),""+a.$class()+" can't be coerced into Complex");
return g(this,a)});a.defn(u,"$hash",function(){return"Complex:"+this.real+":"+this.imag});a.alias(u,"imaginary","imag");a.defn(u,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(u,"magnitude","abs");a.defn(u,"$numerator",function(){var a=e,a=this.$denominator();return this.$Complex(q(this.real.$numerator(),g(a,this.real.$denominator())),q(this.imag.$numerator(),g(a,this.imag.$denominator())))});a.alias(u,"phase","arg");a.defn(u,"$polar",function(){return[this.$abs(),this.$arg()]});a.alias(u,
"quo","/");a.defn(u,"$rationalize",function(a){var b;1<arguments.length&&this.$raise(t.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(b=this.imag["$!="](0))===e||b.$$is_boolean&&1!=b||this.$raise(t.get("RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)});a.defn(u,"$real?",function(){return!1});a.defn(u,"$rect",function(){return[this.real,this.imag]});a.alias(u,"rectangular","rect");a.defn(u,"$to_f",function(){this.imag["$=="](0)||
this.$raise(t.get("RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()});a.defn(u,"$to_i",function(){this.imag["$=="](0)||this.$raise(t.get("RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()});a.defn(u,"$to_r",function(){this.imag["$=="](0)||this.$raise(t.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()});a.defn(u,"$to_s",function(){var a,b,c,v=e,v=this.real.$inspect(),v=(a=!1!==(b=(c=t.get("Number")["$==="](this.imag),
!1!==c&&c!==e?this.imag["$nan?"]():c))&&b!==e?b:this.imag["$positive?"]())===e||a.$$is_boolean&&1!=a?n(v,"-"):n(v,"+"),v=n(v,this.imag.$abs().$inspect());(a=(b=t.get("Number")["$==="](this.imag),!1!==b&&b!==e?!1!==(c=this.imag["$nan?"]())&&c!==e?c:this.imag["$infinite?"]():b))===e||a.$$is_boolean&&1!=a||(v=n(v,"*"));return n(v,"i")});return a.cdecl(t,"I",u.$new(0,1))})(a.base,a.get("Numeric"));return function(c){c=b(c,"Kernel");var g=c.$$scope;a.defn(c,"$Complex",function(a,b){null==b&&(b=e);return!1!==
b&&b!==e?g.get("Complex").$new(a,b):g.get("Complex").$new(a,0)})}(a.base)};
Opal.modules["corelib/rational"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=a.top,c=a.nil,b=a.klass,
A=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));e.$require("corelib/numeric");(function(e,$super){function u(){}var p=u=b(e,$super,"Rational",u),t=p.$$proto,f=p.$$scope;t.num=t.den=c;a.defs(p,"$reduce",function(a,b){var e,r=c;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(f.get("ZeroDivisionError"),
"divided by 0");else if((e=q(b,0))!==c&&(!e.$$is_boolean||1==e))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);r=a.$gcd(b);return this.$new(n(a,r),n(b,r))});a.defs(p,"$convert",function(a,b){var e,r,h;(e=!1!==(r=a["$nil?"]())&&r!==c?r:b["$nil?"]())===c||e.$$is_boolean&&1!=e||this.$raise(f.get("TypeError"),"cannot convert nil into Rational");if((e=(r=f.get("Integer")["$==="](a),!1!==r&&r!==c?f.get("Integer")["$==="](b):r))!==c&&(!e.$$is_boolean||1==e))return this.$reduce(a,b);
(e=!1!==(r=!1!==(h=f.get("Float")["$==="](a))&&h!==c?h:f.get("String")["$==="](a))&&r!==c?r:f.get("Complex")["$==="](a))===c||e.$$is_boolean&&1!=e||(a=a.$to_r());(e=!1!==(r=!1!==(h=f.get("Float")["$==="](b))&&h!==c?h:f.get("String")["$==="](b))&&r!==c?r:f.get("Complex")["$==="](b))===c||e.$$is_boolean&&1!=e||(b=b.$to_r());return(e=(r=b["$equal?"](1),!1!==r&&r!==c?f.get("Integer")["$==="](a)["$!"]():r))===c||e.$$is_boolean&&1!=e?(e=(r=f.get("Numeric")["$==="](a),!1!==r&&r!==c?f.get("Numeric")["$==="](b):
r))===c||e.$$is_boolean&&1!=e?this.$reduce(a,b):n(a,b):f.get("Opal")["$coerce_to!"](a,f.get("Rational"),"to_r")});p.$attr_reader("numerator","denominator");a.defn(p,"$initialize",function(a,b){this.num=a;return this.den=b});a.defn(p,"$numerator",function(){return this.num});a.defn(p,"$denominator",function(){return this.den});a.defn(p,"$coerce",function(a){var b=c,b=a;return f.get("Rational")["$==="](b)?[a,this]:f.get("Integer")["$==="](b)?[a.$to_r(),this]:f.get("Float")["$==="](b)?[a,this.$to_f()]:
c});a.defn(p,"$==",function(a){var b=c,b=a;return f.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):f.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):f.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)});a.defn(p,"$<=>",function(a){var b=c,b=a;return f.get("Rational")["$==="](b)?l(g(this.num,a.$denominator()),g(this.den,a.$numerator()))["$<=>"](0):f.get("Integer")["$==="](b)?
l(this.num,g(this.den,a))["$<=>"](0):f.get("Float")["$==="](b)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)});a.defn(p,"$+",function(a){var b=c,e=b=c;b=a;f.get("Rational")["$==="](b)?(b=m(g(this.num,a.$denominator()),g(this.den,a.$numerator())),e=g(this.den,a.$denominator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?this.$Rational(m(this.num,g(a,this.den)),this.den):f.get("Float")["$==="](b)?m(this.$to_f(),a):this.$__coerced__("+",a);return a});a.defn(p,"$-",function(a){var b=c,e=
b=c;b=a;f.get("Rational")["$==="](b)?(b=l(g(this.num,a.$denominator()),g(this.den,a.$numerator())),e=g(this.den,a.$denominator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?this.$Rational(l(this.num,g(a,this.den)),this.den):f.get("Float")["$==="](b)?l(this.$to_f(),a):this.$__coerced__("-",a);return a});a.defn(p,"$*",function(a){var b=c,e=b=c;b=a;f.get("Rational")["$==="](b)?(b=g(this.num,a.$numerator()),e=g(this.den,a.$denominator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?
this.$Rational(g(this.num,a),this.den):f.get("Float")["$==="](b)?g(this.$to_f(),a):this.$__coerced__("*",a);return a});a.defn(p,"$/",function(a){var b=c,e=b=c;b=a;f.get("Rational")["$==="](b)?(b=g(this.num,a.$denominator()),e=g(this.den,a.$numerator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?a["$=="](0)?n(this.$to_f(),0):this.$Rational(this.num,g(this.den,a)):f.get("Float")["$==="](b)?n(this.$to_f(),a):this.$__coerced__("/",a);return a});a.defn(p,"$**",function(a){var b,e=c,e=a;return f.get("Integer")["$==="](e)?
(b=this["$=="](0)?q(a,0):this["$=="](0))===c||b.$$is_boolean&&1!=b?(b="number"===typeof a?0<a:a["$>"](0))===c||b.$$is_boolean&&1!=b?(b=q(a,0))===c||b.$$is_boolean&&1!=b?this.$Rational(1,1):this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(this.num["$**"](a),this.den["$**"](a)):f.get("Float").$$scope.get("INFINITY"):f.get("Float")["$==="](e)?this.$to_f()["$**"](a):f.get("Rational")["$==="](e)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?(b=q(a,0))===
c||b.$$is_boolean&&1!=b?this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):(b=this["$=="](0)?q(a,0):this["$=="](0))===c||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(f.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",a)});a.defn(p,"$abs",function(){return this.$Rational(this.num.$abs(),this.den.$abs())});a.defn(p,"$ceil",function(a){null==a&&(a=0);return a["$=="](0)?
n(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)});a.alias(p,"divide","/");a.defn(p,"$floor",function(a){null==a&&(a=0);return a["$=="](0)?n(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)});a.defn(p,"$hash",function(){return"Rational:"+this.num+":"+this.den});a.defn(p,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(p,"quo","/");a.defn(p,"$rationalize",function(a){1<arguments.length&&this.$raise(f.get("ArgumentError"),"wrong number of arguments ("+
arguments.length+" for 0..1)");if(null==a)return this;for(var b=a.$abs(),c=l(this,b),b=m(this,b),e=0,h=1,d=1,g=0,w,t,p;;){w=c.$ceil();if("number"===typeof w&&"number"===typeof b?w<=b:w["$<="](b))break;p=w-1;w=p*h+e;t=p*g+d;e=n(1,l(b,p));b=n(1,l(c,p));c=e;e=h;d=g;h=w;g=t}return this.$Rational(w*h+e,w*g+d)});a.defn(p,"$round",function(a){var b,f=c,e=c,f=c;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;f=m(g(this.num.$abs(),
2),this.den);e=g(this.den,2);f=n(f,e).$truncate();return(b=q(this.num,0))===c||b.$$is_boolean&&1!=b?f:f["$-@"]()});a.defn(p,"$to_f",function(){return n(this.num,this.den)});a.defn(p,"$to_i",function(){return this.$truncate()});a.defn(p,"$to_r",function(){return this});a.defn(p,"$to_s",function(){return""+this.num+"/"+this.den});a.defn(p,"$truncate",function(a){var b;null==a&&(a=0);return a["$=="](0)?(b=q(this.num,0))===c||b.$$is_boolean&&1!=b?this.$floor():this.$ceil():this.$with_precision("truncate",
a)});return(a.defn(p,"$with_precision",function(a,b){var e,r=c,h=c;((e=f.get("Integer")["$==="](b))===c||e.$$is_boolean&&1!=e)&&this.$raise(f.get("TypeError"),"not an Integer");r=10["$**"](b);h=g(this,r);return(e=q(b,1))===c||e.$$is_boolean&&1!=e?this.$Rational(h.$send(a),r):n(h.$send(a),r).$to_i()}),c)&&"with_precision"})(a.base,a.get("Numeric"));return function(b){b=A(b,"Kernel");var c=b.$$scope;a.defn(b,"$Rational",function(a,b){null==b&&(b=1);return c.get("Rational").$convert(a,b)})}(a.base)};
Opal.modules["corelib/time"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var m=a.top,e=a.nil,c=a.slice,b=a.klass,A=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
m.$require("corelib/comparable");return function(m,$super){function u(){}function p(a,b,k,c,r,v){a=a.$$is_string?parseInt(a,10):f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int");if(b===e)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case "jan":b=1;break;case "feb":b=2;break;case "mar":b=3;break;case "apr":b=4;break;case "may":b=5;break;case "jun":b=6;break;case "jul":b=7;break;case "aug":b=8;break;case "sep":b=9;break;case "oct":b=10;break;
case "nov":b=11;break;case "dec":b=12;break;default:b=b.$to_i()}else b=f.get("Opal")["$coerce_to!"](b,f.get("Integer"),"to_int");(1>b||12<b)&&t.$raise(f.get("ArgumentError"),"month out of range: "+b);--b;k=k===e?1:k.$$is_string?parseInt(k,10):f.get("Opal")["$coerce_to!"](k,f.get("Integer"),"to_int");(1>k||31<k)&&t.$raise(f.get("ArgumentError"),"day out of range: "+k);c=c===e?0:c.$$is_string?parseInt(c,10):f.get("Opal")["$coerce_to!"](c,f.get("Integer"),"to_int");(0>c||24<c)&&t.$raise(f.get("ArgumentError"),
"hour out of range: "+c);r=r===e?0:r.$$is_string?parseInt(r,10):f.get("Opal")["$coerce_to!"](r,f.get("Integer"),"to_int");(0>r||59<r)&&t.$raise(f.get("ArgumentError"),"min out of range: "+r);v===e?v=0:v.$$is_number||(v=v.$$is_string?parseInt(v,10):f.get("Opal")["$coerce_to!"](v,f.get("Integer"),"to_int"));(0>v||60<v)&&t.$raise(f.get("ArgumentError"),"sec out of range: "+v);return[a,b,k,c,r,v]}var t=u=b(m,$super,"Time",u),f=t.$$scope;t.$include(f.get("Comparable"));var k="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
B="Sun Mon Tue Wed Thu Fri Sat".split(" "),v="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),r="January February March April May June July August September October November December".split(" ");a.defs(t,"$at",function(a,b){var k;if(f.get("Time")["$==="](a))return void 0!==b&&this.$raise(f.get("TypeError"),"can't convert Time into an exact number"),k=new Date(a.getTime()),k.is_utc=a.is_utc,k;a.$$is_number||(a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int"));if(void 0===b)return new Date(1E3*
a);b.$$is_number||(b=f.get("Opal")["$coerce_to!"](b,f.get("Integer"),"to_int"));return new Date(1E3*a+b/1E3)});a.defs(t,"$new",function(a,b,k,c,r,v,g){null==b&&(b=e);null==k&&(k=e);null==c&&(c=e);null==r&&(r=e);null==v&&(v=e);null==g&&(g=e);if(void 0===a)return new Date;g!==e&&this.$raise(f.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");v=p(a,b,k,c,r,v);a=v[0];b=v[1];k=v[2];c=v[3];r=v[4];v=v[5];b=new Date(a,b,k,c,r,0,1E3*v);100>a&&b.setFullYear(a);return b});
a.defs(t,"$local",function(a,b,f,k,v,r,g,m,t,n){null==b&&(b=e);null==f&&(f=e);null==k&&(k=e);null==v&&(v=e);null==r&&(r=e);null==g&&(g=e);null==m&&(m=e);null==t&&(t=e);null==n&&(n=e);var l;10===arguments.length&&(l=c.call(arguments),a=l[5],b=l[4],f=l[3],k=l[2],v=l[1],r=l[0]);l=p(a,b,f,k,v,r);a=l[0];b=l[1];f=l[2];k=l[3];v=l[4];r=l[5];l=new Date(a,b,f,k,v,0,1E3*r);100>a&&l.setFullYear(a);return l});a.defs(t,"$gm",function(a,b,f,k,v,r,g,m,t,n){null==b&&(b=e);null==f&&(f=e);null==k&&(k=e);null==v&&(v=
e);null==r&&(r=e);null==g&&(g=e);null==m&&(m=e);null==t&&(t=e);null==n&&(n=e);var l;10===arguments.length&&(l=c.call(arguments),a=l[5],b=l[4],f=l[3],k=l[2],v=l[1],r=l[0]);l=p(a,b,f,k,v,r);a=l[0];b=l[1];f=l[2];k=l[3];v=l[4];r=l[5];l=new Date(Date.UTC(a,b,f,k,v,0,1E3*r));100>a&&l.setUTCFullYear(a);l.is_utc=!0;return l});(function(b){a.alias(b,"mktime","local");return a.alias(b,"utc","gm")})(a.get_singleton_class(t));a.defs(t,"$now",function(){return this.$new()});a.defn(t,"$+",function(a){var b;(b=
f.get("Time")["$==="](a))===e||b.$$is_boolean&&1!=b||this.$raise(f.get("TypeError"),"time + time?");a.$$is_number||(a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a});a.defn(t,"$-",function(a){var b;if((b=f.get("Time")["$==="](a))!==e&&(!b.$$is_boolean||1==b))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;
return a});a.defn(t,"$<=>",function(a){var b,k=e;return(b=f.get("Time")["$==="](a))===e||b.$$is_boolean&&1!=b?(k=a["$<=>"](this),(b=k["$nil?"]())===e||b.$$is_boolean&&1!=b?(b="number"===typeof k?0<k:k["$>"](0))===e||b.$$is_boolean&&1!=b?(b="number"===typeof k?0>k:k["$<"](0))===e||b.$$is_boolean&&1!=b?0:1:-1:e):this.$to_f()["$<=>"](a.$to_f())});a.defn(t,"$==",function(a){return this.$to_f()===a.$to_f()});a.defn(t,"$asctime",function(){return this.$strftime("%a %b %e %H:%M:%S %Y")});a.alias(t,"ctime",
"asctime");a.defn(t,"$day",function(){return this.is_utc?this.getUTCDate():this.getDate()});a.defn(t,"$yday",function(){var a=e,b=e,k=e,a=f.get("Time").$new(this.$year()).$to_i(),b=f.get("Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),k=86400;return q(n(l(b,a),k).$round(),1)});a.defn(t,"$isdst",function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())});a.alias(t,"dst?","isdst");
a.defn(t,"$dup",function(){var a=e,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(t,"$eql?",function(a){var b;return b=a["$is_a?"](f.get("Time")),!1!==b&&b!==e?this["$<=>"](a)["$zero?"]():b});a.defn(t,"$friday?",function(){return 5==this.$wday()});a.defn(t,"$hash",function(){return"Time:"+this.getTime()});a.defn(t,"$hour",function(){return this.is_utc?this.getUTCHours():this.getHours()});a.defn(t,"$inspect",function(){var a;return(a=this["$utc?"]())===
e||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")});a.alias(t,"mday","day");a.defn(t,"$min",function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()});a.defn(t,"$mon",function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1});a.defn(t,"$monday?",function(){return 1==this.$wday()});a.alias(t,"month","mon");a.defn(t,"$saturday?",function(){return 6==this.$wday()});a.defn(t,"$sec",function(){return this.is_utc?this.getUTCSeconds():
this.getSeconds()});a.defn(t,"$succ",function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a});a.defn(t,"$usec",function(){return 1E3*this.getMilliseconds()});a.defn(t,"$zone",function(){var a=this.toString(),b;b=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:b});a.defn(t,"$getgm",function(){var a=new Date(this.getTime());a.is_utc=!0;return a});a.alias(t,"getutc","getgm");a.defn(t,"$gmtime",
function(){this.is_utc=!0;return this});a.alias(t,"utc","gmtime");a.defn(t,"$gmt?",function(){return!0===this.is_utc});a.defn(t,"$gmt_offset",function(){return 60*-this.getTimezoneOffset()});a.defn(t,"$strftime",function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,h,f,c,e){c="";var g=-1!==h.indexOf("0"),m=-1===h.indexOf("-"),t=-1!==h.indexOf("_"),p=-1!==h.indexOf("^"),n=-1!==h.indexOf("#"),l=(h.match(":")||[]).length;f=parseInt(f,10);g&&t&&(h.indexOf("0")<h.indexOf("_")?
g=!1:t=!1);switch(e){case "Y":c+=b.$year();break;case "C":g=!t;c+=Math.round(b.$year()/100);break;case "y":g=!t;c+=b.$year()%100;break;case "m":g=!t;c+=b.$mon();break;case "B":c+=r[b.$mon()-1];break;case "b":case "h":t=!g;c+=v[b.$mon()-1];break;case "d":g=!t;c+=b.$day();break;case "e":t=!g;c+=b.$day();break;case "j":c+=b.$yday();break;case "H":g=!t;c+=b.$hour();break;case "k":t=!g;c+=b.$hour();break;case "I":g=!t;c+=b.$hour()%12||12;break;case "l":t=!g;c+=b.$hour()%12||12;break;case "P":c+=12<=b.$hour()?
"pm":"am";break;case "p":c+=12<=b.$hour()?"PM":"AM";break;case "M":g=!t;c+=b.$min();break;case "S":g=!t;c+=b.$sec();break;case "L":g=!t;f=isNaN(f)?3:f;c+=b.getMilliseconds();break;case "N":f=isNaN(f)?9:f;c+=b.getMilliseconds().toString().$rjust(3,"0");c=c.$ljust(f,"0");break;case "z":a=b.getTimezoneOffset();h=Math.floor(Math.abs(a)/60);e=Math.abs(a)%60;c=c+(0>a?"+":"-")+(10>h?"0":"");c+=h;0<l&&(c+=":");c+=10>e?"0":"";c+=e;1<l&&(c+=":00");break;case "Z":c+=b.$zone();break;case "A":c+=k[b.$wday()];
break;case "a":c+=B[b.$wday()];break;case "u":c+=b.$wday()+1;break;case "w":c+=b.$wday();break;case "V":c+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":c+=b.$cweek_cyear()["$[]"](1);break;case "g":c+=b.$cweek_cyear()["$[]"](1)["$[]"](A(-2,-1,!1));break;case "s":c+=b.$to_i();break;case "n":c+="\n";break;case "t":c+="\t";break;case "%":c+="%";break;case "c":c+=b.$strftime("%a %b %e %T %Y");break;case "D":case "x":c+=b.$strftime("%m/%d/%y");break;case "F":c+=b.$strftime("%Y-%m-%d");
break;case "v":c+=b.$strftime("%e-%^b-%4Y");break;case "r":c+=b.$strftime("%I:%M:%S %p");break;case "R":c+=b.$strftime("%H:%M");break;case "T":case "X":c+=b.$strftime("%H:%M:%S");break;default:return a}p&&(c=c.toUpperCase());n&&(c=c.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));m&&(g||t)&&(c=c.$rjust(isNaN(f)?2:f,t?" ":"0"));return c})});a.defn(t,"$sunday?",function(){return 0==this.$wday()});a.defn(t,"$thursday?",function(){return 4==this.$wday()});
a.defn(t,"$to_a",function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]});a.defn(t,"$to_f",function(){return this.getTime()/1E3});a.defn(t,"$to_i",function(){return parseInt(this.getTime()/1E3,10)});a.alias(t,"to_s","inspect");a.defn(t,"$tuesday?",function(){return 2==this.$wday()});a.alias(t,"tv_sec","sec");a.alias(t,"tv_usec","usec");a.alias(t,"utc?","gmt?");a.alias(t,"gmtoff","gmt_offset");a.alias(t,"utc_offset",
"gmt_offset");a.defn(t,"$wday",function(){return this.is_utc?this.getUTCDay():this.getDay()});a.defn(t,"$wednesday?",function(){return 3==this.$wday()});a.defn(t,"$year",function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()});return(a.defn(t,"$cweek_cyear",function(){var a,b,c=e,k=e,v=k=k=c=e,v=e,c=f.get("Time").$new(this.$year(),1,1),k=c.$wday(),c=this.$year();(a=(b=g(k,4),!1!==b&&b!==e?k["$!="](0):b))===e||a.$$is_boolean&&1!=a?(k=l(l(k,7),1),k["$=="](-8)&&(k=-1)):k=l(k,1);k=n(q(this.$yday(),
k),7).$ceil();if((a=g(k,0))!==e&&(!a.$$is_boolean||1==a))return f.get("Time").$new(l(this.$year(),1),12,31).$cweek_cyear();k["$=="](53)&&(v=f.get("Time").$new(this.$year(),12,31),v=v.$wday(),(a=(b=g(v,3),!1!==b&&b!==e?v["$!="](0):b))===e||a.$$is_boolean&&1!=a||(k=1,c=q(c,1)));return[k,c]}),e)&&"cweek_cyear"}(a.base,Date)};
Opal.modules["corelib/struct"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="warning";var g=a.top,m=a.nil,e=a.klass,c=a.hash2;a.add_stubs("$require $include $== $[] $upcase $const_set $new $unshift $each $define_struct_attribute $class_eval $to_proc $allocate $initialize $raise $<< $members $define_method $instance_eval $each_with_index $[]= $class $hash $=== $< $-@ $size $>= $coerce_to! $include? $to_sym $instance_of? $__id__ $eql? $enum_for $length $map $+ $join $inspect $each_pair $inject $flatten $to_a".split(" "));
g.$require("corelib/enumerable");return function(b,$super){function g(){}var y=g=e(b,$super,"Struct",g),u=y.$$scope,p,t,f;y.$include(u.get("Enumerable"));a.defs(y,"$new",p=function(b){var c,f,e,h=p.$$p,d=h||m,t=m,w=t=m,w=arguments.length-1;0>w&&(w=0);for(var l=Array(w),t=0;t<w;t++)l[t]=arguments[t+1];p.$$p=null;t=[];for(w=0;w<arguments.length;w++)t[w]=arguments[w];if(!this["$=="](u.get("Struct")))return a.find_super_dispatcher(this,"new",p,h,g).apply(this,t);if(b["$[]"](0)["$=="](b["$[]"](0).$upcase()))return u.get("Struct").$const_set(b,
this.$new.apply(this,a.to_a(l)));l.$unshift(b);return(c=(f=u.get("Class")).$new,c.$$p=(e=function(){var b=e.$$s||this,h,c;(h=l.$each,h.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=m);return b.$define_struct_attribute(a)},c.$$s=b,c),h).call(l);!1!==d&&d!==m&&(h=b.$class_eval,h.$$p=d.$to_proc(),h).call(b);return function(b){a.defn(b,"$new",function(){var b,d=m,d=m,h=arguments.length-0;0>h&&(h=0);for(var c=Array(h),d=0;d<h;d++)c[d]=arguments[d+0];d=this.$allocate();d.$$data={};(b=d).$initialize.apply(b,
a.to_a(c));return d});return a.alias(b,"[]","new")}(a.get_singleton_class(b))},e.$$s=this,e),c).call(f,this)});a.defs(y,"$define_struct_attribute",function(a){var b,c,f;this["$=="](u.get("Struct"))&&this.$raise(u.get("ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);(b=this.$define_method,b.$$p=(c=function(){return(c.$$s||this).$$data[a]},c.$$s=this,c),b).call(this,a);return(b=this.$define_method,b.$$p=(f=function(b){var d=f.$$s||this;null==b&&(b=m);return d.$$data[a]=
b},f.$$s=this,f),b).call(this,""+a+"=")});a.defs(y,"$members",function(){var a;null==this.members&&(this.members=m);this["$=="](u.get("Struct"))&&this.$raise(u.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&a!==m?a:this.members=[]});a.defs(y,"$inherited",function(a){var b,c,f=m;null==this.members&&(this.members=m);f=this.members;return(b=a.$instance_eval,b.$$p=(c=function(){return(c.$$s||this).members=f},c.$$s=this,c),b).call(a)});a.defn(y,"$initialize",function(){var a,
b,c,f=m,h=arguments.length-0;0>h&&(h=0);for(var d=Array(h),f=0;f<h;f++)d[f]=arguments[f+0];return(a=(b=this.$members()).$each_with_index,a.$$p=(c=function(a,b){var h=c.$$s||this;null==a&&(a=m);null==b&&(b=m);return h["$[]="](a,d["$[]"](b))},c.$$s=this,c),a).call(b)});a.defn(y,"$members",function(){return this.$class().$members()});a.defn(y,"$hash",function(){return u.get("Hash").$new(this.$$data).$hash()});a.defn(y,"$[]",function(a){var b;(b=u.get("Integer")["$==="](a))===m||b.$$is_boolean&&1!=b?
(b=u.get("String")["$==="](a))===m||b.$$is_boolean&&1!=b?this.$raise(u.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):this.$$data.hasOwnProperty(a)||this.$raise(u.get("NameError").$new("no member '"+a+"' in struct",a)):((b=q(a,this.$members().$size()["$-@"]()))===m||b.$$is_boolean&&1!=b||this.$raise(u.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),(b=n(a,this.$members().$size()))===m||b.$$is_boolean&&1!=b||this.$raise(u.get("IndexError"),
"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));a=u.get("Opal")["$coerce_to!"](a,u.get("String"),"to_str");return this.$$data[a]});a.defn(y,"$[]=",function(a,b){var c;(c=u.get("Integer")["$==="](a))===m||c.$$is_boolean&&1!=c?(c=u.get("String")["$==="](a))===m||c.$$is_boolean&&1!=c?this.$raise(u.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((c=this.$members()["$include?"](a.$to_sym()))===m||c.$$is_boolean&&1!=c)&&this.$raise(u.get("NameError").$new("no member '"+
a+"' in struct",a)):((c=q(a,this.$members().$size()["$-@"]()))===m||c.$$is_boolean&&1!=c||this.$raise(u.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),(c=n(a,this.$members().$size()))===m||c.$$is_boolean&&1!=c||this.$raise(u.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));a=u.get("Opal")["$coerce_to!"](a,u.get("String"),"to_str");return this.$$data[a]=b});a.defn(y,"$==",function(a){function b(a,
c){var k,e,g;f[a.$__id__()]=!0;h[c.$__id__()]=!0;for(k in a.$$data)if(e=a.$$data[k],g=c.$$data[k],u.get("Struct")["$==="](e)){if(!(f.hasOwnProperty(e.$__id__())&&h.hasOwnProperty(g.$__id__())||b(e,g)))return!1}else if(!e["$=="](g))return!1;return!0}var c;if((c=a["$instance_of?"](this.$class()))===m||c.$$is_boolean&&1!=c)return!1;var f={},h={};return b(this,a)});a.defn(y,"$eql?",function(a){function b(a,c){var k,e,g;f[a.$__id__()]=!0;h[c.$__id__()]=!0;for(k in a.$$data)if(e=a.$$data[k],g=c.$$data[k],
u.get("Struct")["$==="](e)){if(!(f.hasOwnProperty(e.$__id__())&&h.hasOwnProperty(g.$__id__())||b(e,g)))return!1}else if(!e["$eql?"](g))return!1;return!0}var c;if((c=a["$instance_of?"](this.$class()))===m||c.$$is_boolean&&1!=c)return!1;var f={},h={};return b(this,a)});a.defn(y,"$each",t=function(){var b,c,f,e,h=t.$$p||m;t.$$p=null;if(h===m)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),b).call(this,"each");(b=(f=this.$members()).$each,b.$$p=(e=function(b){var c=
e.$$s||this,f;null==b&&(b=m);return f=a.yield1(h,c["$[]"](b)),f},e.$$s=this,e),b).call(f);return this});a.defn(y,"$each_pair",f=function(){var b,c,e,g,h=f.$$p||m;f.$$p=null;if(h===m)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),b).call(this,"each_pair");(b=(e=this.$members()).$each,b.$$p=(g=function(b){var c=g.$$s||this,f;null==b&&(b=m);return f=a.yield1(h,[b,c["$[]"](b)]),f},g.$$s=this,g),b).call(e);return this});a.defn(y,"$length",function(){return this.$members().$length()});
a.alias(y,"size","length");a.defn(y,"$to_a",function(){var a,b,c;return(a=(b=this.$members()).$map,a.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=m);return b["$[]"](a)},c.$$s=this,c),a).call(b)});a.alias(y,"values","to_a");a.defn(y,"$inspect",function(){var a,b,c,f=m,f="#<struct ";this.$class()["$=="](u.get("Struct"))&&(f=l(f,""+this.$class()+" "));f=l(f,(a=(b=this.$each_pair()).$map,a.$$p=(c=function(a,b){null==a&&(a=m);null==b&&(b=m);return""+a+"="+b.$inspect()},c.$$s=this,c),a).call(b).$join(", "));
return f=l(f,">")});a.alias(y,"to_s","inspect");a.defn(y,"$to_h",function(){var a,b,f;return(a=(b=this.$members()).$inject,a.$$p=(f=function(a,b){var d=f.$$s||this;null==a&&(a=m);null==b&&(b=m);a["$[]="](b,d["$[]"](b));return a},f.$$s=this,f),a).call(b,c([],{}))});return(a.defn(y,"$values_at",function(){var a,b,c,f=m,h=arguments.length-0;0>h&&(h=0);for(var d=Array(h),f=0;f<h;f++)d[f]=arguments[f+0];d=(a=(b=d).$map,a.$$p=(c=function(a){null==a&&(a=m);return a.$$is_range?a.$to_a():a},c.$$s=this,c),
a).call(b).$flatten();a=[];b=0;for(c=d.length;b<c;b++)d[b].$$is_number||this.$raise(u.get("TypeError"),"no implicit conversion of "+d[b].$class()+" into Integer"),a.push(this["$[]"](d[b]));return a}),m)&&"values_at"}(a.base,null)};
Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var q,n,l=a.nil,g=a.klass,m=a.module,e=a.gvars;a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(c,$super){function n(){}var q=n=g(c,$super,"IO",n),y=q.$$proto,u=q.$$scope;y.tty=y.closed=l;a.cdecl(u,"SEEK_SET",0);a.cdecl(u,"SEEK_CUR",1);a.cdecl(u,"SEEK_END",2);a.defn(q,"$tty?",function(){return this.tty});a.defn(q,"$closed?",
function(){return this.closed});q.$attr_accessor("write_proc");a.defn(q,"$write",function(a){this.write_proc(a);return a.$size()});q.$attr_accessor("sync","tty");a.defn(q,"$flush",function(){return l});(function(c){c=m(c,"Writable");a.defn(c,"$<<",function(a){this.$write(a);return this});a.defn(c,"$print",function(){var a,c,k=l;null==e[","]&&(e[","]=l);var g=arguments.length-0;0>g&&(g=0);for(var v=Array(g),k=0;k<g;k++)v[k]=arguments[k+0];this.$write((a=v.$map,a.$$p=(c=function(a){var h=c.$$s||this;
null==a&&(a=l);return h.$String(a)},c.$$s=this,c),a).call(v).$join(e[","]));return l});a.defn(c,"$puts",function(){var a,c,k=l,k=l;null==e["/"]&&(e["/"]=l);var g=arguments.length-0;0>g&&(g=0);for(var v=Array(g),k=0;k<g;k++)v[k]=arguments[k+0];k=e["/"];(a=v["$empty?"]())===l||a.$$is_boolean&&1!=a?this.$write((a=v.$map,a.$$p=(c=function(a){var h=c.$$s||this;null==a&&(a=l);return h.$String(a).$chomp()},c.$$s=this,c),a).call(v).$concat([l]).$join(k)):this.$write(e["/"]);return l})})(u.base);return function(c){c=
m(c,"Readable");var g=c.$$scope;a.defn(c,"$readbyte",function(){return this.$getbyte()});a.defn(c,"$readchar",function(){return this.$getc()});a.defn(c,"$readline",function(a){null==e["/"]&&(e["/"]=l);return this.$raise(g.get("NotImplementedError"))});a.defn(c,"$readpartial",function(a,c){return this.$raise(g.get("NotImplementedError"))})}(u.base)})(a.base,null);a.cdecl(a,"STDERR",e.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",e.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",e.stdout=a.get("IO").$new());
q=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];n=a.get("STDOUT");n["$write_proc="].apply(n,q);q[q.length-1];q=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];n=a.get("STDERR");n["$write_proc="].apply(n,q);q[q.length-1];a.get("STDOUT").$extend(a.get("IO").$$scope.get("Writable"));return a.get("STDERR").$extend(a.get("IO").$$scope.get("Writable"))};
Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var q=a.top,n=a.nil;a.add_stubs(["$include"]);a.defs(q,"$to_s",function(){return"main"});return(a.defs(q,"$include",function(l){return a.get("Object").$include(l)}),n)&&"include"};
Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass;a.add_stubs(["$[]"]);return function(l,$super){function m(){}var e=m=n(l,$super,"Dir",m);return function(c){var b=c.$$scope,e;a.defn(c,"$chdir",e=function(b){var c,m=e.$$p||q,p=q;e.$$p=null;try{return p=a.current_dir,a.current_dir=b,c=a.yieldX(m,[]),c}finally{a.current_dir=p}});a.defn(c,"$pwd",function(){return a.current_dir||"."});a.alias(c,"getwd","pwd");return(a.defn(c,"$home",function(){var a;return!1!==
(a=b.get("ENV")["$[]"]("HOME"))&&a!==q?a:"."}),q)&&"home"}(a.get_singleton_class(e))}(a.base,null)};
Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass,l=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $each $pop $<< $[] $gsub $find $=~".split(" "));return function(g,$super){function e(){}var c=e=n(g,$super,"File",e),b=c.$$scope;a.cdecl(b,"Separator",a.cdecl(b,"SEPARATOR","/"));a.cdecl(b,"ALT_SEPARATOR",q);a.cdecl(b,"PATH_SEPARATOR",":");return function(b){var c=b.$$scope;a.defn(b,"$expand_path",function(a,b){var e,g,f,k=q,l=q;null==
b&&(b=q);a=[b,a].$compact().$join(c.get("SEPARATOR"));k=a.$split(c.get("SEPARATOR"));l=[];if(k.$first()["$=="]("~"))k["$[]="](0,c.get("Dir").$home());(e=(g=k).$each,e.$$p=(f=function(a){null==a&&(a=q);return a["$=="]("..")?l.$pop():l["$<<"](a)},f.$$s=this,f),e).call(g);return l.$join(c.get("SEPARATOR"))});a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",function(a){return this.$split(a)["$[]"](l(0,-2,!1))});a.defn(b,"$basename",function(a){return this.$split(a)["$[]"](-1)});a.defn(b,"$exist?",
function(b){return null!=a.modules[b]});a.alias(b,"exists?","exist?");a.defn(b,"$directory?",function(b){var e,g,t,f=q,f=q,f=[],k;for(k in a.modules)f.push(k);b=b.$gsub(new RegExp("(^."+c.get("SEPARATOR")+"+|"+c.get("SEPARATOR")+"+$)"));return f=(e=(g=f).$find,e.$$p=(t=function(a){null==a&&(a=q);return a["$=~"](new RegExp("^"+b))},t.$$s=this,t),e).call(g)});a.defn(b,"$join",function(){var a=q,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),a=0;a<b;a++)e[a]=arguments[a+0];return e.$join(c.get("SEPARATOR")).$gsub(new RegExp(""+
c.get("SEPARATOR")+"+"),c.get("SEPARATOR"))});return(a.defn(b,"$split",function(a){return a.$split(c.get("SEPARATOR"))}),q)&&"split"}(a.get_singleton_class(c))}(a.base,a.get("IO"))};
Opal.modules["corelib/process"]=function(a){a.dynamic_require_severity="warning";var q=a.nil,n=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(l,$super){function m(){}var e=m=n(l,$super,"Process",m),c=e.$$scope;a.cdecl(c,"CLOCK_REALTIME",0);a.cdecl(c,"CLOCK_MONOTONIC",1);a.defs(e,"$pid",function(){return 0});a.defs(e,"$times",function(){var a=q,a=c.get("Time").$now().$to_f();return c.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)});return(a.defs(e,"$clock_gettime",function(a,e){return c.get("Time").$now().$to_f()}),
q)&&"clock_gettime"})(a.base,null);(function(l,$super){function m(){}var e=m=n(l,$super,"Signal",m);return(a.defs(e,"$trap",function(){return q}),q)&&"trap"})(a.base,null);return function(l,$super){function m(){}var e=m=n(l,$super,"GC",m);return(a.defs(e,"$start",function(){return q}),q)&&"start"}(a.base,null)};
Opal.modules["corelib/unsupported"]=function(a){function q(a){e[a]||(e[a]=!0,n.$warn(a))}a.dynamic_require_severity="warning";var n=a.top,l=a.nil,g=a.klass,m=a.module;a.add_stubs(["$warn","$raise","$%","$module_function"]);var e={};(function(c,$super){function e(){}var m=e=g(c,$super,"String",e),n=m.$$scope;a.defn(m,"$<<",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))});a.defn(m,"$capitalize!",function(){return this.$raise(n.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))});a.defn(m,"$chomp!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))});a.defn(m,"$chop!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))});a.defn(m,"$downcase!",function(){return this.$raise(n.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))});a.defn(m,"$gsub!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))});a.defn(m,"$lstrip!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))});a.defn(m,"$next!",function(){return this.$raise(n.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))});a.defn(m,"$reverse!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))});a.defn(m,"$slice!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))});a.defn(m,"$squeeze!",function(){return this.$raise(n.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))});a.defn(m,"$strip!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))});a.defn(m,"$sub!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))});a.defn(m,"$succ!",function(){return this.$raise(n.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))});a.defn(m,"$swapcase!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))});a.defn(m,"$tr!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))});a.defn(m,"$tr_s!",function(){return this.$raise(n.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))});return(a.defn(m,"$upcase!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))}),l)&&"upcase!"})(a.base,null);(function(c){c=m(c,"Kernel");var b=c.$$scope;a.defn(c,"$freeze",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):q("Object freezing is not supported by Opal");
return this});a.defn(c,"$frozen?",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):q("Object freezing is not supported by Opal");return!1})})(a.base);(function(c){c=m(c,"Kernel");var b=c.$$scope;a.defn(c,"$taint",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):q("Object tainting is not supported by Opal");return this});a.defn(c,"$untaint",function(){!0===l?this.$raise(b.get("NotImplementedError"),
"Object tainting is not supported by Opal"):q("Object tainting is not supported by Opal");return this});a.defn(c,"$tainted?",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):q("Object tainting is not supported by Opal");return!1})})(a.base);(function(c){c=m(c,"Marshal");var b=c.$$scope;c.$module_function();a.defn(c,"$dump",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")});a.defn(c,"$load",function(){return this.$raise(b.get("NotImplementedError"),
"Marshalling is not supported by Opal")});a.defn(c,"$restore",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")})})(a.base);(function(c,$super){function e(){}var m=e=g(c,$super,"Module",e);a.defn(m,"$public",function(){var a=l,c=arguments.length-0;0>c&&(c=0);for(var e=Array(c),a=0;a<c;a++)e[a]=arguments[a+0];0===e.length&&(this.$$module_function=!1);return l});a.alias(m,"private","public");a.alias(m,"protected","public");a.alias(m,"nesting","public");
a.defn(m,"$private_class_method",function(){return this});a.alias(m,"public_class_method","private_class_method");a.defn(m,"$private_method_defined?",function(a){return!1});a.defn(m,"$private_constant",function(){return l});a.alias(m,"protected_method_defined?","private_method_defined?");a.alias(m,"public_instance_methods","instance_methods");return a.alias(m,"public_method_defined?","method_defined?")})(a.base,null);(function(c){c=m(c,"Kernel");a.defn(c,"$private_methods",function(){return[]});a.alias(c,
"private_instance_methods","private_methods")})(a.base);return function(c){c=m(c,"Kernel");var b=c.$$scope;a.defn(c,"$eval",function(){return this.$raise(b.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))})}(a.base)};
(function(a){a.dynamic_require_severity="warning";var q=a.top;a.add_stubs(["$require"]);q.$require("opal/base");q.$require("opal/mini");q.$require("corelib/array/inheritance");q.$require("corelib/string/inheritance");q.$require("corelib/string/encoding");q.$require("corelib/math");q.$require("corelib/complex");q.$require("corelib/rational");q.$require("corelib/time");q.$require("corelib/struct");q.$require("corelib/io");q.$require("corelib/main");q.$require("corelib/dir");q.$require("corelib/file");
q.$require("corelib/process");return q.$require("corelib/unsupported")})(Opal);
Opal.modules.set=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.breaker,m=a.klass,e=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(c,
$super){function e(){}var x=e=m(c,$super,"Set",e),y=x.$$scope,u,p,t,f,k;x.$$proto.hash=l;x.$include(y.get("Enumerable"));a.defs(x,"$[]",function(){var a=l,c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),a=0;a<c;a++)f[a]=arguments[a+0];return this.$new(f)});a.defn(x,"$initialize",u=function(a){var c,f,h,d=u.$$p||l;null==a&&(a=l);u.$$p=null;this.hash=y.get("Hash").$new();if((c=a["$nil?"]())!==l&&(!c.$$is_boolean||1==c))return l;((c=y.get("Enumerable")["$==="](a))===l||c.$$is_boolean&&1!=c)&&this.$raise(y.get("ArgumentError"),
"value must be enumerable");return!1!==d&&d!==l?(c=(f=a).$each,c.$$p=(h=function(a){var c=h.$$s||this;null==a&&(a=l);return c.$add(d.$call(a))},h.$$s=this,h),c).call(f):this.$merge(a)});a.defn(x,"$dup",function(){var a=l,a=this.$class().$new();return a.$merge(this)});a.defn(x,"$-",function(a){var c;((c=a["$respond_to?"]("each"))===l||c.$$is_boolean&&1!=c)&&this.$raise(y.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)});a.alias(x,"difference","-");a.defn(x,"$inspect",
function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"});a.defn(x,"$==",function(a){var c,f,h;return(c=this["$equal?"](a))===l||c.$$is_boolean&&1!=c?(c=a["$instance_of?"](this.$class()))===l||c.$$is_boolean&&1!=c?(c=(f=a["$is_a?"](y.get("Set")),!1!==f&&f!==l?this.$size()["$=="](a.$size()):f))===l||c.$$is_boolean&&1!=c?!1:(c=(f=a)["$all?"],c.$$p=(h=function(a){var c=h.$$s||this;null==c.hash&&(c.hash=l);null==a&&(a=l);return c.hash["$include?"](a)},h.$$s=this,h),c).call(f):this.hash["$=="](a.$instance_variable_get("@hash")):
!0});a.defn(x,"$add",function(a){this.hash["$[]="](a,!0);return this});a.alias(x,"<<","add");a.defn(x,"$classify",p=function(){var c,f,k,h,d=p.$$p||l,e=l;p.$$p=null;if(d===l)return this.$enum_for("classify");e=(c=(f=y.get("Hash")).$new,c.$$p=(k=function(a,d){var h=k.$$s||this;null==a&&(a=l);null==d&&(d=l);return a["$[]="](d,h.$class().$new())},k.$$s=this,k),c).call(f);(c=this.$each,c.$$p=(h=function(h){var c;null==h&&(h=l);return e["$[]"]((c=a.yield1(d,h))===g?g.$v:c).$add(h)},h.$$s=this,h),c).call(this);
return e});a.defn(x,"$collect!",t=function(){var c,f,k=t.$$p||l,h=l;t.$$p=null;if(k===l)return this.$enum_for("collect!");h=this.$class().$new();(c=this.$each,c.$$p=(f=function(d){var c;null==d&&(d=l);return h["$<<"]((c=a.yield1(k,d))===g?g.$v:c)},f.$$s=this,f),c).call(this);return this.$replace(h)});a.alias(x,"map!","collect!");a.defn(x,"$delete",function(a){this.hash.$delete(a);return this});a.defn(x,"$delete?",function(a){var c;if((c=this["$include?"](a))===l||c.$$is_boolean&&1!=c)return l;this.$delete(a);
return this});a.defn(x,"$delete_if",f=function(){try{var c,k,e,h,d,g=f.$$p||l;f.$$p=null;!1!==(c=g!==l)&&c!==l?c:a.ret(this.$enum_for("delete_if"));(c=(k=(h=this.$select,h.$$p=(d=function(d){var h;null==d&&(d=l);return h=a.yield1(g,d),h},d.$$s=this,d),h).call(this)).$each,c.$$p=(e=function(a){var d=e.$$s||this;null==d.hash&&(d.hash=l);null==a&&(a=l);return d.hash.$delete(a)},e.$$s=this,e),c).call(k);return this}catch(m){if(m===a.returner)return m.$v;throw m;}});a.defn(x,"$add?",function(a){var c;
return(c=this["$include?"](a))===l||c.$$is_boolean&&1!=c?this.$add(a):l});a.defn(x,"$each",k=function(){var a,c,f=k.$$p||l;k.$$p=null;if(f===l)return this.$enum_for("each");(a=(c=this.hash).$each_key,a.$$p=f.$to_proc(),a).call(c);return this});a.defn(x,"$empty?",function(){return this.hash["$empty?"]()});a.defn(x,"$eql?",function(a){var c,f;return this.hash["$eql?"]((c=a.$instance_eval,c.$$p=(f=function(){var a=f.$$s||this;null==a.hash&&(a.hash=l);return a.hash},f.$$s=this,f),c).call(a))});a.defn(x,
"$clear",function(){this.hash.$clear();return this});a.defn(x,"$include?",function(a){return this.hash["$include?"](a)});a.alias(x,"member?","include?");a.defn(x,"$merge",function(a){var c,f;(c=a.$each,c.$$p=(f=function(a){var d=f.$$s||this;null==a&&(a=l);return d.$add(a)},f.$$s=this,f),c).call(a);return this});a.defn(x,"$replace",function(a){this.$clear();this.$merge(a);return this});a.defn(x,"$size",function(){return this.hash.$size()});a.alias(x,"length","size");a.defn(x,"$subtract",function(a){var c,
f;(c=a.$each,c.$$p=(f=function(a){var d=f.$$s||this;null==a&&(a=l);return d.$delete(a)},f.$$s=this,f),c).call(a);return this});a.defn(x,"$|",function(a){var c;((c=a["$respond_to?"]("each"))===l||c.$$is_boolean&&1!=c)&&this.$raise(y.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)});a.defn(x,"$superset?",function(a){var c,f;!1!==(c=a["$is_a?"](y.get("Set")))&&c!==l?c:this.$raise(y.get("ArgumentError"),"value must be a set");return(c=q(this.$size(),a.$size()))===l||c.$$is_boolean&&
1!=c?(c=a["$all?"],c.$$p=(f=function(a){var d=f.$$s||this;null==a&&(a=l);return d["$include?"](a)},f.$$s=this,f),c).call(a):!1});a.alias(x,">=","superset?");a.defn(x,"$proper_superset?",function(a){var c,f;!1!==(c=a["$is_a?"](y.get("Set")))&&c!==l?c:this.$raise(y.get("ArgumentError"),"value must be a set");return(c=n(this.$size(),a.$size()))===l||c.$$is_boolean&&1!=c?(c=a["$all?"],c.$$p=(f=function(a){var d=f.$$s||this;null==a&&(a=l);return d["$include?"](a)},f.$$s=this,f),c).call(a):!1});a.alias(x,
">","proper_superset?");a.defn(x,"$subset?",function(a){var c,f;!1!==(c=a["$is_a?"](y.get("Set")))&&c!==l?c:this.$raise(y.get("ArgumentError"),"value must be a set");return(c=q(a.$size(),this.$size()))===l||c.$$is_boolean&&1!=c?(c=this["$all?"],c.$$p=(f=function(h){null==h&&(h=l);return a["$include?"](h)},f.$$s=this,f),c).call(this):!1});a.alias(x,"<=","subset?");a.defn(x,"$proper_subset?",function(a){var c,f;!1!==(c=a["$is_a?"](y.get("Set")))&&c!==l?c:this.$raise(y.get("ArgumentError"),"value must be a set");
return(c=n(a.$size(),this.$size()))===l||c.$$is_boolean&&1!=c?(c=this["$all?"],c.$$p=(f=function(h){null==h&&(h=l);return a["$include?"](h)},f.$$s=this,f),c).call(this):!1});a.alias(x,"<","proper_subset?");a.alias(x,"+","|");a.alias(x,"union","|");return(a.defn(x,"$to_a",function(){return this.hash.$keys()}),l)&&"to_a"})(a.base,null);return function(c){c=e(c,"Enumerable");var b=c.$$scope,g;a.defn(c,"$to_set",g=function(c){var e,m,n=g.$$p||l,t=l,f=arguments.length-1;0>f&&(f=0);for(var k=Array(f),t=
0;t<f;t++)k[t]=arguments[t+1];null==c&&(c=b.get("Set"));g.$$p=null;return(e=(m=c).$new,e.$$p=n.$to_proc(),e).apply(m,[this].concat(a.to_a(k)))})}(a.base)};
Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(l,$super){function m(){}var e=m=n(l,$super,"StringScanner",m),c=e.$$proto;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=q;e.$attr_reader("pos");e.$attr_reader("matched");a.defn(e,"$initialize",function(a){this.string=a;this.pos=0;this.matched=q;this.working=a;return this.match=[]});e.$attr_reader("string");
a.defn(e,"$beginning_of_line?",function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)});a.alias(e,"bol?","beginning_of_line?");a.defn(e,"$scan",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=q:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):q});a.defn(e,"$scan_until",
function(a){a=this.$anchor(a);for(var c=this.pos,e=this.working,m;;)if(m=a.exec(e),c+=1,e=e.substr(1),null==m){if(0===e.length)return this.matched=q}else return this.matched=this.string.substr(this.pos,c-this.pos-1+m[0].length),this.prev_pos=c-1,this.pos=c,this.working=e.substr(m[0].length),this.matched});a.defn(e,"$[]",function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?q:c[a]});a.defn(e,"$check",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?
this.matched=q:this.matched=a[0]});a.defn(e,"$check_until",function(a){var c=this.prev_pos,e=this.pos;a=this.$scan_until(a);a!==q&&(this.matched=a.substr(-1),this.working=this.string.substr(e));this.prev_pos=c;this.pos=e;return a});a.defn(e,"$peek",function(a){return this.working.substring(0,a)});a.defn(e,"$eos?",function(){return 0===this.working.length});a.defn(e,"$exist?",function(a){a=a.exec(this.working);return null==a?q:0==a.index?0:a.index+1});a.defn(e,"$skip",function(a){a=this.$anchor(a);
a=a.exec(this.working);if(null==a)return this.matched=q;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c});a.defn(e,"$skip_until",function(a){a=this.$scan_until(a);if(a===q)return q;this.matched=a.substr(-1);return a.length});a.defn(e,"$get_byte",function(){var a=q;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=q;return a});
a.alias(e,"getch","get_byte");a.defn(e,"$match?",function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return q;this.prev_pos=this.pos;return a[0].length});a.defn(e,"$pos=",function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)});a.defn(e,"$post_match",function(){return this.matched===q?q:this.string.substr(this.pos)});a.defn(e,"$pre_match",function(){return this.matched===q?q:this.string.substr(0,this.prev_pos)});a.defn(e,"$reset",function(){this.working=
this.string;this.matched=q;return this.pos=0});a.defn(e,"$rest",function(){return this.working});a.defn(e,"$rest?",function(){return 0!==this.working.length});a.defn(e,"$rest_size",function(){return this.$rest().$size()});a.defn(e,"$terminate",function(){var a;this.match=q;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]});a.defn(e,"$unscan",function(){this.pos=this.prev_pos;this.match=this.prev_pos=q;return this});e.$private();return(a.defn(e,"$anchor",function(a){return new RegExp("^(?:"+
a.toString().substr(1,a.toString().length-2)+")")}),q)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.breaker,g=a.module,m=a.klass,e=a.gvars,c=a.range;a.add_stubs("$new $attr_reader $read $size $to_enum $chomp $each_line $* $rindex $[] $+ $- $nil_or_empty? $nil? $===".split(" "));(function(b){b=g(b,"Kernel");var c=b.$$scope,e;a.defn(b,"$open",e=function(b){var g,m,t=e.$$p||n,f=n,f=n,k=arguments.length-1;0>k&&(k=0);for(var l=
Array(k),f=0;f<k;f++)l[f]=arguments[f+1];e.$$p=null;f=(g=c.get("File")).$new.apply(g,[b].concat(a.to_a(l)));return t!==n?(m=a.yield1(t,f),m):f})})(a.base);(function(b,$super){function g(){}var y=g=m(b,$super,"File",g),u=y.$$proto,p=y.$$scope,t;u.eof=u.path=n;a.cdecl(p,"SEPARATOR","/");a.cdecl(p,"ALT_SEPARATOR",n);y.$attr_reader("eof");y.$attr_reader("lineno");y.$attr_reader("path");a.defn(y,"$initialize",function(a,b){this.path=a;this.contents=n;this.eof=!1;return this.lineno=0});a.defn(y,"$read",
function(){var a,b=n;return(a=this.eof)===n||a.$$is_boolean&&1!=a?(b=p.get("File").$read(this.path),this.eof=!0,this.lineno=b.$size(),b):""});a.defn(y,"$each_line",t=function(b){var c,g=t.$$p||n,m=n;null==e["/"]&&(e["/"]=n);null==b&&(b=e["/"]);t.$$p=null;if((c=this.eof)!==n&&(!c.$$is_boolean||1==c))return g!==n?this:[].$to_enum();if(g!==n){m=p.get("File").$read(this.path);this.eof=!1;this.lineno=0;for(var r=m.$chomp(),m=m.length!=r.length,r=r.split(b),h=0,d=r.length;h<d;h++)this.lineno+=1,h<d-1||
m?(c=a.yield1(g,r[h]+b))===l?l.$v:c:(c=a.yield1(g,r[h]))===l?l.$v:c;this.eof=!0;return this}return this.$read().$each_line()});a.defs(y,"$expand_path",function(a){return a});a.defs(y,"$join",function(){var a=n,b=arguments.length-0;0>b&&(b=0);for(var c=Array(b),a=0;a<b;a++)c[a]=arguments[a+0];a=p.get("SEPARATOR");return"number"===typeof c&&"number"===typeof a?c*a:c["$*"](a)});a.defs(y,"$basename",function(a){var b,e=n;return(b=e=a.$rindex(p.get("SEPARATOR")))===n||b.$$is_boolean&&1!=b?a:a["$[]"](c(q(e,
1),-1,!1))});a.defs(y,"$dirname",function(a){var b,e=n;return(b=e=a.$rindex(p.get("SEPARATOR")))===n||b.$$is_boolean&&1!=b?".":a["$[]"](c(0,"number"===typeof e?e-1:e["$-"](1),!1))});a.defs(y,"$extname",function(a){var b,e=n;if((b=a["$nil_or_empty?"]())!==n&&(!b.$$is_boolean||1==b))return"";e=a["$[]"](c(1,-1,!1)).$rindex(".");return(b=e["$nil?"]())===n||b.$$is_boolean&&1!=b?a["$[]"](c(q(e,1),-1,!1)):""});a.defs(y,"$file?",function(a){return!0});a.defs(y,"$readable?",function(a){return!0});return(a.defs(y,
"$read",function(a){var b=n;return function(){b=p.get("JAVASCRIPT_PLATFORM");if("node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),e=[];Java.type("java.nio.file.Files").readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){e.push(a)});return e.join("\n")}if("browser"["$==="](b)){var e="",g=-1;try{c=new XMLHttpRequest,c.open("POST","resource.afx",!1),c.addEventListener("load",function(){g=
this.status;if(0==g||200==g)e=this.responseText}),c.overrideMimeType("text/plain"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send("path="+encodeURIComponent(a))}catch(h){g=0}if(404==g||0==g&&""==e)throw p.get("IOError").$new("No such file or directory: "+a);return e}return"standalone"["$==="](b)?read(a):""}()}),n)&&"read"})(a.base,null);return function(b,$super){function c(){}var e=c=m(b,$super,"IO",c),g=e.$$scope;return(a.defs(e,"$read",function(a){return g.get("File").$read(a)}),
n)&&"read"}(a.base,null)};Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.klass;a.add_stubs(["$[]="]);return function(l,$super){function m(){}var e=m=n(l,$super,"MatchData",m);e.$$proto.matches=q;return(a.defn(e,"$[]=",function(a,b){return this.matches["$[]="](a,b)}),q)&&"[]="}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.module;return function(l){l=n(l,"Kernel");a.defn(l,"$freeze",function(){return q})}(a.base)};
Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var q;q=a.nil;var n=a.gvars;null==n.stdout&&(n.stdout=q);null==n.stderr&&(n.stderr=q);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];q=n.stdout;q["$write_proc="].apply(q,a);a[a.length-1];return a=[function(a){print(a)}],q=n.stderr,q["$write_proc="].apply(q,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var q=a.top,n=a.nil,l=n;a.add_stubs(["$require","$==="]);a.cdecl(a,"JAVASCRIPT_PLATFORM","undefined"!==typeof module&&module.exports?"node":"undefined"!==typeof XMLHttpRequest?"browser":"undefined"!==typeof Java&&Java.type?"java-nashorn":"undefined"!==typeof java?"java-rhino":"standalone");q.$require("strscan");q.$require("asciidoctor/opal_ext/file");q.$require("asciidoctor/opal_ext/match_data");q.$require("asciidoctor/opal_ext/kernel");
l=a.get("JAVASCRIPT_PLATFORM");a="java-nashorn"["$==="](l)?q.$require("asciidoctor/opal_ext/nashorn/io"):n;return a};Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var q=a.module,q=q(a.base,"Asciidoctor").$$scope;a.cdecl(q,"VERSION","1.5.5.dev")};
Opal.modules["asciidoctor/timings"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var g=a.nil,m=a.module,e=a.klass,c=a.hash2,b=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(A){(function(m,
$super){function u(){}var p=u=e(m,$super,"Timings",u),t=p.$$proto;t.timers=t.log=g;a.defn(p,"$initialize",function(){this.log=c([],{});return this.timers=c([],{})});a.defn(p,"$start",function(b){return this.timers["$[]="](b,a.get("Time").$now())});a.defn(p,"$record",function(b){return this.log["$[]="](b,q(a.get("Time").$now(),this.timers.$delete(b)))});a.defn(p,"$read_parse",function(){var a,b,c=g;return(a=n(c=l(!1!==(b=this.log["$[]"]("read"))&&b!==g?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==g?
b:0),0))===g||a.$$is_boolean&&1!=a?g:c});a.defn(p,"$convert",function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==g?a:0});a.defn(p,"$read_parse_convert",function(){var a,b,c=g;return(a=n(c=l(l(!1!==(b=this.log["$[]"]("read"))&&b!==g?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==g?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==g?b:0),0))===g||a.$$is_boolean&&1!=a?g:c});a.defn(p,"$total",function(){var a,b,c=g;return(a=n(c=l(l(l(!1!==(b=this.log["$[]"]("read"))&&b!==g?b:0,!1!==(b=this.log["$[]"]("parse"))&&
b!==g?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==g?b:0),!1!==(b=this.log["$[]"]("write"))&&b!==g?b:0),0))===g||a.$$is_boolean&&1!=a?g:c});return(a.defn(p,"$print_report",function(a,c){null==b.stdout&&(b.stdout=g);null==a&&(a=b.stdout);null==c&&(c=g);!1!==c&&c!==g&&a.$puts("Input file: "+c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+
"%05.5f"["$%"](this.$read_parse_convert().$to_f()))}),g)&&"print_report"})(m(A,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.klass;a.add_stubs(["$respond_to?"]);(function(l,$super){function m(){}var e=m=n(l,$super,"NilClass",m),c;return(c=e["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","nil?"):q})(a.base,null);(function(l,$super){function m(){}var e=m=n(l,$super,"String",m),c;return(c=e["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?",
"empty?"):q})(a.base,null);(function(l,$super){function m(){}var e=m=n(l,$super,"Array",m),c;return(c=e["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","empty?"):q})(a.base,null);(function(l,$super){function m(){}var e=m=n(l,$super,"Hash",m),c;return(c=e["$respond_to?"]("nil_or_empty?"))===q||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","empty?"):q})(a.base,null);return function(l,$super){function m(){}var e=m=n(l,$super,"Numeric",m),c;return(c=e["$respond_to?"]("nil_or_empty?"))===
q||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","nil?"):q}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var q=a.top,n=a.nil;a.add_stubs(["$require","$=="]);q.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return n};
Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.module,l=a.range,g=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(m){(function(e){e=
n(e,"Helpers");var c=e.$$scope;a.defs(e,"$require_library",function(b,c,e){var g=q,m=q;null==c&&(c=!0);null==e&&(e="abort");try{return this.$require(b)}catch(n){if(a.rescue(n,[a.get("LoadError")])){g=n;try{if(!1!==c&&c!==q)return c["$=="](!0)&&(c=b),m=e,"abort"["$==="](m)?this.$fail("asciidoctor: FAILED: required gem '"+c+"' is not installed. Processing aborted."):"warn"["$==="](m)?this.$warn("asciidoctor: WARNING: optional gem '"+c+"' is not installed. Functionality disabled."):q;m=e;return"abort"["$==="](m)?
this.$fail("asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](m)?this.$warn("asciidoctor: WARNING: "+g.$message().$chomp(".")+". Functionality disabled."):q}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw n;}});a.defs(e,"$normalize_lines",function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)});a.defs(e,"$normalize_lines_array",function(b){var e,g,m,n,p,t,f=q,k=q,B=q,v=q;if((e=b["$empty?"]())!==
q&&(!e.$$is_boolean||1==e))return[];f=(k=b["$[]"](0))["$[]"](l(0,2,!1)).$bytes().$to_a();if((e=c.get("COERCE_ENCODING"))===q||e.$$is_boolean&&1!=e){if(f["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,k["$[]"](l(3,-1,!1)));return(e=b.$map,e.$$p=(t=function(a){null==a&&(a=q);return a.$rstrip()},t.$$s=this,t),e).call(b)}B=a.get("Encoding").$$scope.get("UTF_8");if((v=f["$[]"](l(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE")))return(e=(g=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,
-1,!1)).$encode(B).$lines()).$map,e.$$p=(m=function(a){null==a&&(a=q);return a.$rstrip()},m.$$s=this,m),e).call(g);if(v["$=="](c.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,k.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1))),(e=b.$map,e.$$p=(n=function(b){null==b&&(b=q);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(B).$rstrip()},n.$$s=this,n),e).call(b);if(f["$[]"](l(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,k.$force_encoding(B)["$[]"](l(1,
-1,!1)));return(e=b.$map,e.$$p=(p=function(a){null==a&&(a=q);return a.$encoding()["$=="](B)?a.$rstrip():a.$force_encoding(B).$rstrip()},p.$$s=this,p),e).call(b)});a.defs(e,"$normalize_lines_from_string",function(b){var e,g,m,n=q,p=q,t=q;if((e=b["$nil_or_empty?"]())!==q&&(!e.$$is_boolean||1==e))return[];(e=c.get("COERCE_ENCODING"))===q||e.$$is_boolean&&1!=e?b["$[]"](l(0,2,!1)).$bytes().$to_a()["$=="](c.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](l(3,-1,!1))):(n=a.get("Encoding").$$scope.get("UTF_8"),p=b["$[]"](l(0,
2,!1)).$bytes().$to_a(),(t=p["$[]"](l(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,-1,!1)).$encode(n):t["$=="](c.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1)).$encode(n):p["$[]"](l(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](n)?b["$[]"](l(1,-1,!1)):b.$force_encoding(n)["$[]"](l(1,-1,!1)):b.$encoding()["$=="](n)||(b=b.$force_encoding(n)));return(e=
(g=b.$each_line()).$map,e.$$p=(m=function(a){null==a&&(a=q);return a.$rstrip()},m.$$s=this,m),e).call(g)});a.defs(e,"$uriish?",function(a){var e;return e=a["$include?"](":"),!1!==e&&e!==q?a["$=~"](c.get("UriSniffRx")):e});a.defs(e,"$uri_prefix",function(a){var e,m;return(e=(m=a["$include?"](":"),!1!==m&&m!==q?a["$=~"](c.get("UriSniffRx")):m))===q||e.$$is_boolean&&1!=e?q:(e=g["~"])===q?q:e["$[]"](0)});a.cdecl(c,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(e,"$encode_uri",function(a){var e,
m;return(e=a.$gsub,e.$$p=(m=function(){var a=m.$$s||this,b,c,e,f;return(b=(c=((f=g["~"])===q?q:f["$[]"](0)).$each_byte()).$map,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=q);return b.$sprintf("%%%02X",a)},e.$$s=a,e),b).call(c).$join()},m.$$s=this,m),e).call(a,c.get("REGEXP_ENCODE_URI_CHARS"))});a.defs(e,"$rootname",function(b){var c,e=q;return(c=(e=a.get("File").$extname(b))["$empty?"]())===q||c.$$is_boolean&&1!=c?b["$[]"](l(0,e.$length()["$-@"](),!0)):b});a.defs(e,"$basename",function(b,c){var e;
null==c&&(c=!1);return!1!==c&&c!==q?a.get("File").$basename(b,!1!==(e=a.get("File").$extname(b))&&e!==q?e:""):a.get("File").$basename(b)});a.defs(e,"$mkdir_p",function(b){var c,e,g=q;return(c=a.get("File")["$directory?"](b))===q||c.$$is_boolean&&1!=c?(g=a.get("File").$dirname(b),(c=(e=a.get("File")["$directory?"](g=a.get("File").$dirname(b))["$!"](),!1!==e&&e!==q?g["$!="]("."):e))===q||c.$$is_boolean&&1!=c||this.$mkdir_p(g),a.get("Dir").$mkdir(b)):q})})(n(m,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var m=a.nil,e=a.breaker,c=a.slice,b=a.module,A=a.hash2,x=a.gvars,y=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $gsub! $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_lines_to_highlight $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(u){(function(p){p=b(p,"Substitutors");var t=p.$$scope;a.cdecl(t,"SPECIAL_CHARS",A(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(t,"SPECIAL_CHARS_PATTERN",new RegExp("["+t.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(t,"SUBS",A("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),
header:["specialcharacters","attributes"],pass:[]}));a.cdecl(t,"COMPOSITE_SUBS",A(["none","normal","verbatim","specialchars"],{none:[],normal:t.get("SUBS")["$[]"]("normal"),verbatim:t.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(t,"SUB_SYMBOLS",A("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(t,"SUB_OPTIONS",A(["block","inline"],{block:q(q(t.get("COMPOSITE_SUBS").$keys(),
t.get("SUBS")["$[]"]("normal")),["callouts"]),inline:q(t.get("COMPOSITE_SUBS").$keys(),t.get("SUBS")["$[]"]("normal"))}));a.cdecl(t,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(t,"PASS_START","\u0096");a.cdecl(t,"PASS_END","\u0097");a.cdecl(t,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(t,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);p.$attr_reader("passthroughs");a.defn(p,"$apply_subs",function(b,c,e){var g,r,h,d,l,w=m,p=m,u=m,z=m;null==this.passthroughs&&
(this.passthroughs=m);null==c&&(c="normal");null==e&&(e=!1);if((g=c["$!"]())!==m&&(!g.$$is_boolean||1==g))return b;c["$=="]("normal")?c=t.get("SUBS")["$[]"]("normal"):!1!==e&&e!==m&&((g=a.get("Symbol")["$==="](c))===m||g.$$is_boolean&&1!=g?(w=[],(g=(r=c).$each,g.$$p=(h=function(a){var b;null==a&&(a=m);return(b=t.get("COMPOSITE_SUBS")["$has_key?"](a))===m||b.$$is_boolean&&1!=b?w["$<<"](a):w=q(w,t.get("COMPOSITE_SUBS")["$[]"](a))},h.$$s=this,h),g).call(r),c=w):c=!1!==(g=t.get("COMPOSITE_SUBS")["$[]"](c))&&
g!==m?g:[c]);if((g=c["$empty?"]())!==m&&(!g.$$is_boolean||1==g))return b;p=(g=u=a.get("Array")["$==="](b))===m||g.$$is_boolean&&1!=g?b:n(b,t.get("EOL"));(g=z=c["$include?"]("macros"))===m||g.$$is_boolean&&1!=g||(p=this.$extract_passthroughs(p),(g=this.passthroughs["$empty?"]())===m||g.$$is_boolean&&1!=g||(z=!1));(g=(d=c).$each,g.$$p=(l=function(a){var b=l.$$s||this,d,h=m;null==a&&(a=m);h=a;return"specialcharacters"["$==="](h)?p=b.$sub_specialchars(p):"quotes"["$==="](h)?p=b.$sub_quotes(p):"attributes"["$==="](h)?
p=n(b.$sub_attributes(p.$split(t.get("EOL"))),t.get("EOL")):"replacements"["$==="](h)?p=b.$sub_replacements(p):"macros"["$==="](h)?p=b.$sub_macros(p):"highlight"["$==="](h)?p=b.$highlight_source(p,c["$include?"]("callouts")):"callouts"["$==="](h)?(d=c["$include?"]("highlight"))===m||d.$$is_boolean&&1!=d?p=b.$sub_callouts(p):m:"post_replacements"["$==="](h)?p=b.$sub_post_replacements(p):b.$warn("asciidoctor: WARNING: unknown substitution type "+a)},l.$$s=this,l),g).call(d);!1!==z&&z!==m&&(p=this.$restore_passthroughs(p));
return!1!==u&&u!==m?p.$split(t.get("EOL")):p});a.defn(p,"$apply_normal_subs",function(b){var c;return this.$apply_subs((c=a.get("Array")["$==="](b))===m||c.$$is_boolean&&1!=c?b:n(b,t.get("EOL")))});a.defn(p,"$apply_title_subs",function(a){return this.$apply_subs(a,t.get("SUBS")["$[]"]("title"))});a.defn(p,"$apply_header_subs",function(a){return this.$apply_subs(a,t.get("SUBS")["$[]"]("header"))});a.defn(p,"$extract_passthroughs",function(b){var c,e,v,r,h,d,p,w,q=m,u=m,z=m,O=m;null==this.document&&
(this.document=m);q=this.document.$compat_mode();(c=!1!==(e=!1!==(v=b["$include?"]("++"))&&v!==m?v:b["$include?"]("$$"))&&e!==m?e:b["$include?"]("ss:"))===m||c.$$is_boolean&&1!=c||(b=(c=(e=b).$gsub,c.$$p=(r=function(){var b=r.$$s||this,d,h=m,c=m,f=m,e=f=m,k=m,w=m,v=m,h=m;null==b.passthroughs&&(b.passthroughs=m);null==x["~"]&&(x["~"]=m);h=x["~"];c=m;if((d=(f=h["$[]"](4))["$nil_or_empty?"]())===m||d.$$is_boolean&&1!=d){if((d=!1!==q&&q!==m?f["$=="]("++"):q)!==m&&(!d.$$is_boolean||1==d))return(d=h["$[]"](2)["$nil_or_empty?"]())===
m||d.$$is_boolean&&1!=d?""+h["$[]"](1)+"["+h["$[]"](2)+"]"+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++":""+h["$[]"](1)+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++";e=h["$[]"](2);(d=a.get("RUBY_ENGINE_OPAL"))===m||d.$$is_boolean&&1!=d||e["$=="]("")&&(e=m);k=h["$[]"](3).$size();w=h["$[]"](5);v=!1;if(!1!==e&&e!==m)if((d=l(k,0))===m||d.$$is_boolean&&1!=d)h["$[]"](1)["$=="]("\\")?(c="["+e+"]",e=m):((d=f["$=="]("++")?e["$end_with?"]("x-"):f["$=="]("++"))===m||d.$$is_boolean&&
1!=d||(v=!0,e=e["$[]"](y(0,-2,!0))),e=b.$parse_attributes(e));else return""+h["$[]"](1)+"["+e+"]"+n("\\",g(k,1))+f+h["$[]"](5)+f+")";else if((d=l(k,0))!==m&&(!d.$$is_boolean||1==d))return""+h["$[]"](1)+"["+e+"]"+n("\\",g(k,1))+f+h["$[]"](5)+f;h=f["$=="]("+++")?[]:["specialcharacters"];f=b.passthroughs.$size();if(!1!==e&&e!==m)if(!1!==v&&v!==m)b.passthroughs["$[]="](f,A(["text","subs","type","attributes"],{text:w,subs:t.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:e}));else b.passthroughs["$[]="](f,
A(["text","subs","type","attributes"],{text:w,subs:h,type:"unquoted",attributes:e}));else b.passthroughs["$[]="](f,A(["text","subs"],{text:w,subs:h}))}else{if(h["$[]"](6)["$=="]("\\"))return h["$[]"](0)["$[]"](y(1,-1,!1));b.passthroughs["$[]="](f=b.passthroughs.$size(),A(["text","subs"],{text:b.$unescape_brackets(h["$[]"](8)),subs:(d=h["$[]"](7)["$nil_or_empty?"]())===m||d.$$is_boolean&&1!=d?b.$resolve_pass_subs(h["$[]"](7)):[]}))}return""+c+t.get("PASS_START")+f+t.get("PASS_END")},r.$$s=this,r),
c).call(e,t.get("PassInlineMacroRx")));v=t.get("PassInlineRx")["$[]"](q);c=a.to_ary(v);u=null==c[0]?m:c[0];z=null==c[1]?m:c[1];O=null==c[2]?m:c[2];v;(c=!1!==(v=b["$include?"](u))&&v!==m?v:(h=!1!==z&&z!==m)?b["$include?"](z):z)===m||c.$$is_boolean&&1!=c||(b=(c=(v=b).$gsub,c.$$p=(d=function(){var b=d.$$s||this,h,c=m,f=m,e=m,k=m,g=m,r=m,w=m,g=c=m;null==b.passthroughs&&(b.passthroughs=m);null==x["~"]&&(x["~"]=m);c=x["~"];f=c["$[]"](1);e=c["$[]"](2);k=(h=c["$[]"](3)["$start_with?"]("\\"))===m||h.$$is_boolean&&
1!=h?m:"\\";g=c["$[]"](4);r=c["$[]"](5);(h=a.get("RUBY_ENGINE_OPAL"))===m||h.$$is_boolean&&1!=h||e["$=="]("")&&(e=m);!1!==q&&q!==m?w=!0:(h=w=!1!==e&&e!==m?e["$end_with?"]("x-"):e)===m||h.$$is_boolean&&1!=h||(e=e["$[]"](y(0,-2,!0)));if(!1!==e&&e!==m){if((h=g["$=="]("`")?w["$!"]():g["$=="]("`"))!==m&&(!h.$$is_boolean||1==h))return""+f+"["+e+"]"+k+"`"+b.$extract_passthroughs(r)+"`";if(!1!==k&&k!==m)return""+f+"["+e+"]"+c["$[]"](3)["$[]"](y(1,-1,!1));f["$=="]("\\")?(f="["+e+"]",e=m):e=b.$parse_attributes(e)}else{if((h=
g["$=="]("`")?w["$!"]():g["$=="]("`"))!==m&&(!h.$$is_boolean||1==h))return""+f+k+"`"+b.$extract_passthroughs(r)+"`";if(!1!==k&&k!==m)return""+f+c["$[]"](3)["$[]"](y(1,-1,!1))}c=b.passthroughs.$size();if(!1!==q&&q!==m)b.passthroughs["$[]="](c,A(["text","subs","attributes","type"],{text:r,subs:["specialcharacters"],attributes:e,type:"monospaced"}));else if(!1!==e&&e!==m)if(!1!==w&&w!==m)g=g["$=="]("`")?["specialcharacters"]:t.get("SUBS")["$[]"]("normal"),b.passthroughs["$[]="](c,A(["text","subs","attributes",
"type"],{text:r,subs:g,attributes:e,type:"monospaced"}));else b.passthroughs["$[]="](c,A(["text","subs","attributes","type"],{text:r,subs:["specialcharacters"],attributes:e,type:"unquoted"}));else b.passthroughs["$[]="](c,A(["text","subs"],{text:r,subs:["specialcharacters"]}));return""+f+t.get("PASS_START")+c+t.get("PASS_END")},d.$$s=this,d),c).call(v,O));(c=(h=b["$include?"](":"),!1!==h&&h!==m?!1!==(p=b["$include?"]("stem:"))&&p!==m?p:b["$include?"]("math:"):h))===m||c.$$is_boolean&&1!=c||(b=(c=
(h=b).$gsub,c.$$p=(w=function(){var a=w.$$s||this,b,d=m,h=m,c=m,f=m,e=d=m;null==a.document&&(a.document=m);null==a.passthroughs&&(a.passthroughs=m);null==x["~"]&&(x["~"]=m);d=x["~"];if((b=d["$[]"](0)["$start_with?"]("\\"))!==m&&(!b.$$is_boolean||1==b))return d["$[]"](0)["$[]"](y(1,-1,!1));(h=d["$[]"](1).$to_sym())["$=="]("stem")&&(h=((b=(c=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===m||b.$$is_boolean&&1!=b?c:"asciimath").$to_sym());f=a.$unescape_brackets(d["$[]"](3));d=(b=d["$[]"](2)["$nil_or_empty?"]())===
m||b.$$is_boolean&&1!=b?a.$resolve_pass_subs(d["$[]"](2)):(b=a.document["$basebackend?"]("html"))===m||b.$$is_boolean&&1!=b?[]:["specialcharacters"];a.passthroughs["$[]="](e=a.passthroughs.$size(),A(["text","subs","type"],{text:f,subs:d,type:h}));return""+t.get("PASS_START")+e+t.get("PASS_END")},w.$$s=this,w),c).call(h,t.get("StemInlineMacroRx")));return b});a.defn(p,"$restore_passthroughs",function(a,b){var c,e,g,h;null==this.passthroughs&&(this.passthroughs=m);null==b&&(b=!0);try{return(c=(e=!1!==
b&&b!==m)?!1!==(g=this.passthroughs["$empty?"]())&&g!==m?g:a["$include?"](t.get("PASS_START"))["$!"]():b)===m||c.$$is_boolean&&1!=c?(c=(e=a).$gsub,c.$$p=(h=function(){var a=h.$$s||this,b,c=m,f=m,e=m,k=m;null==a.passthroughs&&(a.passthroughs=m);null==x["~"]&&(x["~"]=m);c=a.passthroughs["$[]"](x["~"]["$[]"](1).$to_i());f=(b=e=c["$[]"]("subs"))===m||b.$$is_boolean&&1!=b?c["$[]"]("text"):a.$apply_subs(c["$[]"]("text"),e);(b=k=c["$[]"]("type"))===m||b.$$is_boolean&&1!=b||(f=t.get("Inline").$new(a,"quoted",
f,A(["type","attributes"],{type:k,attributes:c["$[]"]("attributes")})).$convert());return(b=f["$include?"](t.get("PASS_START")))===m||b.$$is_boolean&&1!=b?f:a.$restore_passthroughs(f,!1)},h.$$s=this,h),c).call(e,t.get("PASS_MATCH")):a}finally{!1!==b&&b!==m&&this.passthroughs.$clear()}});a.defn(p,"$sub_specialchars",function(a){var b,c;return(b=t.get("SUPPORTS_GSUB_RESULT_HASH"))===m||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(c=function(){var a;return t.get("SPECIAL_CHARS")["$[]"]((a=x["~"])===m?m:a["$[]"](0))},
c.$$s=this,c),b).call(a,t.get("SPECIAL_CHARS_PATTERN")):a.$gsub(t.get("SPECIAL_CHARS_PATTERN"),t.get("SPECIAL_CHARS"))});a.alias(p,"sub_specialcharacters","sub_specialchars");a.defn(p,"$sub_quotes",function(b){var c,e,g,r,h,d=m;null==this.document&&(this.document=m);(c=a.get("RUBY_ENGINE_OPAL"))===m||c.$$is_boolean&&1!=c?(d=""+b,(c=(r=t.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(h=function(a,b,c){var f=h.$$s||this,e,k,g;null==a&&(a=m);null==b&&(b=m);null==c&&(c=m);return(e=
(k=d)["$gsub!"],e.$$p=(g=function(){var d=g.$$s||this;null==x["~"]&&(x["~"]=m);return d.$convert_quoted_text(x["~"],a,b)},g.$$s=f,g),e).call(k,c)},h.$$s=this,h),c).call(r)):(d=b,(c=(e=t.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(g=function(a,b,h){var c=g.$$s||this,f,e,k;null==a&&(a=m);null==b&&(b=m);null==h&&(h=m);return d=(f=(e=d).$gsub,f.$$p=(k=function(){var d=k.$$s||this;null==x["~"]&&(x["~"]=m);return d.$convert_quoted_text(x["~"],a,b)},k.$$s=c,k),f).call(e,h)},g.$$s=
this,g),c).call(e));return d});a.defn(p,"$sub_replacements",function(b){var c,e,g,r,h,d=m;(c=a.get("RUBY_ENGINE_OPAL"))===m||c.$$is_boolean&&1!=c?(d=""+b,(c=(r=t.get("REPLACEMENTS")).$each,c.$$p=(h=function(a,b,c){var f=h.$$s||this,e,k,g;null==a&&(a=m);null==b&&(b=m);null==c&&(c=m);return(e=(k=d)["$gsub!"],e.$$p=(g=function(){var a=g.$$s||this;null==x["~"]&&(x["~"]=m);return a.$do_replacement(x["~"],b,c)},g.$$s=f,g),e).call(k,a)},h.$$s=this,h),c).call(r)):(d=b,(c=(e=t.get("REPLACEMENTS")).$each,c.$$p=
(g=function(a,b,h){var c=g.$$s||this,f,e,k;null==a&&(a=m);null==b&&(b=m);null==h&&(h=m);return d=(f=(e=d).$gsub,f.$$p=(k=function(){var a=k.$$s||this;null==x["~"]&&(x["~"]=m);return a.$do_replacement(x["~"],b,h)},k.$$s=c,k),f).call(e,a)},g.$$s=this,g),c).call(e));return d});a.defn(p,"$do_replacement",function(a,b,c){var e,g=m,g=m;(e=(g=a["$[]"](0))["$include?"]("\\"))===m||e.$$is_boolean&&1!=e?(g=c,a="none"["$==="](g)?b:"leading"["$==="](g)?""+a["$[]"](1)+b:"bounding"["$==="](g)?""+a["$[]"](1)+b+
a["$[]"](2):m):a=g.$tr("\\","");return a});a.defn(p,"$sub_attributes",function(b,c){var g,v,r,h=m,d=m,l=m,w=m;null==this.document&&(this.document=m);null==c&&(c=A([],{}));if((g=b["$nil_or_empty?"]())!==m&&(!g.$$is_boolean||1==g))return b;(g=h=a.get("String")["$==="](b))===m||g.$$is_boolean&&1!=g||(b=[b]);d=this.document.$attributes();l=m;w=[];(g=(v=b).$each,g.$$p=(r=function(b){var h=r.$$s||this,f,g,v,n,p=m,H=m;null==b&&(b=m);H=p=!1;(f=b["$include?"]("{"))===m||f.$$is_boolean&&1!=f||(b=(f=(g=b).$gsub,
f.$$p=(v=function(){var b=v.$$s||this,h,f,g,r=m,w=m,z=m,n=m,O=m,ba=m,u=m,C=m,B=m;null==b.document&&(b.document=m);null==x["~"]&&(x["~"]=m);r=x["~"];if((h=!1!==(f=r["$[]"](1)["$=="]("\\"))&&f!==m?f:r["$[]"](4)["$=="]("\\"))===m||h.$$is_boolean&&1!=h){if((h=r["$[]"](3)["$nil_or_empty?"]()["$!"]())===m||h.$$is_boolean&&1!=h)return(h=d["$key?"](B=r["$[]"](2).$downcase()))===m||h.$$is_boolean&&1!=h?(h=t.get("INTRINSIC_ATTRIBUTES")["$key?"](B))===m||h.$$is_boolean&&1!=h?function(){O=!1!==(h=l)&&h!==m?h:
l=!1!==(f=c["$[]"]("attribute_missing"))&&f!==m?f:d.$fetch("attribute-missing",t.get("Compliance").$attribute_missing());if("skip"["$==="](O))return r["$[]"](0);if("drop-line"["$==="](O))return b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+B),p=!0,e.$v="",e;if("warn"["$==="](O))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+B),r["$[]"](0);H=!0;return""}():t.get("INTRINSIC_ATTRIBUTES")["$[]"](B):d["$[]"](B);w=q((z=r["$[]"](3)).$length(),
1);n=r["$[]"](2)["$[]"](y(w,-1,!1));return function(){O=z;if("set"["$==="](O)){ba=n.$split(":");f=t.get("Parser").$store_attribute(ba["$[]"](0),!1!==(g=ba["$[]"](1))&&g!==m?g:"",b.document);h=a.to_ary(f);u=null==h[1]?m:h[1];f;if((!1===u||u===m)&&d.$fetch("attribute-undefined",t.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return p=!0,e.$v="",e;H=!0;return""}if("counter"["$==="](O)||"counter2"["$==="](O))return ba=n.$split(":"),C=b.document.$counter(ba["$[]"](0),ba["$[]"](1)),z["$=="]("counter2")?
(H=!0,""):C;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+r["$[]"](3));return r["$[]"](0)}()}return"{"+r["$[]"](2)+"}"},v.$$s=h,v),f).call(g,t.get("AttributeReferenceRx")));return(f=!1!==(n=p)&&n!==m?n:!1!==H&&H!==m?b["$empty?"]():H)===m||f.$$is_boolean&&1!=f?w["$<<"](b):m},r.$$s=this,r),g).call(v);return!1!==h&&h!==m?n(w,t.get("EOL")):w});a.defn(p,"$sub_macros",function(b){var e,g,v,r,h,d,n,w,l,p,z,q,Q,ba,F,H,u,I,J,V,S=m,L=m,W=m,N=m,K=m,U=m;null==this.document&&(this.document=m);
if((e=b["$nil_or_empty?"]())!==m&&(!e.$$is_boolean||1==e))return b;S=A([],{});S["$[]="]("square_bracket",b["$include?"]("["));S["$[]="]("round_bracket",b["$include?"]("("));S["$[]="]("colon",L=b["$include?"](":"));S["$[]="]("macroish",(e=S["$[]"]("square_bracket"),!1!==e&&e!==m?L:e));S["$[]="]("macroish_short_form",(e=(g=S["$[]"]("square_bracket"),!1!==g&&g!==m?L:g),!1!==e&&e!==m?b["$include?"](":["):e));W=this.document.$attributes()["$has_key?"]("linkattrs");N=this.document.$attributes()["$has_key?"]("experimental");
K=""+b;!1!==N&&N!==m&&((e=(g=S["$[]"]("macroish_short_form"),!1!==g&&g!==m?!1!==(v=K["$include?"]("kbd:"))&&v!==m?v:K["$include?"]("btn:"):g))===m||e.$$is_boolean&&1!=e||(K=(e=(g=K).$gsub,e.$$p=(r=function(){var a=r.$$s||this,b,d,h,c=m,f=m,c=c=m;null==x["~"]&&(x["~"]=m);c=x["~"];if((b=(f=c["$[]"](0))["$start_with?"]("\\"))!==m&&(!b.$$is_boolean||1==b))return f["$[]"](y(1,-1,!1));if((b=f["$start_with?"]("kbd"))===m||b.$$is_boolean&&1!=b){if((b=f["$start_with?"]("btn"))===m||b.$$is_boolean&&1!=b)return m;
c=a.$unescape_bracketed_text(c["$[]"](1));return t.get("Inline").$new(a,"button",c).$convert()}c=a.$unescape_bracketed_text(c["$[]"](1));c=c["$=="]("+")?["+"]:(b=(d=c.$split(t.get("KbdDelimiterRx"))).$inject,b.$$p=(h=function(a,b){var d;null==a&&(a=m);null==b&&(b=m);if((d=b["$end_with?"]("++"))===m||d.$$is_boolean&&1!=d)a["$<<"](b.$strip());else a["$<<"](b["$[]"](y(0,-3,!1)).$strip()),a["$<<"]("+");return a},h.$$s=a,h),b).call(d,[]);return t.get("Inline").$new(a,"kbd",m,A(["attributes"],{attributes:A(["keys"],
{keys:c})})).$convert()},r.$$s=this,r),e).call(g,t.get("KbdBtnInlineMacroRx"))),(e=(v=S["$[]"]("macroish"),!1!==v&&v!==m?K["$include?"]("menu:"):v))===m||e.$$is_boolean&&1!=e||(K=(e=(v=K).$gsub,e.$$p=(h=function(){var a=h.$$s||this,b,d,c,f=m,e=m,k=f=e=m,k=f=m;null==x["~"]&&(x["~"]=m);f=x["~"];if((b=(e=f["$[]"](0))["$start_with?"]("\\"))!==m&&(!b.$$is_boolean||1==b))return e["$[]"](y(1,-1,!1));e=f["$[]"](1);f=f["$[]"](2);(b=f["$!"]())===m||b.$$is_boolean&&1!=b?(b=k=(d=f["$include?"]("&gt;"))===m||
d.$$is_boolean&&1!=d?(d=f["$include?"](","))===m||d.$$is_boolean&&1!=d?m:",":"&gt;")===m||b.$$is_boolean&&1!=b?(k=[],f=f.$rstrip()):(k=(b=(d=f.$split(k)).$map,b.$$p=(c=function(a){null==a&&(a=m);return a.$strip()},c.$$s=a,c),b).call(d),f=k.$pop()):(k=[],f=m);return t.get("Inline").$new(a,"menu",m,A(["attributes"],{attributes:A(["menu","submenus","menuitem"],{menu:e,submenus:k,menuitem:f})})).$convert()},h.$$s=this,h),e).call(v,t.get("MenuInlineMacroRx"))),(e=(d=K["$include?"]('"'),!1!==d&&d!==m?K["$include?"]("&gt;"):
d))===m||e.$$is_boolean&&1!=e||(K=(e=(d=K).$gsub,e.$$p=(n=function(){var b=n.$$s||this,d,h,f,e,k,g=m,r=m;h=r=g=g=m;null==x["~"]&&(x["~"]=m);g=x["~"];if((d=(r=g["$[]"](0))["$start_with?"]("\\"))!==m&&(!d.$$is_boolean||1==d))return r["$[]"](y(1,-1,!1));g=g["$[]"](1);h=(f=(e=g.$split("&gt;")).$map,f.$$p=(k=function(a){null==a&&(a=m);return a.$strip()},k.$$s=b,k),f).call(e);d=a.to_ary(h);g=null==d[0]?m:d[0];r=c.call(d,1);h;h=r.$pop();return t.get("Inline").$new(b,"menu",m,A(["attributes"],{attributes:A(["menu",
"submenus","menuitem"],{menu:g,submenus:r,menuitem:h})})).$convert()},n.$$s=this,n),e).call(d,t.get("MenuInlineRx"))));(e=(w=U=this.document.$extensions(),!1!==w&&w!==m?U["$inline_macros?"]():w))===m||e.$$is_boolean&&1!=e||(e=(w=U.$inline_macros()).$each,e.$$p=(l=function(a){var b=l.$$s||this,d,h,c;null==a&&(a=m);return K=(d=(h=K).$gsub,d.$$p=(c=function(){var b=c.$$s||this,d,h=m,f=m,h=m;null==x["~"]&&(x["~"]=m);h=x["~"];if((d=h["$[]"](0)["$start_with?"]("\\"))!==m&&(!d.$$is_boolean||1==d))return h["$[]"](0)["$[]"](y(1,
-1,!1));f=h["$[]"](1);h=a.$config()["$[]"]("format")["$=="]("short")?A([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?b.$parse_attributes(h["$[]"](2),!1!==(d=a.$config()["$[]"]("pos_attrs"))&&d!==m?d:[],A(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):A(["text"],{text:b.$unescape_bracketed_text(h["$[]"](2))});return a.$process_method()["$[]"](b,f,h)},c.$$s=b,c),d).call(h,a.$instance().$regexp())},l.$$s=this,l),e).call(w);(e=(p=S["$[]"]("macroish"),!1!==p&&p!==m?
!1!==(z=K["$include?"]("image:"))&&z!==m?z:K["$include?"]("icon:"):p))===m||e.$$is_boolean&&1!=e||(K=(e=(p=K).$gsub,e.$$p=(q=function(){var a=q.$$s||this,b,d,h,c=m,f=d=m,e=m,e=c=m;null==a.document&&(a.document=m);null==x["~"]&&(x["~"]=m);c=x["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==m&&(!b.$$is_boolean||1==b))return c["$[]"](0)["$[]"](y(1,-1,!1));d=a.$unescape_bracketed_text(c["$[]"](2));(b=c["$[]"](0)["$start_with?"]("icon:"))===m||b.$$is_boolean&&1!=b?(f="image",e=["alt","width","height"]):
(f="icon",e=["size"]);c=a.$sub_attributes(c["$[]"](1));f["$=="]("icon")||a.document.$register("images",c);e=a.$parse_attributes(d,e);b="alt";d=e;!1!==(h=d["$[]"](b))&&h!==m?h:d["$[]="](b,t.get("Helpers").$basename(c,!0).$tr("_-"," "));return t.get("Inline").$new(a,"image",m,A(["type","target","attributes"],{type:f,target:c,attributes:e})).$convert()},q.$$s=this,q),e).call(p,t.get("ImageInlineMacroRx")));(e=!1!==(z=S["$[]"]("macroish_short_form"))&&z!==m?z:S["$[]"]("round_bracket"))===m||e.$$is_boolean&&
1!=e||(K=(e=(z=K).$gsub,e.$$p=(Q=function(){var b=Q.$$s||this,d,h,c=m,f=m,e=m,k=m,c=c=m;null==b.document&&(b.document=m);null==x["~"]&&(x["~"]=m);c=x["~"];if((d=c["$[]"](0)["$start_with?"]("\\"))!==m&&(!d.$$is_boolean||1==d))return c["$[]"](0)["$[]"](y(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==m&&(!d.$$is_boolean||1==d)&&c["$[]"](1)["$=="](""))c["$[]="](1,m);f=0;e=m;if((d=k=c["$[]"](1))===m||d.$$is_boolean&&1!=d)e=c["$[]"](3),(d=(h=e["$start_with?"]("("),!1!==h&&h!==m?e["$end_with?"](")"):h))===
m||d.$$is_boolean&&1!=d?f=2:(e=e["$[]"](y(1,-1,!0)),f=3);if((d=!1!==(h=k["$=="]("indexterm"))&&h!==m?h:f["$=="](3))===m||d.$$is_boolean&&1!=d)return c=(d=k["$!"]())===m||d.$$is_boolean&&1!=d?b.$normalize_string(c["$[]"](2),!0):b.$normalize_string(e),b.document.$register("indexterms",[c]),t.get("Inline").$new(b,"indexterm",c,A(["type"],{type:"visible"})).$convert();c=(d=k["$!"]())===m||d.$$is_boolean&&1!=d?b.$split_simple_csv(b.$normalize_string(c["$[]"](2),!0)):b.$split_simple_csv(b.$normalize_string(e));
b.document.$register("indexterms",[].concat(a.to_a(c)));return t.get("Inline").$new(b,"indexterm",m,A(["attributes"],{attributes:A(["terms"],{terms:c})})).$convert()},Q.$$s=this,Q),e).call(z,t.get("IndextermInlineMacroRx")));(e=(b=!1!==L&&L!==m)?K["$include?"]("://"):L)===m||e.$$is_boolean&&1!=e||(K=(e=(b=K).$gsub,e.$$p=(ba=function(){var b=ba.$$s||this,d,h,c,f,e=m,k=m,g=m,r=m,w=m,v=w=m,e=m;null==b.document&&(b.document=m);null==x["~"]&&(x["~"]=m);e=x["~"];if((d=e["$[]"](2)["$start_with?"]("\\"))!==
m&&(!d.$$is_boolean||1==d))return""+e["$[]"](1)+e["$[]"](2)["$[]"](y(1,-1,!1))+e["$[]"](3);if((d=a.get("RUBY_ENGINE_OPAL"))!==m&&(!d.$$is_boolean||1==d)&&e["$[]"](3)["$=="](""))e["$[]="](3,m);if((d=(h=e["$[]"](1)["$=="]("link:"))?e["$[]"](3)["$!"]():e["$[]"](1)["$=="]("link:"))!==m&&(!d.$$is_boolean||1==d))return e["$[]"](0);k=(d=e["$[]"](1)["$!="]("link:"))===m||d.$$is_boolean&&1!=d?"":e["$[]"](1);g=e["$[]"](2);r="";if((d=!1!==(h=e["$[]"](3))&&h!==m?h:g["$!~"](t.get("UriTerminator")))===m||d.$$is_boolean&&
1!=d)w=x["~"]["$[]"](0),")"["$==="](w)?(g=g["$[]"](y(0,-2,!1)),r=")"):";"["$==="](w)?(d=(h=k["$start_with?"]("&lt;"),!1!==h&&h!==m?g["$end_with?"]("&gt;"):h))===m||d.$$is_boolean&&1!=d?(d=g["$end_with?"](");"))===m||d.$$is_boolean&&1!=d?(g=g["$[]"](y(0,-2,!1)),r=";"):(g=g["$[]"](y(0,-3,!1)),r=");"):(k=k["$[]"](y(4,-1,!1)),g=g["$[]"](y(0,-5,!1))):":"["$==="](w)&&((d=g["$end_with?"]("):"))===m||d.$$is_boolean&&1!=d?(g=g["$[]"](y(0,-2,!1)),r=":"):(g=g["$[]"](y(0,-3,!1)),r="):"));b.document.$register("links",
g);w=A(["type","target"],{type:"link",target:g});v=m;if((d=e["$[]"](3)["$nil_or_empty?"]())===m||d.$$is_boolean&&1!=d){if((d=!1!==W&&W!==m?!1!==(c=e["$[]"](3)["$start_with?"]('"'))&&c!==m?c:(f=e["$[]"](3)["$include?"](","),!1!==f&&f!==m?e["$[]"](3)["$include?"]("="):f):W)===m||d.$$is_boolean&&1!=d)e=b.$sub_attributes(e["$[]"](3).$gsub("\\]","]"));else{v=b.$parse_attributes(b.$sub_attributes(e["$[]"](3).$gsub("\\]","]")),[]);if((d=v["$has_key?"]("id"))!==m&&(!d.$$is_boolean||1==d))w["$[]="]("id",v.$delete("id"));
e=!1!==(d=v["$[]"](1))&&d!==m?d:""}(d=e["$end_with?"]("^"))===m||d.$$is_boolean&&1!=d||(e=e.$chop(),!1!==v&&v!==m?(d="window",h=v,!1!==(c=h["$[]"](d))&&c!==m?c:h["$[]="](d,"_blank")):v=A(["window"],{window:"_blank"}))}else e="";if((d=e["$empty?"]())!==m&&(!d.$$is_boolean||1==d))if(e=(d=b.document["$attr?"]("hide-uri-scheme"))===m||d.$$is_boolean&&1!=d?g:g.$sub(t.get("UriSniffRx"),""),!1!==v&&v!==m)v["$[]="]("role",("bare "+v["$[]"]("role")).$chomp(" "));else v=A(["role"],{role:"bare"});if(!1!==v&&
v!==m)w["$[]="]("attributes",v);return""+k+t.get("Inline").$new(b,"anchor",e,w).$convert()+r},ba.$$s=this,ba),e).call(b,t.get("LinkInlineRx")));(e=!1!==(F=(H=S["$[]"]("macroish"),!1!==H&&H!==m?K["$include?"]("link:"):H))&&F!==m?F:K["$include?"]("mailto:"))===m||e.$$is_boolean&&1!=e||(K=(e=(F=K).$gsub,e.$$p=(u=function(){var a=u.$$s||this,b,d,h,c=m,f=m,e=m,k=d=m,g=m,c=m;null==a.document&&(a.document=m);null==x["~"]&&(x["~"]=m);c=x["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==m&&(!b.$$is_boolean||
1==b))return c["$[]"](0)["$[]"](y(1,-1,!1));f=c["$[]"](1);e=c["$[]"](0)["$start_with?"]("mailto:");d=!1!==e&&e!==m?"mailto:"+f:f;k=A(["type","target"],{type:"link",target:d});g=m;if((b=!1!==W&&W!==m?!1!==(h=c["$[]"](2)["$start_with?"]('"'))&&h!==m?h:c["$[]"](2)["$include?"](","):W)===m||b.$$is_boolean&&1!=b)c=a.$sub_attributes(c["$[]"](2).$gsub("\\]","]"));else{g=a.$parse_attributes(a.$sub_attributes(c["$[]"](2).$gsub("\\]","]")),[]);if((b=g["$key?"]("id"))!==m&&(!b.$$is_boolean||1==b))k["$[]="]("id",
g.$delete("id"));!1===e||e===m||(b=g["$key?"](2))===m||b.$$is_boolean&&1!=b||(d=k["$[]="]("target",""+d+"?subject="+t.get("Helpers").$encode_uri(g["$[]"](2))),(b=g["$key?"](3))===m||b.$$is_boolean&&1!=b||(d=k["$[]="]("target",""+d+"&amp;body="+t.get("Helpers").$encode_uri(g["$[]"](3)))));c=g["$[]"](1)}a.document.$register("links",d);(b=c["$end_with?"]("^"))===m||b.$$is_boolean&&1!=b||(c=c.$chop(),!1!==g&&g!==m?(b="window",d=g,!1!==(h=d["$[]"](b))&&h!==m?h:d["$[]="](b,"_blank")):g=A(["window"],{window:"_blank"}));
if((b=c["$empty?"]())!==m&&(!b.$$is_boolean||1==b))if(!1!==e&&e!==m)c=f;else if(c=(b=a.document["$attr?"]("hide-uri-scheme"))===m||b.$$is_boolean&&1!=b?f:f.$sub(t.get("UriSniffRx"),""),!1!==g&&g!==m)g["$[]="]("role",("bare "+g["$[]"]("role")).$chomp(" "));else g=A(["role"],{role:"bare"});if(!1!==g&&g!==m)k["$[]="]("attributes",g);return t.get("Inline").$new(a,"anchor",c,k).$convert()},u.$$s=this,u),e).call(F,t.get("LinkInlineMacroRx")));(e=K["$include?"]("@"))===m||e.$$is_boolean&&1!=e||(K=(e=(H=
K).$gsub,e.$$p=(I=function(){var a=I.$$s||this,b,d=m,h=m,d=d=m;null==a.document&&(a.document=m);null==x["~"]&&(x["~"]=m);d=x["~"];h=d["$[]"](0);if((b=d=d["$[]"](1))!==m&&(!b.$$is_boolean||1==b))return"\\"["$==="](d)?h["$[]"](y(1,-1,!1)):h;d="mailto:"+h;a.document.$register("links",d);return t.get("Inline").$new(a,"anchor",h,A(["type","target"],{type:"link",target:d})).$convert()},I.$$s=this,I),e).call(H,t.get("EmailInlineMacroRx")));(e=(J=S["$[]"]("macroish_short_form"),!1!==J&&J!==m?K["$include?"]("footnote"):
J))===m||e.$$is_boolean&&1!=e||(K=(e=(J=K).$gsub,e.$$p=(V=function(){var b=V.$$s||this,d,h,c,f,e=m,k=m,g=h=e=m,r=m,e=m;null==b.document&&(b.document=m);null==x["~"]&&(x["~"]=m);e=x["~"];if((d=e["$[]"](0)["$start_with?"]("\\"))!==m&&(!d.$$is_boolean||1==d))return e["$[]"](0)["$[]"](y(1,-1,!1));e["$[]"](1)["$=="]("footnote")?(k=m,e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(e["$[]"](2),!0))),!1),h=b.document.$counter("footnote-number"),b.document.$register("footnotes",
t.get("Document").$$scope.get("Footnote").$new(h,k,e)),r=g=m):(h=e["$[]"](2).$split(",",2),d=a.to_ary(h),k=null==d[0]?m:d[0],e=null==d[1]?m:d[1],h,k=k.$strip(),(d=e["$nil_or_empty?"]())===m||d.$$is_boolean&&1!=d?(e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(e,!0))),!1),h=b.document.$counter("footnote-number"),b.document.$register("footnotes",t.get("Document").$$scope.get("Footnote").$new(h,k,e)),g="ref",r=m):((d=e=(h=(c=b.document.$references()["$[]"]("footnotes")).$find,
h.$$p=(f=function(a){null==a&&(a=m);return a.$id()["$=="](k)},f.$$s=b,f),h).call(c))===m||d.$$is_boolean&&1!=d?(h=m,e=k):(h=e.$index(),e=e.$text()),r=k,k=m,g="xref"));return t.get("Inline").$new(b,"footnote",e,A(["attributes","id","target","type"],{attributes:A(["index"],{index:h}),id:k,target:r,type:g})).$convert()},V.$$s=this,V),e).call(J,t.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(K,S),S)});a.defn(p,"$sub_inline_anchors",function(b,c){var e,g,r,h,d,n,
w;null==c&&(c=m);(e=(g=!1!==(r=c["$!"]())&&r!==m?r:c["$[]"]("square_bracket"),!1!==g&&g!==m?b["$include?"]("[[["):g))===m||e.$$is_boolean&&1!=e||(b=(e=(g=b).$gsub,e.$$p=(h=function(){var a=h.$$s||this,b,d=m,c=d=m;null==x["~"]&&(x["~"]=m);d=x["~"];if((b=d["$[]"](0)["$start_with?"]("\\"))!==m&&(!b.$$is_boolean||1==b))return d["$[]"](0)["$[]"](y(1,-1,!1));d=c=d["$[]"](1);return t.get("Inline").$new(a,"anchor",c,A(["type","target"],{type:"bibref",target:d})).$convert()},h.$$s=this,h),e).call(g,t.get("InlineBiblioAnchorRx")));
(e=!1!==(r=(d=!1!==(n=c["$!"]())&&n!==m?n:c["$[]"]("square_bracket"),!1!==d&&d!==m?b["$include?"]("[["):d))&&r!==m?r:(d=!1!==(n=c["$!"]())&&n!==m?n:c["$[]"]("macroish"),!1!==d&&d!==m?b["$include?"]("anchor:"):d))===m||e.$$is_boolean&&1!=e||(b=(e=(r=b).$gsub,e.$$p=(w=function(){var b=w.$$s||this,d,h,c=m,e=m,c=m;null==x["~"]&&(x["~"]=m);c=x["~"];if((d=c["$[]"](0)["$start_with?"]("\\"))!==m&&(!d.$$is_boolean||1==d))return c["$[]"](0)["$[]"](y(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==m&&(!d.$$is_boolean||
1==d)){if(c["$[]"](1)["$=="](""))c["$[]="](1,m);if(c["$[]"](2)["$=="](""))c["$[]="](2,m);if(c["$[]"](4)["$=="](""))c["$[]="](4,m)}e=!1!==(d=c["$[]"](1))&&d!==m?d:c["$[]"](3);c=!1!==(d=!1!==(h=c["$[]"](2))&&h!==m?h:c["$[]"](4))&&d!==m?d:"["+e+"]";return t.get("Inline").$new(b,"anchor",c,A(["type","target"],{type:"ref",target:e})).$convert()},w.$$s=this,w),e).call(r,t.get("InlineAnchorRx")));return b});a.defn(p,"$sub_inline_xrefs",function(b,c){var e,g,r,h;null==c&&(c=m);(e=!1!==(g=!1!==(r=c["$!"]())&&
r!==m?r:c["$[]"]("macroish"))&&g!==m?g:b["$include?"]("&lt;&lt;"))===m||e.$$is_boolean&&1!=e||(b=(e=(g=b).$gsub,e.$$p=(h=function(){var b=h.$$s||this,c,e,f,k,g,r,v=m,n=m,l=m,p=n=v=m,q=m,p=m;null==b.document&&(b.document=m);null==x["~"]&&(x["~"]=m);v=x["~"];if((c=v["$[]"](0)["$start_with?"]("\\"))!==m&&(!c.$$is_boolean||1==c))return v["$[]"](0)["$[]"](y(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==m&&(!c.$$is_boolean||1==c)&&v["$[]"](1)["$=="](""))v["$[]="](1,m);if((c=v["$[]"](1))===m||c.$$is_boolean&&
1!=c){if(n=v["$[]"](2),(c=v["$[]"](3)["$nil_or_empty?"]())===m||c.$$is_boolean&&1!=c)l=v["$[]"](3)}else e=(f=(k=v["$[]"](1).$split(",",2)).$map,f.$$p=(g=function(a){null==a&&(a=m);return a.$strip()},g.$$s=b,g),f).call(k),c=a.to_ary(e),n=null==c[0]?m:c[0],l=null==c[1]?m:c[1],e,n=n.$sub(t.get("DoubleQuotedRx"),"\\2"),l=(c=l["$nil_or_empty?"]())===m||c.$$is_boolean&&1!=c?l.$sub(t.get("DoubleQuotedMultiRx"),"\\2"):m;(c=n["$include?"]("#"))===m||c.$$is_boolean&&1!=c?v=m:(e=n.$split("#"),c=a.to_ary(e),
v=null==c[0]?m:c[0],n=null==c[1]?m:c[1],e);!1!==v&&v!==m?(v=t.get("Helpers").$rootname(v),(c=!1!==(e=b.document.$attributes()["$[]"]("docname")["$=="](v))&&e!==m?e:b.document.$references()["$[]"]("includes")["$include?"](v))===m||c.$$is_boolean&&1!=c?(p=!1!==n&&n!==m?""+v+"#"+n:v,v=""+b.document.$attributes()["$[]"]("relfileprefix")+v+b.document.$attributes().$fetch("outfilesuffix",".html"),q=!1!==n&&n!==m?""+v+"#"+n:v):(p=n,v=m,q="#"+n)):((c=(e=(f=b.document.$references()["$[]"]("ids")["$has_key?"](n)["$!"](),
!1!==f&&f!==m?!1!==(r=n["$include?"](" "))&&r!==m?r:n.$downcase()["$!="](n):f),!1!==e&&e!==m?p=(f=t.get("RUBY_MIN_VERSION_1_9"))===m||f.$$is_boolean&&1!=f?b.document.$references()["$[]"]("ids").$index(n):b.document.$references()["$[]"]("ids").$key(n):e))===m||c.$$is_boolean&&1!=c||(n=p),p=n,q="#"+n);return t.get("Inline").$new(b,"anchor",l,A(["type","target","attributes"],{type:"xref",target:q,attributes:A(["path","fragment","refid"],{path:v,fragment:n,refid:p})})).$convert()},h.$$s=this,h),e).call(g,
t.get("XrefInlineMacroRx")));return b});a.defn(p,"$sub_callouts",function(b){var c,e,g=m,g=(c=this["$attr?"]("line-comment"))===m||c.$$is_boolean&&1!=c?t.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+t.get("CalloutSourceRxt"));return(c=b.$gsub,c.$$p=(e=function(){var a=e.$$s||this,b=m;null==a.document&&(a.document=m);null==x["~"]&&(x["~"]=m);b=x["~"];return b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):t.get("Inline").$new(a,"callout",b["$[]"](3),
A(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e),c).call(b,g)});a.defn(p,"$sub_post_replacements",function(a){var b,c,e,g,h=m,d=m;null==this.document&&(this.document=m);null==this.attributes&&(this.attributes=m);if((b=!1!==(c=this.document.$attributes()["$has_key?"]("hardbreaks"))&&c!==m?c:this.attributes["$has_key?"]("hardbreaks-option"))===m||b.$$is_boolean&&1!=b)return(b=a["$include?"]("+"))===m||b.$$is_boolean&&1!=b?a:(b=a.$gsub,b.$$p=(g=function(){var a=g.$$s||
this;null==x["~"]&&(x["~"]=m);return t.get("Inline").$new(a,"break",x["~"]["$[]"](1),A(["type"],{type:"line"})).$convert()},g.$$s=this,g),b).call(a,t.get("LineBreakRx"));h=a.$split(t.get("EOL"));if(h.$size()["$=="](1))return a;d=h.$pop();return n((b=(c=h).$map,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=m);return t.get("Inline").$new(b,"break",a.$rstrip().$chomp(t.get("LINE_BREAK")),A(["type"],{type:"line"})).$convert()},e.$$s=this,e),b).call(c).$push(d),t.get("EOL"))});a.defn(p,"$convert_quoted_text",
function(a,b,c){var e,g=m,h=m,d=g=m,g=m;if((e=a["$[]"](0)["$start_with?"]("\\"))!==m&&(!e.$$is_boolean||1==e)){if((e=c["$=="]("constrained")?(h=a["$[]"](2))["$nil_or_empty?"]()["$!"]():c["$=="]("constrained"))===m||e.$$is_boolean&&1!=e)return a["$[]"](0)["$[]"](y(1,-1,!1));g="["+h+"]"}if(c["$=="]("constrained")){if(!1!==g&&g!==m)return""+g+t.get("Inline").$new(this,"quoted",a["$[]"](3),A(["type"],{type:b})).$convert();(e=g=this.$parse_quoted_text_attributes(a["$[]"](2)))===m||e.$$is_boolean&&1!=e?
d=m:(d=g.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+t.get("Inline").$new(this,"quoted",a["$[]"](3),A(["type","id","attributes"],{type:b,id:d,attributes:g})).$convert()}(e=g=this.$parse_quoted_text_attributes(a["$[]"](1)))===m||e.$$is_boolean&&1!=e?d=m:(d=g.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return t.get("Inline").$new(this,"quoted",a["$[]"](2),A(["type","id","attributes"],{type:b,id:d,attributes:g})).$convert()});a.defn(p,"$parse_quoted_text_attributes",function(b){var e,
g,v,r=m,h=m,d=m,d=r=m;if(!1===b||b===m)return m;if((e=b["$empty?"]())!==m&&(!e.$$is_boolean||1==e))return A([],{});(e=b["$include?"]("{"))===m||e.$$is_boolean&&1!=e||(b=this.$sub_attributes(b));b=b.$strip();(e=b["$include?"](","))===m||e.$$is_boolean&&1!=e||(g=b.$split(",",2),e=a.to_ary(g),b=null==e[0]?m:e[0],g);if((e=b["$empty?"]())===m||e.$$is_boolean&&1!=e){if((e=(g=!1!==(v=b["$start_with?"]("."))&&v!==m?v:b["$start_with?"]("#"),!1!==g&&g!==m?t.get("Compliance").$shorthand_property_syntax():g))===
m||e.$$is_boolean&&1!=e)return A(["role"],{role:b});r=b.$split("#",2);(e=l(r.$length(),1))===m||e.$$is_boolean&&1!=e?(h=m,d=[]):(g=r["$[]"](1).$split("."),e=a.to_ary(g),h=null==e[0]?m:e[0],d=c.call(e,1),g);r=(e=r["$[]"](0)["$empty?"]())===m||e.$$is_boolean&&1!=e?r["$[]"](0).$split("."):[];(e=l(r.$length(),1))===m||e.$$is_boolean&&1!=e||r.$shift();(e=l(d.$length(),0))===m||e.$$is_boolean&&1!=e||r.$concat(d);d=A([],{});if(!1!==h&&h!==m)d["$[]="]("id",h);if((e=r["$empty?"]())===m||e.$$is_boolean&&1!=
e)d["$[]="]("role",n(r," "));return d}return A([],{})});a.defn(p,"$parse_attributes",function(a,b,c){var e,g=m,h=m;null==this.document&&(this.document=m);null==b&&(b=["role"]);null==c&&(c=A([],{}));if(!1===a||a===m)return m;if((e=a["$empty?"]())!==m&&(!e.$$is_boolean||1==e))return A([],{});(e=c["$[]"]("sub_input"))===m||e.$$is_boolean&&1!=e||(a=this.document.$sub_attributes(a));(e=c["$[]"]("unescape_input"))===m||e.$$is_boolean&&1!=e||(a=this.$unescape_bracketed_text(a));g=m;(e=c.$fetch("sub_result",
!0))===m||e.$$is_boolean&&1!=e||(g=this);return(e=h=c["$[]"]("into"))===m||e.$$is_boolean&&1!=e?t.get("AttributeList").$new(a,g).$parse(b):t.get("AttributeList").$new(a,g).$parse_into(h,b)});a.defn(p,"$unescape_bracketed_text",function(a){var b;return(b=a["$empty?"]())===m||b.$$is_boolean&&1!=b?a.$strip().$tr(t.get("EOL")," ").$gsub("\\]","]"):""});a.defn(p,"$normalize_string",function(a,b){var c;null==b&&(b=!1);return(c=a["$empty?"]())===m||c.$$is_boolean&&1!=c?!1!==b&&b!==m?this.$unescape_brackets(a.$strip().$tr(t.get("EOL"),
" ")):a.$strip().$tr(t.get("EOL")," "):""});a.defn(p,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===m||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""});a.defn(p,"$split_simple_csv",function(a){var b,c,e,g,h=m,d=m,n=m;(b=a["$empty?"]())===m||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===m||b.$$is_boolean&&1!=b?h=(b=(e=a.$split(",")).$map,b.$$p=(g=function(a){null==a&&(a=m);return a.$strip()},g.$$s=this,g),b).call(e):(h=[],d=[],n=!1,(b=a.$each_char,b.$$p=(c=function(a){var b=m;null==
a&&(a=m);return function(){b=a;if(","["$==="](b)){if(!1!==n&&n!==m)return d.$push(a);h["$<<"](d.$join().$strip());return d=[]}return'"'["$==="](b)?n=n["$!"]():d.$push(a)}()},c.$$s=this,c),b).call(a),h["$<<"](d.$join().$strip())):h=[];return h});a.defn(p,"$resolve_subs",function(a,b,c,e){var r,h,d,p=m,w=m,u=m,P=m;null==b&&(b="block");null==c&&(c=m);null==e&&(e=m);if((r=a["$nil_or_empty?"]())!==m&&(!r.$$is_boolean||1==r))return[];p=m;w=t.get("SubModifierSniffRx")["$=~"](a);(r=(h=a.$tr(" ","").$split(",")).$each,
r.$$p=(d=function(a){var d,h,e,f=m,r=h=h=h=m,f=m;null==a&&(a=m);f=m;!1!==w&&w!==m&&((h=a.$chr())["$=="]("+")?(f="append",a=a["$[]"](y(1,-1,!1))):h["$=="]("-")?(f="remove",a=a["$[]"](y(1,-1,!1))):(d=a["$end_with?"]("+"))===m||d.$$is_boolean&&1!=d||(f="prepend",a=a.$chop()));a=a.$to_sym();(d=(h=b["$=="]("inline"))?!1!==(e=a["$=="]("verbatim"))&&e!==m?e:a["$=="]("v"):b["$=="]("inline"))===m||d.$$is_boolean&&1!=d?(d=t.get("COMPOSITE_SUBS")["$key?"](a))===m||d.$$is_boolean&&1!=d?(d=(h=b["$=="]("inline")?
a.$length()["$=="](1):b["$=="]("inline"),!1!==h&&h!==m?t.get("SUB_SYMBOLS")["$key?"](a):h))===m||d.$$is_boolean&&1!=d?h=[a]:(h=t.get("SUB_SYMBOLS")["$[]"](a),h=(d=r=t.get("COMPOSITE_SUBS")["$[]"](h))===m||d.$$is_boolean&&1!=d?[h]:r):h=t.get("COMPOSITE_SUBS")["$[]"](a):h=["specialcharacters"];if(!1!==f&&f!==m)return!1!==(d=p)&&d!==m?d:p=!1!==c&&c!==m?c.$dup():[],"append"["$==="](f)?p=q(p,h):"prepend"["$==="](f)?p=q(h,p):"remove"["$==="](f)?p=g(p,h):m;!1!==(d=p)&&d!==m?d:p=[];return p=q(p,h)},d.$$s=
this,d),r).call(h);u=p["$&"](t.get("SUB_OPTIONS")["$[]"](b));if((r=g(p,u)["$empty?"]())===m||r.$$is_boolean&&1!=r)P=g(p,u),this.$warn("asciidoctor: WARNING: invalid substitution type"+((r=l(P.$size(),1))===m||r.$$is_boolean&&1!=r?"":"s")+(!1!==e&&e!==m?" for ":m)+e+": "+n(P,", "));return u});a.defn(p,"$resolve_block_subs",function(a,b,c){return this.$resolve_subs(a,"block",b,c)});a.defn(p,"$resolve_pass_subs",function(a){return this.$resolve_subs(a,"inline",m,"passthrough macro")});a.defn(p,"$highlight_source",
function(b,c,e){var g,r,h,d,p,w=m,l=m,u=m,z=m,O=m,Q=m,ba=m,F=l=m,H=m,M=w=m,I=m;null==this.document&&(this.document=m);null==this.passthroughs&&(this.passthroughs=m);null==e&&(e=m);w=!1!==(g=e)&&g!==m?g:e=this.document.$attributes()["$[]"]("source-highlighter");if("coderay"["$==="](w)){if((g=!1!==(r=l=null==a.Object.$$scope.CodeRay?m:"constant")&&r!==m?r:this.document.$attributes()["$[]"]("coderay-unavailable"))===m||g.$$is_boolean&&1!=g)(g=t.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===
m||g.$$is_boolean&&1!=g?l=!0:this.document.$set_attr("coderay-unavailable","")}else if("pygments"["$==="](w)){if((g=!1!==(r=l=null==a.Object.$$scope.Pygments?m:"constant")&&r!==m?r:this.document.$attributes()["$[]"]("pygments-unavailable"))===m||g.$$is_boolean&&1!=g)(g=t.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===m||g.$$is_boolean&&1!=g?l=!0:this.document.$set_attr("pygments-unavailable","")}else l=!1;if(!1===l||l===m)return this.$sub_source(b,c);u=0;z=!1;!1!==
c&&c!==m?(O=A([],{}),Q=-1,ba=(g=this["$attr?"]("line-comment"))===m||g.$$is_boolean&&1!=g?t.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+t.get("CalloutExtractRxt")),b=n((g=(r=b.$split(t.get("EOL"))).$map,g.$$p=(h=function(a){var b=h.$$s||this,d,c,e;null==a&&(a=m);u=q(u,1);return(d=(c=a).$gsub,d.$$p=(e=function(){var a,b,d,h=m;null==x["~"]&&(x["~"]=m);h=x["~"];if(h["$[]"](1)["$=="]("\\"))return h["$[]"](0).$sub("\\","");(a=u,b=O,!1!==(d=b["$[]"](a))&&
d!==m?d:b["$[]="](a,[]))["$<<"](h["$[]"](3));Q=u;return m},e.$$s=b,e),d).call(c,ba)},h.$$s=this,h),g).call(r),t.get("EOL")),z=Q["$=="](u),(g=O["$empty?"]())===m||g.$$is_boolean&&1!=g||(O=m)):O=m;F=l=m;w=e;if("coderay"["$==="](w))(g=l=(d=this["$attr?"]("linenums"))===m||d.$$is_boolean&&1!=d?m:(!1!==(d=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&d!==m?d:"table").$to_sym())===m||g.$$is_boolean&&1!=g||(g=this["$attr?"]("highlight",m,!1))===m||g.$$is_boolean&&1!=g||(F=this.$resolve_lines_to_highlight(this.$attr("highlight",
m,!1))),H=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",A(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(g=this.document.$attributes()["$[]"]("coderay-css"))&&g!==m?g:"class").$to_sym(),line_numbers:l,line_number_anchors:!1,highlight_lines:F,bold_every:!1})).$highlight(b);else if("pygments"["$==="](w)){w=!1!==(g=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",m,!1)))&&g!==m?g:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");
M=A(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(g=this.document.$attributes()["$[]"]("pygments-css"))&&g!==m?g:"class")["$=="]("class")||(M["$[]="]("noclasses",!0),M["$[]="]("style",!1!==(g=this.document.$attributes()["$[]"]("pygments-style"))&&g!==m?g:t.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((g=this["$attr?"]("highlight",m,!1))!==m&&(!g.$$is_boolean||1==g)&&((g=(F=this.$resolve_lines_to_highlight(this.$attr("highlight",
m,!1)))["$empty?"]())===m||g.$$is_boolean&&1!=g))M["$[]="]("hl_lines",n(F," "));(g=this["$attr?"]("linenums"))===m||g.$$is_boolean&&1!=g?(M["$[]="]("nowrap",!0),H=w.$highlight(b,A(["options"],{options:M}))):M["$[]="]("linenos",!1!==(g=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&g!==m?g:"table")["$=="]("table")?(l="table",H=w.$highlight(b,A(["options"],{options:M})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):H=w.$highlight(b,A(["options"],
{options:M})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((g=this.passthroughs["$empty?"]())===m||g.$$is_boolean&&1!=g)H=H.$gsub(t.get("PASS_MATCH_HI"),""+t.get("PASS_START")+"\\1"+t.get("PASS_END"));if((g=(d=!1!==c&&c!==m)?O:c)===m||g.$$is_boolean&&1!=g)return H;u=0;I=l["$!="]("table");return n((g=(d=H.$split(t.get("EOL"))).$map,g.$$p=(p=function(a){var b=p.$$s||this,d,h,c,e=m,f=m,k=m,e=m;null==b.document&&(b.document=m);null==a&&(a=m);if(!1===I||I===m){if((d=a["$include?"]('<td class="code">'))===
m||d.$$is_boolean&&1!=d)return a;I=!0}u=q(u,1);if((d=e=O.$delete(u))===m||d.$$is_boolean&&1!=d)return a;f=m;(d=(h=!1!==z&&z!==m)?O["$empty?"]():z)===m||d.$$is_boolean&&1!=d||((d=k=a.$index("</pre>"))===m||d.$$is_boolean&&1!=d?a=""+a.$chomp(" ")+" ":(f=a["$[]"](y(k,-1,!1)),a=""+a["$[]"](y(0,k,!0)).$chomp(" ")+" "));if(e.$size()["$=="](1))return""+a+t.get("Inline").$new(b,"callout",e["$[]"](0),A(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()+f;e=n((d=(h=e).$map,d.$$p=(c=function(a){var b=
c.$$s||this;null==b.document&&(b.document=m);null==a&&(a=m);return t.get("Inline").$new(b,"callout",a,A(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},c.$$s=b,c),d).call(h)," ");return""+a+e+f},p.$$s=this,p),g).call(d),t.get("EOL"))});a.defn(p,"$resolve_lines_to_highlight",function(b){var c,e,n,r=m,r=[];(c=(e=b.$delete(" ").$split(t.get("DataDelimiterRx"))).$map,c.$$p=(n=function(b){var d,c=m,e=m,f=m,e=m;null==b&&(b=m);c=!1;(d=b["$start_with?"]("!"))===m||d.$$is_boolean&&1!=d||(b=
b["$[]"](y(1,-1,!1)),c=!0);if((d=b["$include?"]("-"))===m||d.$$is_boolean&&1!=d)return!1!==c&&c!==m?r.$delete(b.$to_i()):r["$<<"](b.$to_i());b=b.$split("-",2);d=a.to_ary(b);e=null==d[0]?m:d[0];f=null==d[1]?m:d[1];b;e=y(e.$to_i(),f.$to_i(),!1).$to_a();return!1!==c&&c!==m?r=g(r,e):r.$concat(e)},n.$$s=this,n),c).call(e);return r.$sort().$uniq()});a.defn(p,"$sub_source",function(a,b){return!1!==b&&b!==m?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)});a.defn(p,"$lock_in_subs",
function(){var a,b,c,e,g,h=m,d=h=m;null==this.default_subs&&(this.default_subs=m);null==this.content_model&&(this.content_model=m);null==this.context&&(this.context=m);null==this.attributes&&(this.attributes=m);null==this.style&&(this.style=m);null==this.document&&(this.document=m);null==this.subs&&(this.subs=m);if((a=this.default_subs)===m||a.$$is_boolean&&1!=a)if(h=this.content_model,"simple"["$==="](h))h=t.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](h))h=(a=!1!==(b=this.context["$=="]("listing"))&&
b!==m?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===m||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?t.get("SUBS")["$[]"]("normal"):t.get("SUBS")["$[]"]("basic"):t.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?t.get("SUBS")["$[]"]("basic"):t.get("SUBS")["$[]"]("pass");else return m;else h=this.default_subs;(a=d=this.attributes["$[]"]("subs"))===m||a.$$is_boolean&&1!=a?this.subs=h.$dup():
this.subs=this.$resolve_block_subs(d,h,this.context);return(a=(b=(c=(e=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==e&&e!==m?this.attributes["$[]"]("language"):e),!1!==c&&c!==m?this.document["$basebackend?"]("html"):c),!1!==b&&b!==m?t.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===m||a.$$is_boolean&&1!=a?m:this.subs=(a=(b=this.subs).$map,a.$$p=(g=function(a){null==a&&(a=m);return a["$=="]("specialcharacters")?
"highlight":a},g.$$s=this,g),a).call(b)})})(b(u,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.module,g=a.klass,m=a.hash2,e=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $uriish? $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $< $safe $is_root? $join $base_dir $system_path $relative_path".split(" "));return function(c){(function(b,
$super){function c(){}var l=c=g(b,$super,"AbstractNode",c),u=l.$$proto,p=l.$$scope;u.document=u.attributes=u.path_resolver=n;l.$include(p.get("Substitutors"));l.$attr_reader("parent");l.$attr_reader("document");l.$attr_reader("context");l.$attr_reader("node_name");l.$attr_accessor("id");l.$attr_reader("attributes");a.defn(l,"$initialize",function(a,b,c){var e;null==c&&(c=m([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==n?(this.parent=a,this.document=a.$document()):this.document=this.parent=
n;this.context=b;this.node_name=b.$to_s();this.attributes=(e=c["$key?"]("attributes"))===n||e.$$is_boolean&&1!=e?m([],{}):c["$[]"]("attributes").$dup();return this.passthroughs=m([],{})});a.defn(l,"$parent=",function(a){this.parent=a;this.document=a.$document();return n});a.defn(l,"$inline?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(l,"$block?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(l,"$attr",function(b,c,e){var g,m;null==c&&(c=n);null==e&&
(e=!0);(g=a.get("Symbol")["$==="](b))===n||g.$$is_boolean&&1!=g||(b=b.$to_s());this["$=="](this.document)&&(e=!1);return!1!==e&&e!==n?!1!==(g=!1!==(m=this.attributes["$[]"](b))&&m!==n?m:this.document.$attributes()["$[]"](b))&&g!==n?g:c:!1!==(g=this.attributes["$[]"](b))&&g!==n?g:c});a.defn(l,"$attr?",function(b,c,e){var g;null==c&&(c=n);null==e&&(e=!0);(g=a.get("Symbol")["$==="](b))===n||g.$$is_boolean&&1!=g||(b=b.$to_s());this["$=="](this.document)&&(e=!1);return(g=c["$nil?"]())===n||g.$$is_boolean&&
1!=g?!1!==e&&e!==n?c["$=="](!1!==(g=this.attributes["$[]"](b))&&g!==n?g:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(g=this.attributes["$has_key?"](b))&&g!==n?g:!1!==e&&e!==n?this.document.$attributes()["$has_key?"](b):e});a.defn(l,"$set_attr",function(a,b,c){var e;null==c&&(c=!0);return(e=c["$=="](!1)?this.attributes["$key?"](a):c["$=="](!1))===n||e.$$is_boolean&&1!=e?(this.attributes["$[]="](a,b),!0):!1});a.defn(l,"$set_option",function(a){var b;if((b=this.attributes["$has_key?"]("options"))===
n||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);return this.attributes["$[]="](""+a+"-option","")});a.defn(l,"$option?",function(a){return this.attributes["$has_key?"](""+a+"-option")});a.defn(l,"$update_attributes",function(a){this.attributes.$update(a);return n});a.defn(l,"$converter",function(){return this.document.$converter()});a.defn(l,"$role?",function(a){var b;null==a&&(a=n);return!1!==a&&a!==n?
a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==n?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&b!==n?b:this.document.$attributes()["$has_key?"]("role")});a.defn(l,"$role",function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==n?a:this.document.$attributes()["$[]"]("role")});a.defn(l,"$has_role?",function(a){var b,c,e=n;return(b=e=!1!==(c=this.attributes["$[]"]("role"))&&c!==n?c:this.document.$attributes()["$[]"]("role"))===n||b.$$is_boolean&&
1!=b?!1:e.$split(" ")["$include?"](a)});a.defn(l,"$roles",function(){var a,b,c=n;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==n?b:this.document.$attributes()["$[]"]("role"))===n||a.$$is_boolean&&1!=a?[]:c.$split(" ")});a.defn(l,"$add_role",function(a){var b,c,e=n;return(b=(e=(!1!==(c=this.attributes["$[]"]("role"))&&c!==n?c:"").$split(" "))["$include?"](a))===n||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",q(e.$push(a)," ")):n});a.defn(l,"$remove_role",function(a){var b,c,e=n;if((b=
(e=(!1!==(c=this.attributes["$[]"]("role"))&&c!==n?c:"").$split(" "))["$include?"](a))===n||b.$$is_boolean&&1!=b)return n;e.$delete(a);return this.attributes["$[]="]("role",q(e," "))});a.defn(l,"$reftext?",function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==n?a:this.document.$attributes()["$has_key?"]("reftext")});a.defn(l,"$reftext",function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&a!==n?a:this.document.$attributes()["$[]"]("reftext")});a.defn(l,"$icon_uri",
function(b){var c,e=n;return(c=this["$attr?"]("icon"))===n||c.$$is_boolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(c=a.get("File").$extname(e=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===n||c.$$is_boolean&&1!=c?e:""+e+"."+this.document.$attr("icontype","png")});a.defn(l,"$media_uri",function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==n?this.document.$attr(b):n)});a.defn(l,"$image_uri",function(a,b){null==
b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==n?this.document.$attr(b):n)});a.defn(l,"$generate_data_uri",function(b,c){var k,g,l,r=n,h=r=n,d=n;null==c&&(c=n);r=a.get("File").$extname(b);r=r["$=="](".svg")?"image/svg+xml":"image/"+r["$[]"](e(1,-1,!1));h=!1!==c&&c!==n?this.$normalize_system_path(b,this.document.$attr(c),n,m(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);if((k=a.get("File")["$readable?"](h))===n||k.$$is_boolean&&1!=k)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+
h),"data:"+r+":base64,";d=n;d=(k=a.get("IO")["$respond_to?"]("binread"))===n||k.$$is_boolean&&1!=k?(k=(g=a.get("File")).$open,k.$$p=(l=function(a){null==a&&(a=n);return a.$read()},l.$$s=this,l),k).call(g,h,"rb"):a.get("IO").$binread(h);return"data:"+r+";base64,"+a.get("Base64").$encode64(d).$delete(p.get("EOL"))});a.defn(l,"$generate_data_uri_from_uri",function(b,c){var e,g,m=n,r=n;null==c&&(c=!1);!1!==c&&c!==n?p.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(e=a.get("RUBY_ENGINE_OPAL")["$!"]())===
n||e.$$is_boolean&&1!=e||a.get("OpenURI");try{return m=n,r=(e=this.$open,e.$$p=(g=function(a){null==a&&(a=n);m=a.$content_type();return a.$read()},g.$$s=this,g),e).call(this,b,"rb"),"data:"+m+";base64,"+a.get("Base64").$encode64(r).$delete(p.get("EOL"))}catch(h){try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(l,"$read_contents",function(b,c){var e,g,l,r,h,d=n,E=n,w=n;null==c&&(c=m([],{}));d=this.document;
if((e=!1!==(g=p.get("Helpers")["$uriish?"](b))&&g!==n?g:(l=(r=E=c["$[]"]("start"),!1!==r&&r!==n?p.get("Helpers")["$uriish?"](E):r),!1!==l&&l!==n?b=(!1!==(r=this.path_resolver)&&r!==n?r:this.path_resolver=p.get("PathResolver").$new()).$web_path(b,E):l))===n||e.$$is_boolean&&1!=e)b=this.$normalize_system_path(b,c["$[]"]("start"),n,m(["target_name"],{target_name:!1!==(e=c["$[]"]("label"))&&e!==n?e:"asset"})),w=this.$read_asset(b,m(["normalize","warn_on_failure"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",
!0)}));else if((e=d["$attr?"]("allow-uri-read"))===n||e.$$is_boolean&&1!=e)(e=c.$fetch("warn_on_failure",!0))===n||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(e=c["$[]"]("label"))&&e!==n?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),w=n;else{(e=d["$attr?"]("cache-uri"))===n||e.$$is_boolean&&1!=e||p.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{w=(e=(g=a.get("OpenURI")).$open_uri,e.$$p=(h=function(a){null==
a&&(a=n);return a.$read()},h.$$s=this,h),e).call(g,b),(e=c["$[]"]("normalize"))===n||e.$$is_boolean&&1!=e||(w=q(p.get("Helpers").$normalize_lines_from_string(w),p.get("EOL")))}catch(u){try{(e=c.$fetch("warn_on_failure",!0))===n||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(e=c["$[]"]("label"))&&e!==n?e:"asset")+" at URI: "+b),w=n}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}return w});a.defn(l,"$read_asset",function(b,c){var e;null==c&&(c=m([],
{}));if((e=a.get("Hash")["$==="](c))===n||e.$$is_boolean&&1!=e)c=m(["warn_on_failure"],{warn_on_failure:c["$!="](!1)});return(e=a.get("File")["$readable?"](b))===n||e.$$is_boolean&&1!=e?((e=c["$[]"]("warn_on_failure"))===n||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+b),n):(e=c["$[]"]("normalize"))===n||e.$$is_boolean&&1!=e?a.get("IO").$read(b):q(p.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),p.get("EOL"))});a.defn(l,"$normalize_web_path",
function(a,b,c){var e;null==b&&(b=n);null==c&&(c=!0);return(e=!1!==c&&c!==n?p.get("Helpers")["$uriish?"](a):c)===n||e.$$is_boolean&&1!=e?(!1!==(e=this.path_resolver)&&e!==n?e:this.path_resolver=p.get("PathResolver").$new()).$web_path(a,b):a});a.defn(l,"$normalize_system_path",function(b,c,e,g){var l,r=n,h=n;null==c&&(c=n);null==e&&(e=n);null==g&&(g=m([],{}));var r=!1!==(l=this.path_resolver)&&l!==n?l:this.path_resolver=p.get("PathResolver").$new(),d=(h=this.document).$safe(),q=p.get("SafeMode").$$scope.get("SAFE");
if((l="number"===typeof d&&"number"===typeof q?d<q:d["$<"](q))===n||l.$$is_boolean&&1!=l){if(!1===c||c===n)c=h.$base_dir();if(!1===e||e===n)e=h.$base_dir()}else if(!1!==c&&c!==n){if((l=r["$is_root?"](c))===n||l.$$is_boolean&&1!=l)c=a.get("File").$join(h.$base_dir(),c)}else c=h.$base_dir();return r.$system_path(b,c,e,g)});a.defn(l,"$normalize_asset_path",function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),n,m(["target_name","recover"],
{target_name:b,recover:c}))});a.defn(l,"$relative_path",function(a){var b;return(!1!==(b=this.path_resolver)&&b!==n?b:this.path_resolver=p.get("PathResolver").$new()).$relative_path(a,this.document.$base_dir())});return(a.defn(l,"$is_uri?",function(a){return p.get("Helpers")["$uriish?"](a)}),n)&&"is_uri?"})(l(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.breaker,m=a.module,e=a.klass,c=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(b){b=m(b,"Asciidoctor").$$scope;(function(b,$super){function m(){}var u=m=e(b,$super,"AbstractBlock",m),p=u.$$proto,t=u.$$scope,f,k;p.document=p.attributes=p.blocks=p.source_location=p.subs=p.title=p.subbed_title=p.caption=p.next_section_index=p.context=p.style=p.id=p.header=p.next_section_number=l;u.$attr_accessor("content_model");u.$attr_reader("subs");u.$attr_reader("blocks");u.$attr_accessor("level");u.$attr_writer("title");u.$attr_accessor("style");u.$attr_accessor("caption");
u.$attr_accessor("source_location");a.defn(u,"$initialize",f=function(b,e,k){var h,d=f.$$p,g=l,m=l;null==k&&(k=c([],{}));f.$$p=null;g=[];for(m=0;m<arguments.length;m++)g[m]=arguments[m];a.find_super_dispatcher(this,"initialize",f,d).apply(this,g);this.content_model="compound";this.subs=[];this.default_subs=l;this.blocks=[];this.style=this.caption=this.title=this.id=l;this.level=e["$=="]("document")?0:(h=!1!==b&&b!==l?e["$!="]("section"):b)===l||h.$$is_boolean&&1!=h?l:b.$level();this.next_section_index=
0;this.next_section_number=1;return this.source_location=l});a.defn(u,"$block?",function(){return!0});a.defn(u,"$inline?",function(){return!1});a.defn(u,"$context=",function(a){this.context=a;return this.node_name=a.$to_s()});a.defn(u,"$convert",function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)});a.alias(u,"render","convert");a.defn(u,"$content",function(){var a,b,c;return q((a=(b=this.blocks).$map,a.$$p=(c=function(a){null==a&&(a=l);return a.$convert()},
c.$$s=this,c),a).call(b),t.get("EOL"))});a.defn(u,"$file",function(){var a;return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$file()});a.defn(u,"$lineno",function(){var a;return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$lineno()});a.defn(u,"$sub?",function(a){return this.subs["$include?"](a)});a.defn(u,"$title?",function(){return this.title["$nil_or_empty?"]()["$!"]()});a.defn(u,"$title",function(){var a,b;return(a=(b=this.subbed_title,
null!=b&&b!==l)?"instance-variable":l)===l||a.$$is_boolean&&1!=a?(a=this.title)===l||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title});a.defn(u,"$captioned_title",function(){return""+this.caption+this.$title()});a.defn(u,"$blocks?",function(){return this.blocks["$empty?"]()["$!"]()});a.defn(u,"$<<",function(a){this.blocks["$<<"](a);return this});a.alias(u,"append","<<");a.defn(u,"$sections",function(){var a,b,c;return(a=(b=this.blocks).$select,
a.$$p=(c=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},c.$$s=this,c),a).call(b)});a.defn(u,"$sections?",function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)});a.defn(u,"$find_by",k=function(b){var e,f,h,d,m,w,n,p=k.$$p||l,z=l,t=l,q=l,u=l,F=l,H=l;null==b&&(b=c([],{}));k.$$p=null;z=[];if((e=(f=(h=(d=!1!==(m=t=(q=b["$[]"]("context"))["$!"]())&&m!==l?m:q["$=="](this.context),!1!==d&&d!==l?!1!==(m=(u=b["$[]"]("style"))["$!"]())&&m!==l?m:u["$=="](this.style):
d),!1!==h&&h!==l?!1!==(d=(F=b["$[]"]("role"))["$!"]())&&d!==l?d:this["$has_role?"](F):h),!1!==f&&f!==l?!1!==(h=(H=b["$[]"]("id"))["$!"]())&&h!==l?h:H["$=="](this.id):f))!==l&&(!e.$$is_boolean||1==e)){if(!1!==H&&H!==l)return p!==l?(e=(f=a.yield1(p,this))===g?g.$v:f)===l||e.$$is_boolean&&1!=e?z:[this]:[this];if(p!==l){if((e=(f=a.yield1(p,this))===g?g.$v:f)!==l&&(!e.$$is_boolean||1==e))z["$<<"](this)}else z["$<<"](this)}(e=(f=(h=this.context["$=="]("document"))?!1!==(d=t)&&d!==l?d:q["$=="]("section"):
this.context["$=="]("document"),!1!==f&&f!==l?this["$header?"]():f))===l||e.$$is_boolean&&1!=e||z.$concat((e=(f=this.header).$find_by,e.$$p=p.$to_proc(),e).call(f,b));q["$=="]("document")||(this.context["$=="]("dlist")?(e=!1!==(h=t)&&h!==l?h:q["$!="]("section"))===l||e.$$is_boolean&&1!=e||(e=(h=this.blocks.$flatten()).$each,e.$$p=(w=function(a){var d,h;null==a&&(a=l);return!1!==a&&a!==l?z.$concat((d=(h=a).$find_by,d.$$p=p.$to_proc(),d).call(h,b)):l},w.$$s=this,w),e).call(h):e=(d=(m=this.blocks).$each,
d.$$p=(n=function(a){var d,h;null==a&&(a=l);return(d=q["$=="]("section")?a.$context()["$!="]("section"):q["$=="]("section"))===l||d.$$is_boolean&&1!=d?z.$concat((d=(h=a).$find_by,d.$$p=p.$to_proc(),d).call(h,b)):l},n.$$s=this,n),d).call(m));return z});a.alias(u,"query","find_by");a.defn(u,"$remove_sub",function(a){this.subs.$delete(a);return l});a.defn(u,"$assign_caption",function(a,b){var c,h,d=l,e=d=d=l;null==a&&(a=l);null==b&&(b=l);if((c=!1!==(h=this["$title?"]())&&h!==l?h:this.caption["$!"]())===
l||c.$$is_boolean&&1!=c)return l;!1!==a&&a!==l?this.caption=a:(c=d=this.document.$attributes()["$[]"]("caption"))===l||c.$$is_boolean&&1!=c?(c=this["$title?"]())===l||c.$$is_boolean&&1!=c||(!1!==(c=b)&&c!==l?c:b=this.context.$to_s(),d=""+b+"-caption",(c=d=this.document.$attributes()["$[]"](d))===l||c.$$is_boolean&&1!=c||(e=this.document.$counter_increment(""+b+"-number",this),this.caption=""+d+" "+e+". ")):this.caption=d;return l});a.defn(u,"$list_marker_keyword",function(a){var b;null==a&&(a=l);
return t.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==(b=a)&&b!==l?b:this.style)});a.defn(u,"$assign_index",function(a){var b,c,h,d=l,e=l;b=[this.next_section_index];c=a;c["$index="].apply(c,b);b[b.length-1];this.next_section_index=n(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?(d=this.document.$counter("appendix-number","A"),(b=a.$numbered())===l||b.$$is_boolean&&1!=b||(b=[d],c=a,c["$number="].apply(c,b),b[b.length-1]),(b=(e=this.document.$attr("appendix-caption",""))["$!="](""))===
l||b.$$is_boolean&&1!=b?(b=[""+d+". "],c=a,c["$caption="].apply(c,b),b[b.length-1]):(b=[""+e+" "+d+": "],c=a,c["$caption="].apply(c,b),b[b.length-1])):(b=a.$numbered())===l||b.$$is_boolean&&1!=b?l:(b=(c=!1!==(h=a.$level()["$=="](1))&&h!==l?h:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==c&&c!==l?this.document.$doctype()["$=="]("book"):c))===l||b.$$is_boolean&&1!=b?(b=[this.next_section_number],c=a,c["$number="].apply(c,b),b[b.length-1],this.next_section_number=n(this.next_section_number,
1)):(b=[this.document.$counter("chapter-number",1)],c=a,c["$number="].apply(c,b),b[b.length-1])});return(a.defn(u,"$reindex_sections",function(){var a,b,c;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=l);return a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):l},c.$$s=this,c),a).call(b)}),l)&&"reindex_sections"})(b.base,b.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.module,g=a.klass,m=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(e){(function(c,$super){function e(){}var l=e=g(c,$super,"AttributeList",e),y=l.$$proto,u=l.$$scope;y.attributes=y.scanner=y.delimiter=y.block=y.delimiter_skip_pattern=y.delimiter_boundary_pattern=n;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(u,"CG_BLANK","[ \\t]"),a.cdecl(u,"CC_WORD","a-zA-Z0-9_"),a.cdecl(u,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(u,"BoundaryRxs",m(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+u.get("CG_BLANK")+"*(,|$))")}));a.cdecl(u,
"EscapedQuoteRxs",m(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(u,"NameRx",new RegExp(""+u.get("CG_WORD")+"["+u.get("CC_WORD")+"\\-.]*"));a.cdecl(u,"BlankRx",new RegExp(""+u.get("CG_BLANK")+"+"));a.cdecl(u,"SkipRxs",m(["blank",","],{blank:u.get("BlankRx"),",":new RegExp(""+u.get("CG_BLANK")+"*(,|$)")}));a.defn(l,"$initialize",function(c,e,f){null==e&&(e=n);null==f&&(f=",");this.scanner=a.get("StringScanner").$new(c);this.block=e;this.delimiter=f;this.delimiter_skip_pattern=u.get("SkipRxs")["$[]"](f);
this.delimiter_boundary_pattern=u.get("BoundaryRxs")["$[]"](f);return this.attributes=n});a.defn(l,"$parse_into",function(a,c){null==c&&(c=[]);return a.$update(this.$parse(c))});a.defn(l,"$parse",function(a){var c,e,k=n;null==a&&(a=[]);if((c=this.attributes)!==n&&(!c.$$is_boolean||1==c))return this.attributes;this.attributes=m([],{});for(k=0;(e=this.$parse_attribute(k,a))!==n&&(!e.$$is_boolean||1==e)&&((e=this.scanner["$eos?"]())===n||e.$$is_boolean&&1!=e);)this.$skip_delimiter(),k=q(k,1);return this.attributes});
a.defn(l,"$rekey",function(a){return u.get("AttributeList").$rekey(this.attributes,a)});a.defs(l,"$rekey",function(a,c){var e,k;(e=c.$each_with_index,e.$$p=(k=function(c,e){var f,h=n,d=n;null==c&&(c=n);null==e&&(e=n);if(!1===c||c===n)return n;h=q(e,1);return(f=d=a["$[]"](h))===n||f.$$is_boolean&&1!=f?n:a["$[]="](c,d)},k.$$s=this,k),e).call(c);return a});a.defn(l,"$parse_attribute",function(a,c){var e,k,g,m,l=n,h=n,d=h=n,u=n,w=n,h=l=u=n;null==a&&(a=0);null==c&&(c=[]);l=!1;this.$skip_blank();if((h=
this.scanner.$peek(1))["$=="]('"'))h=this.$parse_attribute_value(this.scanner.$get_byte()),d=n;else if(h["$=="]("'"))h=this.$parse_attribute_value(this.scanner.$get_byte()),d=n,l=!0;else{h=this.$scan_name();u=0;w=n;if((e=this.scanner["$eos?"]())===n||e.$$is_boolean&&1!=e)u=!1!==(e=this.$skip_blank())&&e!==n?e:0,w=this.scanner.$get_byte();else if(!1===h||h===n)return!1;if((e=!1!==(k=w["$!"]())&&k!==n?k:w["$=="](this.delimiter))===n||e.$$is_boolean&&1!=e)if((e=!1!==(k=w["$!="]("="))&&k!==n?k:h["$!"]())===
n||e.$$is_boolean&&1!=e){if(this.$skip_blank(),(e=this.scanner.$peek(1))!==n&&(!e.$$is_boolean||1==e))if((w=this.scanner.$get_byte())["$=="]('"'))d=this.$parse_attribute_value(w);else if(w["$=="]("'"))d=this.$parse_attribute_value(w),l=!0;else if(w["$=="](this.delimiter))d=n;else if(d=""+w+this.$scan_to_delimiter(),d["$=="]("None"))return!0}else h=""+h+" "["$*"](u)+w+this.$scan_to_delimiter(),d=n;else d=n}if(!1!==d&&d!==n)if(u=h,"options"["$==="](u)||"opts"["$==="](u))h="options",(e=(k=d.$tr(" ",
"").$split(",")).$each,e.$$p=(g=function(a){var d=g.$$s||this;null==d.attributes&&(d.attributes=n);null==a&&(a=n);return d.attributes["$[]="](""+a+"-option","")},g.$$s=this,g),e).call(k),this.attributes["$[]="](h,d);else if("title"["$==="](u))this.attributes["$[]="](h,d);else this.attributes["$[]="](h,(e=(m=!1!==l&&l!==n?d["$empty?"]()["$!"]():l,!1!==m&&m!==n?this.block:m))===n||e.$$is_boolean&&1!=e?d:this.block.$apply_normal_subs(d));else{l=(e=(m=!1!==l&&l!==n?h["$empty?"]()["$!"]():l,!1!==m&&m!==
n?this.block:m))===n||e.$$is_boolean&&1!=e?h:this.block.$apply_normal_subs(h);if((e=h=c["$[]"](a))!==n&&(!e.$$is_boolean||1==e))this.attributes["$[]="](h,l);this.attributes["$[]="](q(a,1),l)}return!0});a.defn(l,"$parse_attribute_value",function(a){var c,e=n;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((c=e=this.$scan_to_quote(a))===n||c.$$is_boolean&&1!=c)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return e.$gsub(u.get("EscapedQuoteRxs")["$[]"](a),a)});
a.defn(l,"$skip_blank",function(){return this.scanner.$skip(u.get("BlankRx"))});a.defn(l,"$skip_delimiter",function(){return this.scanner.$skip(this.delimiter_skip_pattern)});a.defn(l,"$scan_name",function(){return this.scanner.$scan(u.get("NameRx"))});a.defn(l,"$scan_to_delimiter",function(){return this.scanner.$scan(this.delimiter_boundary_pattern)});return(a.defn(l,"$scan_to_quote",function(a){return this.scanner.$scan(u.get("BoundaryRxs")["$[]"](a))}),n)&&"scan_to_quote"})(l(e,"Asciidoctor").$$scope.base,
null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.module,g=a.klass,m=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(e){e=l(e,"Asciidoctor").$$scope;(function(c,$super){function e(){}
var l=e=g(c,$super,"Block",e),y=l.$$proto,u=l.$$scope,p,t,f;y.attributes=y.content_model=y.lines=y.subs=y.blocks=y.context=y.style=n;y=["simple"];p=a.cdecl(u,"DEFAULT_CONTENT_MODEL",m("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));p["$default="].apply(p,y);y[y.length-1];a.alias(l,"blockname","context");
l.$attr_accessor("lines");a.defn(l,"$initialize",t=function(c,e,f){var g,h=t.$$p,d=n,l=n,w=d=n;null==f&&(f=m([],{}));t.$$p=null;d=[];for(w=0;w<arguments.length;w++)d[w]=arguments[w];a.find_super_dispatcher(this,"initialize",t,h).apply(this,d);this.content_model=!1!==(g=f["$[]"]("content_model"))&&g!==n?g:u.get("DEFAULT_CONTENT_MODEL")["$[]"](e);(g=f["$key?"]("subs"))===n||g.$$is_boolean&&1!=g?(this.subs=[],this.default_subs=n):(g=d=f["$[]"]("subs"))===n||g.$$is_boolean&&1!=g?(this.subs=[],this.default_subs=
[],this.attributes.$delete("subs")):(d["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):(g=a.get("Array")["$==="](d))===n||g.$$is_boolean&&1!=g?(this.default_subs=n,this.attributes["$[]="]("subs",""+d)):(this.default_subs=d.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(g=(l=f["$[]"]("source"))["$nil_or_empty?"]())===n||g.$$is_boolean&&1!=g?(g=a.get("String")["$==="](l))===n||g.$$is_boolean&&1!=g?this.lines=l.$dup():this.lines=u.get("Helpers").$normalize_lines_from_string(l):
this.lines=[]});a.defn(l,"$content",f=function(){var c,e,g,m=this,h=f.$$p,d=n,l=n,w=n,p=n,t=n,z=n;f.$$p=null;t=[];for(z=0;z<arguments.length;z++)t[z]=arguments[z];return function(){d=m.content_model;if("compound"["$==="](d))return a.find_super_dispatcher(m,"content",f,h).apply(m,t);if("simple"["$==="](d))return m.$apply_subs(q(m.lines,u.get("EOL")),m.subs);if("verbatim"["$==="](d)||"raw"["$==="](d)){l=m.$apply_subs(m.lines,m.subs);var z=l.$size();if((c="number"===typeof z?2>z:z["$<"](2))===n||c.$$is_boolean&&
1!=c){for(;(e=(g=w=l["$[]"](0),!1!==g&&g!==n?w.$rstrip()["$empty?"]():g))!==n&&(!e.$$is_boolean||1==e);)l.$shift();for(;(e=(g=p=l["$[]"](-1),!1!==g&&g!==n?p.$rstrip()["$empty?"]():g))!==n&&(!e.$$is_boolean||1==e);)l.$pop();return q(l,u.get("EOL"))}return l["$[]"](0)}m.content_model["$=="]("empty")||m.$warn("Unknown content model '"+m.content_model+"' for block: "+m.$to_s());return n}()});a.defn(l,"$source",function(){return q(this.lines,u.get("EOL"))});return(a.defn(l,"$to_s",function(){var a=n,a=
this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"}),n)&&"to_s"})(e.base,e.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.module,m=a.klass,e=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(c){(function(b,$super){function c(){}var g=c=m(b,
$super,"Callouts",c),u=g.$$proto;u.co_index=u.lists=u.list_index=l;a.defn(g,"$initialize",function(){this.lists=[];this.list_index=0;return this.$next_list()});a.defn(g,"$register",function(a){var b=l;this.$current_list()["$<<"](e(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));this.co_index=q(this.co_index,1);return b});a.defn(g,"$read_next_id",function(){var a,b=l,c=l,b=l,c=this.$current_list(),e=this.co_index,g=c.$size();(a="number"===typeof e&&"number"===typeof g?
e<=g:e["$<="](g))===l||a.$$is_boolean&&1!=a||(b=c["$[]"](n(this.co_index,1))["$[]"]("id"));this.co_index=q(this.co_index,1);return b});a.defn(g,"$callout_ids",function(a){var b,c,e;return(b=(c=this.$current_list()).$map,b.$$p=(e=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":l},e.$$s=this,e),b).call(c).$join().$chop()});a.defn(g,"$current_list",function(){return this.lists["$[]"](n(this.list_index,1))});a.defn(g,"$next_list",function(){var a;this.list_index=
q(this.list_index,1);var b=this.lists.$size(),c=this.list_index;if((a="number"===typeof b&&"number"===typeof c?b<c:b["$<"](c))!==l&&(!a.$$is_boolean||1==a))this.lists["$<<"]([]);this.co_index=1;return l});a.defn(g,"$rewind",function(){this.co_index=this.list_index=1;return l});a.defn(g,"$generate_next_callout_id",function(){return this.$generate_callout_id(this.list_index,this.co_index)});return(a.defn(g,"$generate_callout_id",function(a,b){return"CO"+a+"-"+b}),l)&&"generate_callout_id"})(g(c,"Asciidoctor").$$scope.base,
null)}(a.base)};
Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.module,l=a.klass,g=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(m){m=n(m,"Asciidoctor").$$scope;n(m.base,"Converter");q;(function(a,$super){function b(){}var g=b=l(a,$super,"Base",b);return g.$include(g.$$scope.get("Converter"))})(m.get("Converter"),null);(function(e,$super){function b(){}var m=b=l(e,$super,"BuiltIn",b);a.defn(m,"$initialize",function(a,
b){null==b&&g([],{});return q});a.defn(m,"$convert",function(a,b,e){var m;null==b&&(b=q);null==e&&(e=g([],{}));!1!==(m=b)&&m!==q?m:b=a.$node_name();return(m=e["$empty?"]())===q||m.$$is_boolean&&1!=m?this.$send(b,a,e):this.$send(b,a)});a.alias(m,"handles?","respond_to?");a.defn(m,"$content",function(a){return a.$content()});a.alias(m,"pass","content");return(a.defn(m,"$skip",function(a){return q}),q)&&"skip"})(m.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.module,l=a.klass,g=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $is_a? $=== $key?".split(" "));return function(m){(function(e){(function(c,$super){function e(){}var m=e=l(c,$super,"Factory",e),n=m.$$proto,u=m.$$scope;n.converters=n.star_converter=q;m.__default__=q;(function(c){a.defn(c,
"$default",function(c){var e,g;null==this.__default__&&(this.__default__=q);null==c&&(c=!0);if(!1===c||c===q)c=!1!==(e=this.__default__)&&e!==q?e:this.$new();else{if(!1===(e=this.__default__)||e===q){var m;a:{try{((g=null==a.Object.$$scope.ThreadSafe?q:"constant")===q||g.$$is_boolean&&1!=g)&&this.$require("thread_safe".$to_s());m=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(l){if(a.rescue(l,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
m=this.$new();break a}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw l;}m=void 0}e=this.__default__=m}c=e}return c});a.defn(c,"$register",function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,c)});a.defn(c,"$resolve",function(a){return this.$default().$resolve(a)});a.defn(c,"$create",function(a,c){null==c&&(c=g([],{}));return this.$default().$create(a,c)});a.defn(c,"$converters",function(){return this.$default().$converters()});return(a.defn(c,"$unregister_all",function(){return this.$default().$unregister_all()}),
q)&&"unregister_all"})(a.get_singleton_class(m));m.$attr_reader("converters");a.defn(m,"$initialize",function(a){var c;null==a&&(a=q);this.converters=!1!==(c=a)&&c!==q?c:g([],{});return this.star_converter=q});a.defn(m,"$register",function(a,c){var e,g,m;null==c&&(c=["*"]);(e=(g=c).$each,e.$$p=(m=function(c){var e=m.$$s||this;null==e.converters&&(e.converters=q);null==c&&(c=q);e.converters["$[]="](c,a);return c["$=="]("*")?e.star_converter=a:q},m.$$s=this,m),e).call(g);return q});a.defn(m,"$resolve",
function(a){var c,e;return c=this.converters,!1!==c&&c!==q?!1!==(e=this.converters["$[]"](a))&&e!==q?e:this.star_converter:c});a.defn(m,"$unregister_all",function(){this.converters.$clear();return this.star_converter=q});return(a.defn(m,"$create",function(c,e){var f,k=this,m=q,l=m=q,n=q;null==e&&(e=g([],{}));if((f=m=k.$resolve(c))!==q&&(!f.$$is_boolean||1==f))return(f=m["$is_a?"](a.get("Class")))===q||f.$$is_boolean&&1!=f?m:m.$new(c,e);m=function(){l=c;if("html5"["$==="](l)){var d;try{d=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?
"constant":q}catch(h){if(h.$$class===a.NameError)d=q;else throw h;}((f=d)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/html5".$to_s());return u.get("Html5Converter").$new(c,e)}if("docbook5"["$==="](l)){var g;try{g=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":q}catch(h){if(h.$$class===a.NameError)g=q;else throw h;}((f=g)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/docbook5".$to_s());return u.get("DocBook5Converter").$new(c,
e)}if("docbook45"["$==="](l)){var m;try{m=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":q}catch(h){if(h.$$class===a.NameError)m=q;else throw h;}((f=m)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/docbook45".$to_s());return u.get("DocBook45Converter").$new(c,e)}if("manpage"["$==="](l)){var n;try{n=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":q}catch(h){if(h.$$class===a.NameError)n=
q;else throw h;}((f=n)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/manpage".$to_s());return u.get("ManPageConverter").$new(c,e)}if("bespokejs"["$==="](l)){var z;try{z=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("BespokejsConverter")?"constant":q}catch(h){if(h.$$class===a.NameError)z=q;else throw h;}((f=z)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/bespokejs".$to_s());return u.get("BespokejsConverter").$new(c,e)}if("deckjs"["$==="](l)){var r;
try{r=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DeckjsConverter")?"constant":q}catch(h){if(h.$$class===a.NameError)r=q;else throw h;}((f=r)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/deckjs".$to_s());return u.get("DeckjsConverter").$new(c,e)}if("odf"["$==="](l)){var Q;try{Q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("OdfConverter")?"constant":q}catch(h){if(h.$$class===a.NameError)Q=q;else throw h;}((f=Q)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/odf".$to_s());
return u.get("OdfConverter").$new(c,e)}if("oreilly"["$==="](l)){var ba;try{ba=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("OreillyConverter")?"constant":q}catch(h){if(h.$$class===a.NameError)ba=q;else throw h;}((f=ba)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/oreilly".$to_s());return u.get("OreillyConverter").$new(c,e)}if("packt"["$==="](l)){var F;try{F=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("PacktConverter")?"constant":q}catch(h){if(h.$$class===
a.NameError)F=q;else throw h;}((f=F)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/packt".$to_s());return u.get("PacktConverter").$new(c,e)}if("revealjs"["$==="](l)){var H;try{H=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("RevealjsConverter")?"constant":q}catch(h){if(h.$$class===a.NameError)H=q;else throw h;}((f=H)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/revealjs".$to_s());return u.get("RevealjsConverter").$new(c,e)}return q}();if((f=e["$key?"]("template_dirs"))===
q||f.$$is_boolean&&1!=f)return m;var h;try{h=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":q}catch(E){if(E.$$class===a.NameError)h=q;else throw E;}((f=h)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/template".$to_s());var d;try{d=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":q}catch(E){if(E.$$class===a.NameError)d=q;else throw E;}((f=d)===q||f.$$is_boolean&&1!=f)&&k.$require("asciidoctor/converter/composite".$to_s());
n=u.get("TemplateConverter").$new(c,e["$[]"]("template_dirs"),e);return u.get("CompositeConverter").$new(c,n,m)}),q)&&"create"})(n(e,"Converter").$$scope.base,null)})(n(m,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var q=a.top,n=a.nil,l=a.module,g=a.range,m=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(e){e=l(e,"Asciidoctor").$$scope;(function(c){c=l(c,"Converter");var b=c.$$scope;(function(b){b=l(b,"Config");var c=b.$$scope;a.defn(b,"$register_for",function(){var b,e,g,m,f,k=
n,k=n,l=arguments.length-0;0>l&&(l=0);for(var q=Array(l),k=0;k<l;k++)q[k]=arguments[k+0];c.get("Factory").$register(this,q);k=function(a){return a}(a.get_singleton_class(this));q["$=="](["*"])?(b=(e=k).$send,b.$$p=(g=function(a){return!0},g.$$s=this,g),b).call(e,"define_method","converts?"):(b=(m=k).$send,b.$$p=(f=function(a){null==a&&(a=n);return q["$include?"](a)},f.$$s=this,f),b).call(m,"define_method","converts?");return n})})(b.base);(function(b){b=l(b,"BackendInfo");var c=b.$$scope;a.defn(b,
"$backend_info",function(){var a;null==this.backend_info&&(this.backend_info=n);return!1!==(a=this.backend_info)&&a!==n?a:this.backend_info=this.$setup_backend_info()});a.defn(b,"$setup_backend_info",function(){var b,e=n,l=n,q=n,f=n;null==this.backend&&(this.backend=n);((b=this.backend)===n||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());e=this.backend.$sub(c.get("TrailingDigitsRx"),"");(b=l=c.get("DEFAULT_EXTENSIONS")["$[]"](e))===
n||b.$$is_boolean&&1!=b?(e="html",l=".html",f=q="html"):q=l["$[]"](g(1,-1,!1));return m(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:l,filetype:q,htmlsyntax:f})});a.defn(b,"$filetype",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")});a.defn(b,"$basebackend",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")});
a.defn(b,"$outfilesuffix",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")});a.defn(b,"$htmlsyntax",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")})})(b.base);(function(b){var c=b.$$scope;return(a.defn(b,"$included",function(a){return a.$extend(c.get("Config"))}),n)&&"included"})(a.get_singleton_class(c));c.$include(b.get("Config"));
c.$include(b.get("BackendInfo"));a.defn(c,"$initialize",function(a,b){null==b&&m([],{});this.backend=a;return this.$setup_backend_info()});a.defn(c,"$convert",function(b,c,e){null==e&&m([],{});return this.$raise(a.get("NotImplementedError"))});a.alias(c,"convert_with_options","convert")})(e.base);(function(c){c=l(c,"Writer");var b=c.$$scope;a.defn(c,"$write",function(c,e){var g,m,l;(g=e["$respond_to?"]("write"))===n||g.$$is_boolean&&1!=g?(g=(m=a.get("File")).$open,g.$$p=(l=function(a){null==a&&(a=
n);return a.$write(c)},l.$$s=this,l),g).call(m,e,"w"):(e.$write(c.$chomp()),e.$write(b.get("EOL")));return n})})(e.base);(function(c){c=l(c,"VoidWriter");c.$include(c.$$scope.get("Writer"));a.defn(c,"$write",function(a,c){return n})})(e.base)})(a.base);q.$require("asciidoctor/converter/base");return q.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/html5"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var c=a.nil,b=a.module,A=a.klass,x=a.hash2,y=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $style $media_uri $option? $append_boolean_attribute $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match $length".split(" "));
return function(u){u=b(u,"Asciidoctor").$$scope;(function(b,$super){function f(){}var k=f=A(b,$super,"Html5Converter",f),u=k.$$proto,v=k.$$scope,r;u.xml_mode=u.void_element_slash=u.stylesheets=c;u=[[c,c,c]];r=a.cdecl(v,"QUOTE_TAGS",x("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],
"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));r["$default="].apply(r,u);u[u.length-1];a.cdecl(v,"SvgPreambleRx",/\A.*?(?=<svg\b)/m);a.cdecl(v,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(v,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(k,"$initialize",function(a,b){var e;null==b&&(b=x([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(e=this.xml_mode)===
c||e.$$is_boolean&&1!=e?c:"/";return this.stylesheets=v.get("Stylesheets").$instance()});a.defn(k,"$document",function(a){var b,e,f,g,k,m,r=c,p=c,u=c,F=c,H=c,M=c,I=c,J=M=I=M=I=F=I=F=I=c,p=p=M=M=I=c,r=[],p=this.void_element_slash,u="<br"+p+">";if((b=(F=a.$attr("asset-uri-scheme","https"))["$empty?"]())===c||b.$$is_boolean&&1!=b)F=""+F+":";H=""+F+"//cdnjs.cloudflare.com/ajax/libs";M=!1!==(b=q(a.$safe(),v.get("SafeMode").$$scope.get("SECURE")))&&b!==c?b:a["$attr?"]("linkcss");r["$<<"]("<!DOCTYPE html>");
I=(b=a["$attr?"]("nolang"))===c||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':c;r["$<<"]("<html"+((b=this.xml_mode)===c||b.$$is_boolean&&1!=b?c:' xmlns="http://www.w3.org/1999/xhtml"')+I+">");r["$<<"]('<head>\r\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+p+'>\r\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+p+'><![endif]--\x3e\r\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+p+'>\r\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+
'"'+p+">");if((b=a["$attr?"]("app-name"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+p+">");if((b=a["$attr?"]("description"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+p+">");if((b=a["$attr?"]("keywords"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+p+">");if((b=a["$attr?"]("authors"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="author" content="'+
a.$attr("authors")+'"'+p+">");if((b=a["$attr?"]("copyright"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+p+">");r["$<<"]("<title>"+a.$doctitle(x(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=v.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==c&&(!b.$$is_boolean||1==b)){if((b=I=a.$attr("webfonts"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<link rel="stylesheet" href="'+F+"//fonts.googleapis.com/css?family="+
((b=I["$empty?"]())===c||b.$$is_boolean&&1!=b?I:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+p+">");if(!1!==M&&M!==c)r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(v.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+p+">");else r["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==c&&(!b.$$is_boolean||1==b))if(!1!==M&&M!==c)r["$<<"]('<link rel="stylesheet" href="'+
a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+p+">");else r["$<<"]("<style>\r\n"+a.$read_asset(a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir","")))+"\r\n</style>");if((b=a["$attr?"]("icons","font"))!==c&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===c||b.$$is_boolean&&1!=b)F=""+a.$attr("iconfont-name","font-awesome")+".css",r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(F,a.$attr("stylesdir",""),!1)+'"'+p+">");else r["$<<"]('<link rel="stylesheet" href="'+
a.$attr("iconfont-cdn",""+H+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+p+">");I=F=a.$attr("source-highlighter");if("coderay"["$==="](I)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==M&&M!==c)r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+p+">");else r["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](I)&&a.$attr("pygments-css","class")["$=="]("class"))if(I=
a.$attr("pygments-style"),!1!==M&&M!==c)r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(I),a.$attr("stylesdir",""),!1)+'"'+p+">");else r["$<<"](this.stylesheets.$embed_pygments_stylesheet(I));if((b=(M=a.$docinfo())["$empty?"]())===c||b.$$is_boolean&&1!=b)r["$<<"](M);r["$<<"]("</head>");I=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))I["$<<"]('id="'+a.$id()+'"');if((b=(e=(f=(g=M=a["$sections?"](),!1!==g&&g!==c?a["$attr?"]("toc-class"):g),!1!==
f&&f!==c?a["$attr?"]("toc"):f),!1!==e&&e!==c?a["$attr?"]("toc-placement","auto"):e))===c||b.$$is_boolean&&1!=b)I["$<<"]('class="'+a.$doctype()+'"');else I["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==c&&(!b.$$is_boolean||1==b))I["$<<"]('style="max-width: '+a.$attr("max-width")+';"');r["$<<"]("<body "+n(I," ")+">");if((b=a.$noheader())===c||b.$$is_boolean&&1!=b){r["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){r["$<<"]("<h1>"+
a.$doctitle()+" Manual Page</h1>");if((b=(e=(f=!1!==M&&M!==c)?a["$attr?"]("toc"):M,!1!==e&&e!==c?a["$attr?"]("toc-placement","auto"):e))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\r\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\r\n"+this.$outline(a)+"\r\n</div>");r["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\r\n<div class="sectionbody">\r\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\r\n</div>")}else{if((b=a["$has_header?"]())!==
c&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)r["$<<"]("<h1>"+a.$header().$title()+"</h1>");J=[];if((b=a["$attr?"]("author"))!==c&&(!b.$$is_boolean||1==b)){J["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+u);if((b=a["$attr?"]("email"))!==c&&(!b.$$is_boolean||1==b))J["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+u);(b=l(I=a.$attr("authorcount").$to_i(),1))===c||b.$$is_boolean&&1!=b||(b=(e=y(2,I,!1)).$each,b.$$p=
(k=function(b){var d;null==b&&(b=c);J["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+u);return(d=a["$attr?"]("email_"+b))===c||d.$$is_boolean&&1!=d?c:J["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+u)},k.$$s=this,k),b).call(e)}if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))J["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==c?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===
c||b.$$is_boolean&&1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==c&&(!b.$$is_boolean||1==b))J["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==c&&(!b.$$is_boolean||1==b))J["$<<"](""+u+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=J["$empty?"]())===c||b.$$is_boolean&&1!=b)r["$<<"]('<div class="details">'),r.$concat(J),r["$<<"]("</div>")}if((b=(f=(g=!1!==M&&M!==c)?a["$attr?"]("toc"):M,!1!==f&&f!==c?a["$attr?"]("toc-placement","auto"):
f))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\r\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\r\n"+this.$outline(a)+"\r\n</div>")}r["$<<"]("</div>")}r["$<<"]('<div id="content">\r\n'+a.$content()+"\r\n</div>");(b=(f=a["$footnotes?"](),!1!==f&&f!==c?a["$attr?"]("nofootnotes")["$!"]():f))===c||b.$$is_boolean&&1!=b||(r["$<<"]('<div id="footnotes">\r\n<hr'+p+">"),(b=(f=a.$footnotes()).$each,b.$$p=(m=function(a){null==a&&(a=c);return r["$<<"]('<div class="footnote" id="_footnote_'+
a.$index()+'">\r\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\r\n</div>")},m.$$s=this,m),b).call(f),r["$<<"]("</div>"));if((b=a.$nofooter())===c||b.$$is_boolean&&1!=b){r["$<<"]('<div id="footer">');r["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))r["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+u);if((b=(g=a["$attr?"]("last-update-label"),!1!==g&&g!==c?a["$attr?"]("reproducible")["$!"]():g))!==c&&(!b.$$is_boolean||
1==b))r["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));r["$<<"]("</div>");r["$<<"]("</div>")}if((b=(M=a.$docinfo("footer"))["$empty?"]())===c||b.$$is_boolean&&1!=b)r["$<<"](M);I=F;"highlightjs"["$==="](I)||"highlight.js"["$==="](I)?(M=a.$attr("highlightjsdir",""+H+"/highlight.js/8.9.1"),r["$<<"]('<link rel="stylesheet" href="'+M+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+p+">"),r["$<<"]('<script src="'+M+'/highlight.min.js">\x3c/script>\r\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](I)&&(M=a.$attr("prettifydir",""+H+"/prettify/r298"),r["$<<"]('<link rel="stylesheet" href="'+M+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+p+">"),r["$<<"]('<script src="'+M+'/prettify.min.js">\x3c/script>\r\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===c||b.$$is_boolean&&1!=b||(p=a.$attr("eqnums","none"),p["$=="]("")&&(p="AMS"),p=' equationNumbers: { autoNumber: "'+p+'" } ',r["$<<"]('<script type="text/x-mathjax-config">\r\nMathJax.Hub.Config({\r\n  messageStyle: "none",\r\n  tex2jax: {\r\n    inlineMath: ['+
v.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\r\n    displayMath: ["+v.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\r\n    ignoreClass: "nostem|nolatexmath"\r\n  },\r\n  asciimath2jax: {\r\n    delimiters: ['+v.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\r\n    ignoreClass: "nostem|noasciimath"\r\n  },\r\n  TeX: {'+p+'}\r\n});\r\n\x3c/script>\r\n<script src="'+H+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));r["$<<"]("</body>");
r["$<<"]("</html>");return n(r,v.get("EOL"))});a.defn(k,"$embedded",function(a){var b,e,f,g,k,m=c,l=c,r=c,m=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m["$<<"]("<h1"+l+">"+a.$doctitle()+" Manual Page</h1>");m["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\r\n<div class="sectionbody">\r\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\r\n</div>")}else(b=(e=a["$has_header?"](),!1!==e&&e!==
c?a.$notitle()["$!"]():e))===c||b.$$is_boolean&&1!=b||(l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m["$<<"]("<h1"+l+">"+a.$header().$title()+"</h1>"));if((b=(e=(f=(g=a["$sections?"](),!1!==g&&g!==c?a["$attr?"]("toc"):g),!1!==f&&f!==c?(r=a.$attr("toc-placement"))["$!="]("macro"):f),!1!==e&&e!==c?r["$!="]("preamble"):e))!==c&&(!b.$$is_boolean||1==b))m["$<<"]('<div id="toc" class="toc">\r\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\r\n"+this.$outline(a)+"\r\n</div>");m["$<<"](a.$content());
(b=(e=a["$footnotes?"](),!1!==e&&e!==c?a["$attr?"]("nofootnotes")["$!"]():e))===c||b.$$is_boolean&&1!=b||(m["$<<"]('<div id="footnotes">\r\n<hr'+this.void_element_slash+">"),(b=(e=a.$footnotes()).$each,b.$$p=(k=function(a){null==a&&(a=c);return m["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\r\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\r\n</div>")},k.$$s=this,k),b).call(e),m["$<<"]("</div>"));return n(m,v.get("EOL"))});a.defn(k,"$outline",function(a,b){var e,
f,k,l=c,r=c,p=c,q=c,u=c,F=c;null==b&&(b=x([],{}));if((e=a["$sections?"]())===c||e.$$is_boolean&&1!=e)return c;l=!1!==(e=b["$[]"]("sectnumlevels"))&&e!==c?e:a.$document().$attr("sectnumlevels",3).$to_i();r=!1!==(e=b["$[]"]("toclevels"))&&e!==c?e:a.$document().$attr("toclevels",2).$to_i();p=[];q=a.$sections();u=(F=q["$[]"](0)).$level();(e=(f=u["$=="](0))?F.$special():u["$=="](0))===c||e.$$is_boolean&&1!=e||(u=1);p["$<<"]('<ul class="sectlevel'+u+'">');(e=(f=q).$each,e.$$p=(k=function(a){var b=k.$$s||
this,d,h,e,f=c,n=c;null==a&&(a=c);f=(d=(h=(e=a.$numbered(),!1!==e&&e!==c?a.$caption()["$!"]():e),!1!==h&&h!==c?g(a.$level(),l):h))===c||d.$$is_boolean&&1!=d?c:""+a.$sectnum()+" ";if((d=(h=m(a.$level(),r),!1!==h&&h!==c?n=b.$outline(a,x(["toclevels","secnumlevels"],{toclevels:r,secnumlevels:l})):h))===c||d.$$is_boolean&&1!=d)return p["$<<"]('<li><a href="#'+a.$id()+'">'+f+a.$captioned_title()+"</a></li>");p["$<<"]('<li><a href="#'+a.$id()+'">'+f+a.$captioned_title()+"</a>");p["$<<"](n);return p["$<<"]("</li>")},
k.$$s=this,k),e).call(f);p["$<<"]("</ul>");return n(p,v.get("EOL"))});a.defn(k,"$section",function(a){var b,f,k,m=c,l=c,n=c,r=c,p=c,q=c,v=c,H=c,u=c,m=a.$level();(b=(f=m["$=="](0))?a.$special():m["$=="](0))===c||b.$$is_boolean&&1!=b||(m=1);l="h"+e(m,1);n=r=p=q=c;(b=a.$id())===c||b.$$is_boolean&&1!=b||((n=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===c||b.$$is_boolean&&1!=b)?(b=a.$document()["$attr?"]("sectlinks"))===c||b.$$is_boolean&&1!=b||(p='<a class="link" href="#'+a.$id()+'">',
q="</a>"):r='<a class="anchor" href="#'+a.$id()+'"></a>');if(m["$=="](0))return"<h1"+n+' class="sect0">'+r+p+a.$title()+q+"</h1>\r\n"+a.$content();v=(b=H=a.$role())===c||b.$$is_boolean&&1!=b?' class="sect'+m+'"':' class="sect'+m+" "+H+'"';u=(b=(f=(k=a.$numbered(),!1!==k&&k!==c?a.$caption()["$!"]():k),!1!==f&&f!==c?g(m,a.$document().$attr("sectnumlevels",3).$to_i()):f))===c||b.$$is_boolean&&1!=b?c:""+a.$sectnum()+" ";return"<div"+v+">\r\n<"+l+n+">"+r+p+u+a.$captioned_title()+q+"</"+l+">\r\n"+(m["$=="](1)?
'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\r\n</div>"});a.defn(k,"$admonition",function(a){var b,e,f=c,g=c,k=c,m=c,l=c,f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=a.$attr("name"),k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",m=(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(e=a.$document()["$attr?"]("icons","font"),!1!==e&&e!==c?a["$attr?"]("icon")["$!"]():
e))===c||b.$$is_boolean&&1!=b?'<img src="'+a.$icon_uri(g)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+g+'" title="'+a.$caption()+'"></i>';return"<div"+f+' class="admonitionblock '+g+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\r\n<table>\r\n<tr>\r\n<td class="icon">\r\n'+m+'\r\n</td>\r\n<td class="content">\r\n'+k+a.$content()+"\r\n</td>\r\n</tr>\r\n</table>\r\n</div>"});a.defn(k,"$audio",function(a){var b,e=c,f=c,g=c,k=g=c,e=a.$document()["$attr?"]("htmlsyntax","xml"),
f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=["audioblock",a.$style(),a.$role()].$compact(),g=' class="'+n(g," ")+'"',k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+f+g+">\r\n"+k+'<div class="content">\r\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("autoplay",e))+((b=a["$option?"]("nocontrols"))===c||b.$$is_boolean&&
1!=b?this.$append_boolean_attribute("controls",e):c)+((b=a["$option?"]("loop"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("loop",e))+">\r\nYour browser does not support the audio tag.\r\n</audio>\r\n</div>\r\n</div>"});a.defn(k,"$colist",function(a){var b,f,g,k,m,l=c,r=c,p=c,q=p=c,l=[],r=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',p=["colist",a.$style(),a.$role()].$compact(),p=' class="'+n(p," ")+'"';l["$<<"]("<div"+r+p+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||
1==b))l["$<<"]('<div class="title">'+a.$title()+"</div>");(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?(l["$<<"]("<ol>"),(b=(k=a.$items()).$each,b.$$p=(m=function(a){null==a&&(a=c);return l["$<<"]("<li>\r\n<p>"+a.$text()+"</p>\r\n</li>")},m.$$s=this,m),b).call(k),l["$<<"]("</ol>")):(l["$<<"]("<table>"),q=a.$document()["$attr?"]("icons","font"),(b=(f=a.$items()).$each_with_index,b.$$p=(g=function(b,d){var f=g.$$s||this,k=c,k=c;null==f.void_element_slash&&(f.void_element_slash=c);
null==b&&(b=c);null==d&&(d=c);k=e(d,1);k=!1!==q&&q!==c?'<i class="conum" data-value="'+k+'"></i><b>'+k+"</b>":'<img src="'+a.$icon_uri("callouts/"+k)+'" alt="'+k+'"'+f.void_element_slash+">";return l["$<<"]("<tr>\r\n<td>"+k+"</td>\r\n<td>"+b.$text()+"</td>\r\n</tr>")},g.$$s=this,g),b).call(f),l["$<<"]("</table>"));l["$<<"]("</div>");return n(l,v.get("EOL"))});a.defn(k,"$dlist",function(b){var d,e,f,g,k,m,l,r=c,p=c,q=c,H=q=q=c,u=p=c,r=[],p=(d=b.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',
q=b.$style(),q=("qanda"["$==="](q)?["qlist","qanda",b.$role()]:"horizontal"["$==="](q)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),q=' class="'+n(q," ")+'"';r["$<<"]("<div"+p+q+">");if((d=b["$title?"]())!==c&&(!d.$$is_boolean||1==d))r["$<<"]('<div class="title">'+b.$title()+"</div>");q=b.$style();"qanda"["$==="](q)?(r["$<<"]("<ol>"),(d=(e=b.$items()).$each,d.$$p=(f=function(b,d){var h=f.$$s||this,e,g,k;null==b&&(b=c);null==d&&(d=c);r["$<<"]("<li>");(e=(g=[].concat(a.to_a(b))).$each,
e.$$p=(k=function(a){null==a&&(a=c);return r["$<<"]("<p><em>"+a.$text()+"</em></p>")},k.$$s=h,k),e).call(g);if(!1!==d&&d!==c){if((e=d["$text?"]())!==c&&(!e.$$is_boolean||1==e))r["$<<"]("<p>"+d.$text()+"</p>");if((e=d["$blocks?"]())!==c&&(!e.$$is_boolean||1==e))r["$<<"](d.$content())}return r["$<<"]("</li>")},f.$$s=this,f),d).call(e),r["$<<"]("</ol>")):"horizontal"["$==="](q)?(H=this.void_element_slash,r["$<<"]("<table>"),(d=!1!==(g=b["$attr?"]("labelwidth"))&&g!==c?g:b["$attr?"]("itemwidth"))===c||
d.$$is_boolean&&1!=d||(r["$<<"]("<colgroup>"),p=(d=b["$attr?"]("labelwidth"))===c||d.$$is_boolean&&1!=d?c:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',r["$<<"]("<col"+p+H+">"),p=(d=b["$attr?"]("itemwidth"))===c||d.$$is_boolean&&1!=d?c:' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"',r["$<<"]("<col"+p+H+">"),r["$<<"]("</colgroup>")),(d=(g=b.$items()).$each,d.$$p=(k=function(d,e){var f=k.$$s||this,g,m,l,n=c,w=c;null==d&&(d=c);null==e&&(e=c);r["$<<"]("<tr>");r["$<<"]('<td class="hdlist1'+
((g=b["$option?"]("strong"))===c||g.$$is_boolean&&1!=g?c:" strong")+'">');n=[].concat(a.to_a(d));w=n["$[]"](-1);(g=(m=n).$each,g.$$p=(l=function(a){var b;null==a&&(a=c);r["$<<"](a.$text());return(b=a["$!="](w))===c||b.$$is_boolean&&1!=b?c:r["$<<"]("<br"+H+">")},l.$$s=f,l),g).call(m);r["$<<"]("</td>");r["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==c){if((g=e["$text?"]())!==c&&(!g.$$is_boolean||1==g))r["$<<"]("<p>"+e.$text()+"</p>");if((g=e["$blocks?"]())!==c&&(!g.$$is_boolean||1==g))r["$<<"](e.$content())}r["$<<"]("</td>");
return r["$<<"]("</tr>")},k.$$s=this,k),d).call(g),r["$<<"]("</table>")):(r["$<<"]("<dl>"),u=(d=b.$style())===c||d.$$is_boolean&&1!=d?' class="hdlist1"':c,(d=(m=b.$items()).$each,d.$$p=(l=function(b,d){var h=l.$$s||this,e,f,g;null==b&&(b=c);null==d&&(d=c);(e=(f=[].concat(a.to_a(b))).$each,e.$$p=(g=function(a){null==a&&(a=c);return r["$<<"]("<dt"+u+">"+a.$text()+"</dt>")},g.$$s=h,g),e).call(f);if(!1!==d&&d!==c){r["$<<"]("<dd>");if((e=d["$text?"]())!==c&&(!e.$$is_boolean||1==e))r["$<<"]("<p>"+d.$text()+
"</p>");if((e=d["$blocks?"]())!==c&&(!e.$$is_boolean||1==e))r["$<<"](d.$content());return r["$<<"]("</dd>")}return c},l.$$s=this,l),d).call(m),r["$<<"]("</dl>"));r["$<<"]("</div>");return n(r,v.get("EOL"))});a.defn(k,"$example",function(a){var b,e=c,f=c,g=c,e=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+e+' class="'+((b=g=a.$role())===c||b.$$is_boolean&&1!=b?"exampleblock":
n(["exampleblock",g]," "))+'">\r\n'+f+'<div class="content">\r\n'+a.$content()+"\r\n</div>\r\n</div>"});a.defn(k,"$floating_title",function(a){var b,f=c,g=c,k=c,f="h"+e(a.$level(),1),g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=[a.$style(),a.$role()].$compact();return"<"+f+g+' class="'+n(k," ")+'">'+a.$title()+"</"+f+">"});a.defn(k,"$image",function(a){var b,e,f,g,k=c,l=c,r=c,p=c,q=c,F=c,H=c,u=c,H=r=r=l=l=k=c,k=a.$attr("target"),l=(b=a["$attr?"]("width"))===c||b.$$is_boolean&&1!=
b?c:' width="'+a.$attr("width")+'"',r=(b=a["$attr?"]("height"))===c||b.$$is_boolean&&1!=b?c:' height="'+a.$attr("height")+'"';(b=(e=(f=!1!==(g=a["$attr?"]("format","svg",!1))&&g!==c?g:k["$include?"](".svg"),!1!==f&&f!==c?m(a.$document().$safe(),v.get("SafeMode").$$scope.get("SECURE")):f),!1!==e&&e!==c?!1!==(f=p=a["$option?"]("inline"))&&f!==c?f:q=a["$option?"]("interactive"):e))===c||b.$$is_boolean&&1!=b||(!1!==p&&p!==c?F=!1!==(b=this.$read_svg_contents(a,k))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+
"</span>":!1!==q&&q!==c&&(H=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+l+r+this.void_element_slash+">",F='<object type="image/svg+xml" data="'+a.$image_uri(k)+'"'+l+r+">"+H+"</object>"));!1!==(b=F)&&b!==c?b:F='<img src="'+a.$image_uri(k)+'" alt="'+a.$attr("alt")+'"'+l+r+this.void_element_slash+">";(b=u=a.$attr("link"))===c||b.$$is_boolean&&1!=b||(F='<a class="image" href="'+
u+'">'+F+"</a>");k=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';l=["imageblock",a.$style(),a.$role()].$compact();l=' class="'+n(l," ")+'"';r=[];if((b=a["$attr?"]("align"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]("float: "+a.$attr("float"));r=(b=r["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+n(r,";")+'"':c;H=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$captioned_title()+
"</div>";return"<div"+k+l+r+'>\r\n<div class="content">\r\n'+F+"\r\n</div>"+H+"\r\n</div>"});a.defn(k,"$listing",function(a){var b,e=c,f=c,g=c,k=c,m=k=e=g=e=c,l=c,e=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(g=(b=f=a.$attr("language",c,!1))===c||b.$$is_boolean&&1!=b?c:' data-lang="'+f+'"',k=a.$document().$attr("source-highlighter"),"coderay"["$==="](k)?e=' class="CodeRay highlight'+(!1!==e&&e!==c?" nowrap":c)+'"':"pygments"["$==="](k)?
e=' class="pygments highlight'+(!1!==e&&e!==c?" nowrap":c)+'"':"highlightjs"["$==="](k)||"highlight.js"["$==="](k)?(e=' class="highlightjs highlight'+(!1!==e&&e!==c?" nowrap":c)+'"',!1!==f&&f!==c&&(g=' class="language-'+f+'"'+g)):"prettify"["$==="](k)?(e=' class="prettyprint highlight'+(!1!==e&&e!==c?" nowrap":c)+((b=a["$attr?"]("linenums"))===c||b.$$is_boolean&&1!=b?c:" linenums")+'"',!1!==f&&f!==c&&(g=' class="language-'+f+'"'+g)):"html-pipeline"["$==="](k)?(e=!1!==f&&f!==c?' lang="'+f+'"':c,g=
c):(e=' class="highlight'+(!1!==e&&e!==c?" nowrap":c)+'"',!1!==f&&f!==c&&(g=' class="language-'+f+'"'+g)),g="<pre"+e+"><code"+g+">",e="</code></pre>"):(g="<pre"+(!1!==e&&e!==c?' class="nowrap"':c)+">",e="</pre>");k=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';m=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+k+' class="listingblock'+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\r\n'+m+'<div class="content">\r\n'+g+a.$content()+
e+"\r\n</div>\r\n</div>"});a.defn(k,"$literal",function(a){var b,e=c,f=c,g=c,k=c,e=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",g=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");return"<div"+e+' class="literalblock'+(b=k=a.$role(),!1!==b&&b!==c?" "+k:b)+'">\r\n'+f+'<div class="content">\r\n<pre'+(!1!==g&&g!==c?' class="nowrap"':c)+">"+a.$content()+"</pre>\r\n</div>\r\n</div>"});
a.defn(k,"$stem",function(b){var d,e,f=c,g=c,k=c,m=c,l=c,r=c,f=(d=b.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',g=(d=b["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+b.$title()+"</div>\n";e=v.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());d=a.to_ary(e);k=null==d[0]?c:d[0];m=null==d[1]?c:d[1];e;if((d=(e=(l=b.$content())["$start_with?"](k),!1!==e&&e!==c?l["$end_with?"](m):e))===c||d.$$is_boolean&&1!=d)l=""+k+l+m;return"<div"+f+' class="'+((d=r=b.$role())===c||
d.$$is_boolean&&1!=d?"stemblock":n(["stemblock",r]," "))+'">\r\n'+g+'<div class="content">\r\n'+l+"\r\n</div>\r\n</div>"});a.defn(k,"$olist",function(a){var b,e,f,g=c,k=c,m=c,l=k=m=c,m=c,g=[],k=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m=["olist",a.$style(),a.$role()].$compact(),m=' class="'+n(m," ")+'"';g["$<<"]("<div"+k+m+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))g["$<<"]('<div class="title">'+a.$title()+"</div>");k=(b=l=a.$list_marker_keyword())===c||b.$$is_boolean&&
1!=b?c:' type="'+l+'"';m=(b=a["$attr?"]("start"))===c||b.$$is_boolean&&1!=b?c:' start="'+a.$attr("start")+'"';g["$<<"]('<ol class="'+a.$style()+'"'+k+m+">");(b=(e=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=c);g["$<<"]("<li>");g["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))g["$<<"](a.$content());return g["$<<"]("</li>")},f.$$s=this,f),b).call(e);g["$<<"]("</ol>");g["$<<"]("</div>");return n(g,v.get("EOL"))});a.defn(k,"$open",function(a){var b,e,f,
g=c,k=c,m=c,l=c;if((g=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===c||b.$$is_boolean&&1!=b)return k=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+k+' class="quoteblock abstract'+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\r\n'+m+"<blockquote>\r\n"+a.$content()+"\r\n</blockquote>\r\n</div>";
this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=g["$=="]("partintro")?!1!==(e=!1!==(f=a.$level()["$!="](0))&&f!==c?f:a.$parent().$context()["$!="]("section"))&&e!==c?e:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))===c||b.$$is_boolean&&1!=b)return k=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+
a.$title()+"</div>","<div"+k+' class="openblock'+((b=!1!==g&&g!==c?g["$!="]("open"):g)===c||b.$$is_boolean&&1!=b?"":" "+g)+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\r\n'+m+'<div class="content">\r\n'+a.$content()+"\r\n</div>\r\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""});a.defn(k,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'});a.defn(k,"$paragraph",
function(a){var b,e=c,e=c,e=(b=a.$role())===c||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',e=(b=a.$id())===c||b.$$is_boolean&&1!=b?e:'id="'+a.$id()+'" '+e;return(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?"<div "+e+">\r\n<p>"+a.$content()+"</p>\r\n</div>":"<div "+e+'>\r\n<div class="title">'+a.$title()+"</div>\r\n<p>"+a.$content()+"</p>\r\n</div>"});a.defn(k,"$preamble",function(a){var b,e,f,g=c,k=c,k=(b=(e=(f=(g=a.$document())["$attr?"]("toc-placement","preamble"),
!1!==f&&f!==c?g["$sections?"]():f),!1!==e&&e!==c?g["$attr?"]("toc"):e))===c||b.$$is_boolean&&1!=b?c:'\r\n<div id="toc" class="'+g.$attr("toc-class","toc")+'">\r\n<div id="toctitle">'+g.$attr("toc-title")+"</div>\r\n"+this.$outline(g)+"\r\n</div>";return'<div id="preamble">\r\n<div class="sectionbody">\r\n'+a.$content()+"\r\n</div>"+k+"\r\n</div>"});a.defn(k,"$quote",function(a){var b,e,f=c,g=c,k=g=c,m=c,l=c,r=c,r=m=c,f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=["quoteblock",a.$role()].$compact(),
g=' class="'+n(g," ")+'"',k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",m=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),l=(b=a["$attr?"]("citetitle"))===c||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(e=m)&&e!==c?e:l)===c||b.$$is_boolean&&1!=b?r=c:(r=!1!==l&&l!==c?"<cite>"+l+"</cite>":c,m=!1!==m&&m!==c?"&#8212; "+m+(!1!==l&&l!==c?"<br"+this.void_element_slash+">\n":c):c,r='\n<div class="attribution">\n'+m+r+
"\n</div>");return"<div"+f+g+">"+k+"\r\n<blockquote>\r\n"+a.$content()+"\r\n</blockquote>"+r+"\r\n</div>"});a.defn(k,"$thematic_break",function(a){return"<hr"+this.void_element_slash+">"});a.defn(k,"$sidebar",function(a){var b,e=c,f=c,g=c,e=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n";return"<div"+e+' class="'+((b=g=a.$role())===c||b.$$is_boolean&&1!=b?"sidebarblock":n(["sidebarblock",g]," "))+
'">\r\n<div class="content">\r\n'+f+a.$content()+"\r\n</div>\r\n</div>"});a.defn(k,"$table",function(a){var b,e,f,g,k,m,r,p,q,F,H=c,u=c,I=c,J=c,y=c,B=J=I=y=c,L=c,H=[],u=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',I=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],J=[];if((b=a["$option?"]("autowidth"))===c||b.$$is_boolean&&1!=b)if((y=a.$attr("tablepcwidth"))["$=="](100))I["$<<"]("spread");else J["$<<"]("width: "+y+"%;");if((b=y=a.$role())!==c&&(!b.$$is_boolean||
1==b))I["$<<"](y);I=' class="'+n(I," ")+'"';if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))J["$<<"]("float: "+a.$attr("float")+";");J=(b=J["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+n(J," ")+'"':c;H["$<<"]("<table"+u+I+J+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))H["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");(b=l(a.$attr("rowcount"),0))===c||b.$$is_boolean&&1!=b||(B=this.void_element_slash,H["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===
c||b.$$is_boolean&&1!=b?(b=(g=a.$columns()).$each,b.$$p=(k=function(a){null==a&&(a=c);return H["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+B+">")},k.$$s=this,k),b).call(g):(L="<col"+B+">",(b=(e=a.$columns().$size()).$times,b.$$p=(f=function(){return H["$<<"](L)},f.$$s=this,f),b).call(e)),H["$<<"]("</colgroup>"),(b=(m=(p=(q=["head","foot","body"]).$select,p.$$p=(F=function(b){null==b&&(b=c);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},F.$$s=this,F),p).call(q)).$each,b.$$p=(r=function(b){var d=
r.$$s||this,e,f,g;null==b&&(b=c);H["$<<"]("<t"+b+">");(e=(f=a.$rows()["$[]"](b)).$each,e.$$p=(g=function(d){var e=g.$$s||this,f,k,m;null==d&&(d=c);H["$<<"]("<tr>");(f=(k=d).$each,f.$$p=(m=function(d){var e=m.$$s||this,f,g,k,l,r=c,n=c,w=n=c,p=c,z=c,q=c;null==d&&(d=c);b["$=="]("head")?r=d.$text():(n=d.$style(),"asciidoc"["$==="](n)?r="<div>"+d.$content()+"</div>":"verse"["$==="](n)?r='<div class="verse">'+d.$text()+"</div>":"literal"["$==="](n)?r='<div class="literal"><pre>'+d.$text()+"</pre></div>":
(r="",(f=(g=d.$content()).$each,f.$$p=(k=function(a){null==a&&(a=c);return r=""+r+'<p class="tableblock">'+a+"</p>"},k.$$s=e,k),f).call(g)));n=(f=!1!==(l=b["$=="]("head"))&&l!==c?l:d.$style()["$=="]("header"))===c||f.$$is_boolean&&1!=f?"td":"th";w=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+'"';p=(f=d.$colspan())===c||f.$$is_boolean&&1!=f?c:' colspan="'+d.$colspan()+'"';z=(f=d.$rowspan())===c||f.$$is_boolean&&1!=f?c:' rowspan="'+d.$rowspan()+'"';q=(f=a.$document()["$attr?"]("cellbgcolor"))===
c||f.$$is_boolean&&1!=f?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return H["$<<"]("<"+n+w+p+z+q+">"+r+"</"+n+">")},m.$$s=e,m),f).call(k);return H["$<<"]("</tr>")},g.$$s=d,g),e).call(f);return H["$<<"]("</t"+b+">")},r.$$s=this,r),b).call(m));H["$<<"]("</table>");return n(H,v.get("EOL"))});a.defn(k,"$toc",function(a){var b,e,f,g=c,k=c,m=c,l=c,r=c,n=c;if((b=(e=(f=(g=a.$document())["$attr?"]("toc-placement","macro"),!1!==f&&f!==c?g["$sections?"]():f),!1!==e&&e!==c?g["$attr?"]("toc"):
e))===c||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===c||b.$$is_boolean&&1!=b?(k=' id="toc"',m=' id="toctitle"'):(k=' id="'+a.$id()+'"',m=' id="'+a.$id()+'title"');l=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?g.$attr("toc-title"):a.$title();r=(b=a["$attr?"]("levels"))===c||b.$$is_boolean&&1!=b?c:a.$attr("levels").$to_i();n=(b=a["$role?"]())===c||b.$$is_boolean&&1!=b?g.$attr("toc-class","toc"):a.$role();return"<div"+k+' class="'+n+'">\r\n<div'+m+' class="title">'+l+"</div>\r\n"+
this.$outline(g,x(["toclevels"],{toclevels:r}))+"\r\n</div>"});a.defn(k,"$ulist",function(a){var b,e,f,g=c,k=c,m=c,l=c,r=c,p=c,q=c,g=[],k=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m=["ulist",a.$style(),a.$role()].$compact(),r=l=c;(b=p=a["$option?"]("checklist"))===c||b.$$is_boolean&&1!=b?q=(b=a.$style())===c||b.$$is_boolean&&1!=b?c:' class="'+a.$style()+'"':(m.$insert(1,"checklist"),q=' class="checklist"',(b=a["$option?"]("interactive"))===c||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons",
"font"))===c||b.$$is_boolean&&1!=b?(l="&#10003; ",r="&#10063; "):(l='<i class="fa fa-check-square-o"></i> ',r='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===c||b.$$is_boolean&&1!=b?(l='<input type="checkbox" data-item-complete="1" checked> ',r='<input type="checkbox" data-item-complete="0"> '):(l='<input type="checkbox" data-item-complete="1" checked="checked"/> ',r='<input type="checkbox" data-item-complete="0"/> '));g["$<<"]("<div"+k+' class="'+n(m," ")+'">');
if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))g["$<<"]('<div class="title">'+a.$title()+"</div>");g["$<<"]("<ul"+q+">");(b=(e=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=c);g["$<<"]("<li>");if((b=!1!==p&&p!==c?a["$attr?"]("checkbox"):p)===c||b.$$is_boolean&&1!=b)g["$<<"]("<p>"+a.$text()+"</p>");else g["$<<"]("<p>"+((b=a["$attr?"]("checked"))===c||b.$$is_boolean&&1!=b?r:l)+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))g["$<<"](a.$content());return g["$<<"]("</li>")},
f.$$s=this,f),b).call(e);g["$<<"]("</ul>");g["$<<"]("</div>");return n(g,v.get("EOL"))});a.defn(k,"$verse",function(a){var b,e,f=c,g=c,k=g=c,m=c,l=c,r=c,r=m=c,f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=["verseblock",a.$role()].$compact(),g=' class="'+n(g," ")+'"',k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",m=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),l=(b=a["$attr?"]("citetitle"))===c||b.$$is_boolean&&
1!=b?c:a.$attr("citetitle");(b=!1!==(e=m)&&e!==c?e:l)===c||b.$$is_boolean&&1!=b?r=c:(r=!1!==l&&l!==c?"<cite>"+l+"</cite>":c,m=!1!==m&&m!==c?"&#8212; "+m+(!1!==l&&l!==c?"<br"+this.void_element_slash+">\n":c):c,r='\n<div class="attribution">\n'+m+r+"\n</div>");return"<div"+f+g+">"+k+'\r\n<pre class="content">'+a.$content()+"</pre>"+r+"\r\n</div>"});a.defn(k,"$video",function(b){var d,e,f=this,g=c,k=c,m=c,l=c,r=c,p=c,q=c,v=c,u=c,I=c,J=c,y=c,B=c,L=c,x=c,A=c,K=c,U=c,Z=c,ca=c,R=c,ea=c,X=c,D=c,fa=c,G=c,
T=c,ja=c,ma=c,ka=c,aa=c,g=b.$document()["$attr?"]("htmlsyntax","xml"),k=(d=b.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',m=["videoblock",b.$style(),b.$role()].$compact(),l=' class="'+n(m," ")+'"',r=(d=b["$title?"]())===c||d.$$is_boolean&&1!=d?c:'\n<div class="title">'+b.$captioned_title()+"</div>",p=(d=b["$attr?"]("width"))===c||d.$$is_boolean&&1!=d?c:' width="'+b.$attr("width")+'"',q=(d=b["$attr?"]("height"))===c||d.$$is_boolean&&1!=d?c:' height="'+b.$attr("height")+'"';return function(){v=
b.$attr("poster");if("vimeo"["$==="](v)){if((d=(u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||d.$$is_boolean&&1!=d)u=""+u+":";I=(d=b["$attr?"]("start",c,!1))===c||d.$$is_boolean&&1!=d?c:"#at="+b.$attr("start");J="?";y=(d=b["$option?"]("autoplay"))===c||d.$$is_boolean&&1!=d?c:""+J+"autoplay=1";!1!==y&&y!==c&&(J="&amp;");B=(d=b["$option?"]("loop"))===c||d.$$is_boolean&&1!=d?c:""+J+"loop=1";return"<div"+k+l+">"+r+'\r\n<div class="content">\r\n<iframe'+p+q+' src="'+u+"//player.vimeo.com/video/"+
b.$attr("target")+I+y+B+'" frameborder="0"'+((d=b["$option?"]("nofullscreen"))===c||d.$$is_boolean&&1!=d?f.$append_boolean_attribute("allowfullscreen",g):c)+"></iframe>\r\n</div>\r\n</div>"}if("youtube"["$==="](v)){if((d=(u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||d.$$is_boolean&&1!=d)u=""+u+":";L=(d=b["$option?"]("related"))===c||d.$$is_boolean&&1!=d?0:1;x=(d=b["$attr?"]("start",c,!1))===c||d.$$is_boolean&&1!=d?c:"&amp;start="+b.$attr("start");A=(d=b["$attr?"]("end",c,
!1))===c||d.$$is_boolean&&1!=d?c:"&amp;end="+b.$attr("end");y=(d=b["$option?"]("autoplay"))===c||d.$$is_boolean&&1!=d?c:"&amp;autoplay=1";B=(d=b["$option?"]("loop"))===c||d.$$is_boolean&&1!=d?c:"&amp;loop=1";K=(d=b["$option?"]("nocontrols"))===c||d.$$is_boolean&&1!=d?c:"&amp;controls=0";(d=b["$option?"]("nofullscreen"))===c||d.$$is_boolean&&1!=d?(U=c,Z=f.$append_boolean_attribute("allowfullscreen",g)):(U="&amp;fs=0",Z=c);ca=(d=b["$option?"]("modest"))===c||d.$$is_boolean&&1!=d?c:"&amp;modestbranding=1";
R=(d=b["$attr?"]("theme",c,!1))===c||d.$$is_boolean&&1!=d?c:"&amp;theme="+b.$attr("theme");ea=(d=b["$attr?"]("lang"))===c||d.$$is_boolean&&1!=d?c:"&amp;hl="+b.$attr("lang");e=b.$attr("target").$split("/",2);d=a.to_ary(e);X=null==d[0]?c:d[0];D=null==d[1]?c:d[1];e;(d=!1!==(e=D)&&e!==c?e:D=b.$attr("list",c,!1))===c||d.$$is_boolean&&1!=d?(e=X.$split(",",2),d=a.to_ary(e),X=null==d[0]?c:d[0],G=null==d[1]?c:d[1],e,fa=(d=!1!==(e=G)&&e!==c?e:G=b.$attr("playlist",c,!1))===c||d.$$is_boolean&&1!=d?!1!==B&&B!==
c?"&amp;playlist="+X:c:"&amp;playlist="+G):fa="&amp;list="+D;return"<div"+k+l+">"+r+'\r\n<div class="content">\r\n<iframe'+p+q+' src="'+u+"//www.youtube.com/embed/"+X+"?rel="+L+x+A+y+B+K+fa+U+ca+R+ea+'" frameborder="0"'+Z+"></iframe>\r\n</div>\r\n</div>"}T=(d=(""+(ja=b.$attr("poster")))["$empty?"]())===c||d.$$is_boolean&&1!=d?' poster="'+b.$media_uri(ja)+'"':c;ma=b.$attr("start",c,!1);ka=b.$attr("end",c,!1);aa=(d=!1!==(e=ma)&&e!==c?e:ka)===c||d.$$is_boolean&&1!=d?c:"#t="+ma+(!1!==ka&&ka!==c?",":c)+
ka;return"<div"+k+l+">"+r+'\r\n<div class="content">\r\n<video src="'+b.$media_uri(b.$attr("target"))+aa+'"'+p+q+T+((d=b["$option?"]("autoplay"))===c||d.$$is_boolean&&1!=d?c:f.$append_boolean_attribute("autoplay",g))+((d=b["$option?"]("nocontrols"))===c||d.$$is_boolean&&1!=d?f.$append_boolean_attribute("controls",g):c)+((d=b["$option?"]("loop"))===c||d.$$is_boolean&&1!=d?c:f.$append_boolean_attribute("loop",g))+">\r\nYour browser does not support the video tag.\r\n</video>\r\n</div>\r\n</div>"}()});
a.defn(k,"$inline_anchor",function(a){var b,e,f=this,g=c,k=c,m=c,l=c,r=c,n=c,g=a.$target();return function(){k=a.$type();if("xref"["$==="](k))return m=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==c?b:g,l=!1!==(b=a.$text())&&b!==c?b:!1!==(e=a.$document().$references()["$[]"]("ids")["$[]"](m))&&e!==c?e:"["+m+"]",'<a href="'+g+'">'+l+"</a>";if("ref"["$==="](k))return'<a id="'+g+'"></a>';if("link"["$==="](k)){r=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))r["$<<"](' id="'+a.$id()+'"');if((b=n=a.$role())!==
c&&(!b.$$is_boolean||1==b))r["$<<"](' class="'+n+'"');if((b=a["$attr?"]("title",c,!1))!==c&&(!b.$$is_boolean||1==b))r["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",c,!1))!==c&&(!b.$$is_boolean||1==b))r["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+g+'"'+r.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](k)?'<a id="'+g+'"></a>['+g+"]":f.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()});a.defn(k,"$inline_break",function(a){return""+
a.$text()+"<br"+this.void_element_slash+">"});a.defn(k,"$inline_button",function(a){return'<b class="button">'+a.$text()+"</b>"});a.defn(k,"$inline_callout",function(a){var b,e=c;if((b=a.$document()["$attr?"]("icons","font"))===c||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b)return'<b class="conum">('+a.$text()+")</b>";e=a.$icon_uri("callouts/"+a.$text());return'<img src="'+e+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+
a.$text()+'"></i><b>('+a.$text()+")</b>"});a.defn(k,"$inline_footnote",function(a){var b,e=c,f=c;if((b=e=a.$attr("index"))===c||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>";f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+
f+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>"});a.defn(k,"$inline_image",function(a){var b,e,f,g,k,l,r,n,p=c,q=c,H=c,u=e=H=c,I=c,J=c,y=c,B=e=c,p=c;(b=(e=(p=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(p=a.$type())["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(b=(f=p["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():p["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(e=a.$target(),u=(b=(f=["width","height","title"]).$map,
b.$$p=(g=function(b){var d;null==b&&(b=c);return(d=a["$attr?"](b))===c||d.$$is_boolean&&1!=d?c:" "+b+'="'+a.$attr(b)+'"'},g.$$s=this,g),b).call(f).$join(),(b=(k=(l=(r=p["$!="]("icon"),!1!==r&&r!==c?!1!==(n=a["$attr?"]("format","svg",!1))&&n!==c?n:e["$include?"](".svg"):r),!1!==l&&l!==c?m(a.$document().$safe(),v.get("SafeMode").$$scope.get("SECURE")):l),!1!==k&&k!==c?!1!==(l=I=a["$option?"]("inline"))&&l!==c?l:J=a["$option?"]("interactive"):k))===c||b.$$is_boolean&&1!=b||(!1!==I&&I!==c?H=!1!==(b=this.$read_svg_contents(a,
e))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==J&&J!==c&&(y=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+">",H='<object type="image/svg+xml" data="'+a.$image_uri(e)+'"'+u+">"+y+"</object>")),!1!==(b=H)&&b!==c?b:H='<img src="'+(p["$=="]("icon")?a.$icon_uri(e):a.$image_uri(e))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+
">"):H="["+a.$attr("alt")+"]":(q="fa fa-"+a.$target(),(b=(e=x(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(f=function(b,d){var e;null==b&&(b=c);null==d&&(d=c);return(e=a["$attr?"](b))===c||e.$$is_boolean&&1!=e?c:q=""+q+" "+d+a.$attr(b)},f.$$s=this,f),b).call(e),H=(b=a["$attr?"]("title"))===c||b.$$is_boolean&&1!=b?c:' title="'+a.$attr("title")+'"',H='<i class="'+q+'"'+H+"></i>");(b=a["$attr?"]("link"))===c||b.$$is_boolean&&1!=b||(e=(b=a["$attr?"]("window"))===
c||b.$$is_boolean&&1!=b?c:' target="'+a.$attr("window")+'"',H='<a class="image" href="'+a.$attr("link")+'"'+e+">"+H+"</a>");q=(b=B=a.$role())===c||b.$$is_boolean&&1!=b?p:""+p+" "+B;p=(b=a["$attr?"]("float"))===c||b.$$is_boolean&&1!=b?c:' style="float: '+a.$attr("float")+'"';return'<span class="'+q+'"'+p+">"+H+"</span>"});a.defn(k,"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?a.$text():""});a.defn(k,"$inline_kbd",function(a){var b,e,f,g=c,g=c;if((g=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+
g["$[]"](0)+"</kbd>";g=(b=(e=g).$map,b.$$p=(f=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},f.$$s=this,f),b).call(e).$join().$chop();return'<span class="keyseq">'+g+"</span>"});a.defn(k,"$inline_menu",function(a){var b,e,f,g=c,k=c,m=k=c,g=a.$attr("menu");if((b=(k=a.$attr("submenus"))["$empty?"]()["$!"]())===c||b.$$is_boolean&&1!=b)return(b=m=a.$attr("menuitem"))===c||b.$$is_boolean&&1!=b?'<span class="menu">'+g+"</span>":'<span class="menuseq"><span class="menu">'+g+'</span>&#160;&#9656; <span class="menuitem">'+
m+"</span></span>";k=(b=(e=k).$map,b.$$p=(f=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},f.$$s=this,f),b).call(e).$join().$chop();return'<span class="menuseq"><span class="menu">'+g+"</span>&#160;&#9656; "+k+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"});a.defn(k,"$inline_quoted",function(b){var d,e,f=c,g=c,k=c,m=c;e=c;e=v.get("QUOTE_TAGS")["$[]"](b.$type());d=a.to_ary(e);f=null==d[0]?c:d[0];g=null==d[1]?c:d[1];k=null==d[2]?c:d[2];e;e=(d=
m=b.$role())===c||d.$$is_boolean&&1!=d?""+f+b.$text()+g:!1!==k&&k!==c?""+f.$chop()+' class="'+m+'">'+b.$text()+g:'<span class="'+m+'">'+f+b.$text()+g+"</span>";return(d=b.$id())===c||d.$$is_boolean&&1!=d?e:'<a id="'+b.$id()+'"></a>'+e});a.defn(k,"$append_boolean_attribute",function(a,b){return!1!==b&&b!==c?" "+a+'="'+a+'"':" "+a});return(a.defn(k,"$read_svg_contents",function(a,b){var e,f,g,k=c,m=c,l=c;if((e=k=a.$read_contents(b,x(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),
normalize:!0,label:"SVG"})))!==c&&(!e.$$is_boolean||1==e)){if((e=k["$start_with?"]("<svg"))===c||e.$$is_boolean&&1!=e)k=k.$sub(v.get("SvgPreambleRx"),"");m=l=c;(e=(f=["width","height"]).$each,e.$$p=(g=function(b){var d;null==b&&(b=c);if((d=a["$attr?"](b))===c||d.$$is_boolean&&1!=d)return c;if(!1===l||l===c)l=(m=k.$match(v.get("SvgStartTagRx"))["$[]"](0)).$gsub(v.get("DimensionAttributeRx"),"");return l=""+l.$chop()+" "+b+'="'+a.$attr(b)+'px">'},g.$$s=this,g),e).call(f);!1!==l&&l!==c&&(k=""+l+k["$[]"](y(m.$length(),
-1,!1)))}return k}),c)&&"read_svg_contents"})(u.get("Converter"),u.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var g=a.nil,m=a.module,e=a.klass,c=a.hash2,b=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $freeze $attribute_undefined $attribute_missing $detect $constants $key? $expand_path $pwd $>= $+ $length $fetch $delete_if $parse $restore_attributes $update_backend_attributes $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $to_i $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));return function(A){A=
m(A,"Asciidoctor").$$scope;(function(m,$super){function u(){}var p=u=e(m,$super,"Document",u),t=p.$$proto,f=p.$$scope,k,B,v;t.attributes=t.safe=t.reader=t.base_dir=t.parsed=t.parent_document=t.extensions=t.options=t.counters=t.references=t.doctype=t.backend=t.header=t.blocks=t.attributes_modified=t.id=t.callouts=t.header_attributes=t.attribute_overrides=t.converter=t.outfilesuffix=t.docinfo_processor_extensions=t.document=g;a.cdecl(f,"Footnote",a.get("Struct").$new("index","id","text"));(function(b,
$super){function d(){}var c=d=e(b,$super,"AttributeEntry",d);c.$attr_reader("name","value","negate");a.defn(c,"$initialize",function(a,b,d){var c;null==d&&(d=g);this.name=a;this.value=b;return this.negate=(c=d["$nil?"]())===g||c.$$is_boolean&&1!=c?d:b["$nil?"]()});return(a.defn(c,"$save_to",function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==g?b:a["$[]="]("attribute_entries",[]))["$<<"](this)}),g)&&"save_to"})(f.base,null);(function(b,$super){function d(){}var f=d=e(b,$super,"Title",
d),k=f.$$proto,m=f.$$scope;k.sanitized=k.subtitle=k.combined=g;f.$attr_reader("main");a.alias(f,"title","main");f.$attr_reader("subtitle");f.$attr_reader("combined");a.defn(f,"$initialize",function(b,d){var e,f,k,l=g;null==d&&(d=c([],{}));(e=(f=this.sanitized=d["$[]"]("sanitize"),!1!==f&&f!==g?b["$include?"]("<"):f))===g||e.$$is_boolean&&1!=e||(b=b.$gsub(m.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(e=!1!==(f=(l=!1!==(k=d["$[]"]("separator"))&&k!==g?k:":")["$empty?"]())&&f!==g?f:b["$include?"](l=
""+l+" ")["$!"]())===g||e.$$is_boolean&&1!=e?(f=b.$rpartition(l),e=a.to_ary(f),this.main=null==e[0]?g:e[0],this.subtitle=null==e[2]?g:e[2],f):(this.main=b,this.subtitle=g);return this.combined=b});a.defn(f,"$sanitized?",function(){return this.sanitized});a.defn(f,"$subtitle?",function(){return this.subtitle["$!"]()["$!"]()});return(a.defn(f,"$to_s",function(){return this.combined}),g)&&"to_s"})(f.base,null);p.$attr_reader("safe");p.$attr_reader("compat_mode");p.$attr_reader("sourcemap");p.$attr_reader("references");
p.$attr_reader("counters");p.$attr_reader("callouts");p.$attr_reader("header");p.$attr_reader("base_dir");p.$attr_reader("options");p.$attr_reader("outfilesuffix");p.$attr_reader("parent_document");p.$attr_reader("reader");p.$attr_reader("converter");p.$attr_reader("extensions");a.defn(p,"$initialize",k=function(e,h){var d,m,l,p,t,z,v,u,ba,F,H,M,I=g,J=g,B=g,x=g,L=x=g,A=g,N=I=A=x=I=x=x=g;null==e&&(e=g);null==h&&(h=c([],{}));k.$$p=null;a.find_super_dispatcher(this,"initialize",k,null).apply(this,[this,
"document"]);if((d=I=h.$delete("parent"))===g||d.$$is_boolean&&1!=d){this.parent_document=g;this.references=c("ids footnotes links images indexterms includes".split(" "),{ids:c([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=f.get("Callouts").$new();J=c([],{});(d=(m=!1!==(v=h["$[]"]("attributes"))&&v!==g?v:c([],{})).$each,d.$$p=(z=function(a,d){var c;null==a&&(a=g);null==d&&(d=g);(c=a["$start_with?"]("!"))===g||c.$$is_boolean&&1!=c?(c=a["$end_with?"]("!"))===
g||c.$$is_boolean&&1!=c||(a=a.$chop(),d=g):(a=a["$[]"](b(1,-1,!1)),d=g);return J["$[]="](a.$downcase(),d)},z.$$s=this,z),d).call(m);this.attribute_overrides=J;if((d=(x=h["$[]"]("safe"))["$!"]())===g||d.$$is_boolean&&1!=d)if((d=a.get("Fixnum")["$==="](x))===g||d.$$is_boolean&&1!=d)try{this.safe=f.get("SafeMode").$const_get(x.$to_s().$upcase())}catch(K){try{this.safe=f.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else this.safe=x;else this.safe=f.get("SafeMode").$$scope.get("SECURE");
this.sourcemap=h["$[]"]("sourcemap");this.compat_mode=!1;this.converter=g;try{B=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":g}catch(K){if(K.$$class===a.NameError)B=g;else throw K;}this.extensions=g}else this.parent_document=I,d="base_dir",m=h,!1!==(l=m["$[]"](d))&&l!==g?l:m["$[]="](d,I.$base_dir()),this.references=(d=(m=I.$references()).$inject,d.$$p=(p=function(a,b){null==a&&(a=g);var d=b[0],c=b[1];if(d["$=="]("footnotes"))a["$[]="]("footnotes",[]);else a["$[]="](d,c);return a},
p.$$s=this,p),d).call(m,c([],{})),this.callouts=I.$callouts(),J=I.$attributes().$dup(),(d=(l=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,d.$$p=(t=function(a){null==a&&(a=g);return J.$delete(a)},t.$$s=this,t),d).call(l),this.attribute_overrides=J,this.safe=I.$safe(),this.compat_mode=I.$compat_mode(),this.sourcemap=I.$sourcemap(),this.converter=I.$converter(),B=!1,this.extensions=I.$extensions();this.parsed=!1;this.header=g;this.counters=c([],{});this.attributes_modified=a.get("Set").$new();
this.options=h;this.docinfo_processor_extensions=c([],{});x=(d="header_footer",v=h,!1!==(u=v["$[]"](d))&&u!==g?u:v["$[]="](d,!1));h.$freeze();L=this.attributes;L["$[]="]("sectids","");if(!1===x||x===g)L["$[]="]("notitle","");L["$[]="]("toc-placement","auto");L["$[]="]("stylesheet","");L["$[]="]("webfonts","");if(!1!==x&&x!==g)L["$[]="]("copycss","");L["$[]="]("prewrap","");L["$[]="]("attribute-undefined",f.get("Compliance").$attribute_undefined());L["$[]="]("attribute-missing",f.get("Compliance").$attribute_missing());
L["$[]="]("iconfont-remote","");L["$[]="]("caution-caption","Caution");L["$[]="]("important-caption","Important");L["$[]="]("note-caption","Note");L["$[]="]("tip-caption","Tip");L["$[]="]("warning-caption","Warning");L["$[]="]("appendix-caption","Appendix");L["$[]="]("example-caption","Example");L["$[]="]("figure-caption","Figure");L["$[]="]("table-caption","Table");L["$[]="]("toc-title","Table of Contents");L["$[]="]("manname-title","NAME");L["$[]="]("untitled-label","Untitled");L["$[]="]("version-label",
"Version");L["$[]="]("last-update-label","Last updated");J["$[]="]("asciidoctor","");J["$[]="]("asciidoctor-version",f.get("VERSION"));A=(d=(v=f.get("SafeMode").$constants()).$detect,d.$$p=(ba=function(a){var b=ba.$$s||this;null==b.safe&&(b.safe=g);null==a&&(a=g);return f.get("SafeMode").$const_get(a)["$=="](b.safe)},ba.$$s=this,ba),d).call(v).$to_s().$downcase();J["$[]="]("safe-mode-name",A);J["$[]="]("safe-mode-"+A,"");J["$[]="]("safe-mode-level",this.safe);J["$[]="]("embedded",!1!==x&&x!==g?g:
"");d="max-include-depth";u=J;!1!==(F=u["$[]"](d))&&F!==g?F:u["$[]="](d,64);if((d=J["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===g||d.$$is_boolean&&1!=d)J["$[]="]("allow-uri-read",g);J["$[]="]("user-home",f.get("USER_HOME"));if((d=J["$key?"]("numbered"))!==g&&(!d.$$is_boolean||1==d))J["$[]="]("sectnums",J.$delete("numbered"));(d=h["$[]"]("base_dir"))===g||d.$$is_boolean&&1!=d?(d=J["$[]"]("docdir"))===g||d.$$is_boolean&&1!=d?this.base_dir=J["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):
this.base_dir=J["$[]="]("docdir",a.get("File").$expand_path(J["$[]"]("docdir"))):this.base_dir=J["$[]="]("docdir",a.get("File").$expand_path(h["$[]"]("base_dir")));if((d=x=h["$[]"]("backend"))!==g&&(!d.$$is_boolean||1==d))J["$[]="]("backend",""+x);if((d=x=h["$[]"]("doctype"))!==g&&(!d.$$is_boolean||1==d))J["$[]="]("doctype",""+x);if((d=q(this.safe,f.get("SafeMode").$$scope.get("SERVER")))!==g&&(!d.$$is_boolean||1==d)){d="copycss";u=J;!1!==(F=u["$[]"](d))&&F!==g?F:u["$[]="](d,g);d="source-highlighter";
u=J;!1!==(F=u["$[]"](d))&&F!==g?F:u["$[]="](d,g);d="backend";u=J;!1!==(F=u["$[]"](d))&&F!==g?F:u["$[]="](d,f.get("DEFAULT_BACKEND"));if((d=(u=I["$!"](),!1!==u&&u!==g?J["$key?"]("docfile"):u))!==g&&(!d.$$is_boolean||1==d))J["$[]="]("docfile",J["$[]"]("docfile")["$[]"](b(n(J["$[]"]("docdir").$length(),1),-1,!1)));J["$[]="]("docdir","");J["$[]="]("user-home",".");if((d=q(this.safe,f.get("SafeMode").$$scope.get("SECURE")))!==g&&(!d.$$is_boolean||1==d)){if((d=J.$fetch("linkcss","")["$nil?"]())===g||d.$$is_boolean&&
1!=d)J["$[]="]("linkcss","");d="icons";u=J;!1!==(F=u["$[]"](d))&&F!==g?F:u["$[]="](d,g)}}(d=(u=J).$delete_if,d.$$p=(H=function(b,d){var c,e,h=g;null==b&&(b=g);null==d&&(d=g);h=!1;(c=d["$nil?"]())===g||c.$$is_boolean&&1!=c?((c=(e=a.get("String")["$==="](d),!1!==e&&e!==g?d["$end_with?"]("@"):e))===g||c.$$is_boolean&&1!=c||(d=d.$chop(),h=!0),L["$[]="](b,d)):L.$delete(b);return h},H.$$s=this,H),d).call(u);(d=L["$key?"]("compat-mode"))===g||d.$$is_boolean&&1!=d||(this.compat_mode=!0);if(!1!==I&&I!==g)return d=
"doctype",F=L,!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,f.get("DEFAULT_DOCTYPE")),this.reader=f.get("Reader").$new(e,h["$[]"]("cursor")),f.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((d="backend",F=L,!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,f.get("DEFAULT_BACKEND")))["$=="]("manpage"))L["$[]="]("doctype",J["$[]="]("doctype","manpage"));else d="doctype",F=L,!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,f.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(L["$[]"]("backend"),
!0);I=a.get("Time").$now();x=(d="localdate",F=L,!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,I.$strftime("%Y-%m-%d")));if((d=A=L["$[]"]("localtime"))===g||d.$$is_boolean&&1!=d)try{A=L["$[]="]("localtime",I.$strftime("%H:%M:%S %Z"))}catch(K){try{A=L["$[]="]("localtime",I.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}d="localdatetime";F=L;!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,""+x+" "+A);d="docdate";F=L;!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,x);d="doctime";F=L;!1!==(M=F["$[]"](d))&&
M!==g?M:F["$[]="](d,A);d="docdatetime";F=L;!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,""+x+" "+A);d="stylesdir";F=L;!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,".");d="iconsdir";F=L;!1!==(M=F["$[]"](d))&&M!==g?M:F["$[]="](d,a.get("File").$join(L.$fetch("imagesdir","./images"),"icons"));if(!1!==B&&B!==g){if((d=I=h["$[]"]("extensions_registry"))===g||d.$$is_boolean&&1!=d)I=(d=a.get("Proc")["$==="](N=h["$[]"]("extensions")))===g||d.$$is_boolean&&1!=d?f.get("Extensions").$$scope.get("Registry").$new():(d=
(F=f.get("Extensions")).$build_registry,d.$$p=N.$to_proc(),d).call(F);else if((d=!1!==(F=f.get("Extensions").$$scope.get("Registry")["$==="](I))&&F!==g?F:(M=a.get("RUBY_ENGINE_JRUBY"),!1!==M&&M!==g?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](I):M))===g||d.$$is_boolean&&1!=d)I=f.get("Extensions").$$scope.get("Registry").$new();this.extensions=I.$activate(this)}return this.reader=f.get("PreprocessorReader").$new(this,e,f.get("Reader").$$scope.get("Cursor").$new(L["$[]"]("docfile"),
this.base_dir))});a.defn(p,"$parse",function(a){var b,d,e,k,m,l=g,n=g;null==a&&(a=g);return(b=this.parsed)===g||b.$$is_boolean&&1!=b?(l=this,!1!==a&&a!==g&&(this.reader=f.get("PreprocessorReader").$new(l,a,f.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(b=(d=n=(e=this.parent_document)===g||e.$$is_boolean&&1!=e?this.extensions:g,!1!==d&&d!==g?n["$preprocessors?"]():d))===g||b.$$is_boolean&&1!=b||(b=(d=n.$preprocessors()).$each,b.$$p=(k=function(a){var b=
k.$$s||this,d;null==b.reader&&(b.reader=g);null==a&&(a=g);return b.reader=!1!==(d=a.$process_method()["$[]"](l,b.reader))&&d!==g?d:b.reader},k.$$s=this,k),b).call(d),f.get("Parser").$parse(this.reader,l,c(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(b=(e=!1!==n&&n!==g)?n["$treeprocessors?"]():n)===g||b.$$is_boolean&&1!=b||(b=(e=n.$treeprocessors()).$each,b.$$p=(m=function(a){var b,d,c,e=g;null==a&&(a=g);return(b=(d=(c=e=a.$process_method()["$[]"](l),
!1!==c&&c!==g?f.get("Document")["$==="](e):c),!1!==d&&d!==g?e["$!="](l):d))===g||b.$$is_boolean&&1!=b?g:l=e},m.$$s=this,m),b).call(e),this.parsed=!0,l):this});a.defn(p,"$counter",function(a,b){var d,c,e=g,f=g;null==b&&(b=g);if((d=(c=e=(f=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==c&&c!==g?this.counters["$key?"](a):c))===g||d.$$is_boolean&&1!=d)(d=b["$nil?"]())===g||d.$$is_boolean&&1!=d?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==e&&e!==g?f:0),this.counters["$[]="](a,
b);else this.counters["$[]="](a,this.$nextval(f));return this.attributes["$[]="](a,this.counters["$[]"](a))});a.defn(p,"$counter_increment",function(a,b){var d=g,d=this.$counter(a);f.get("AttributeEntry").$new(a,d).$save_to(b.$attributes());return d});a.defn(p,"$nextval",function(b){var c,d=g;return(c=a.get("Integer")["$==="](b))===g||c.$$is_boolean&&1!=c?(d=b.$to_i(),(c=d.$to_s()["$!="](b.$to_s()))===g||c.$$is_boolean&&1!=c?n(d,1):n(b["$[]"](0).$ord(),1).$chr()):n(b,1)});a.defn(p,"$register",function(b,
c,d){var e,f,k=g,m=k=g;null==d&&(d=!1);k=b;"ids"["$==="](k)?(b=[].concat(a.to_a(c)),e=a.to_ary(b),k=null==e[0]?g:e[0],m=null==e[1]?g:e[1],b,!1!==(e=m)&&e!==g?e:m=n(n("[",k),"]"),d=!1!==d&&d!==g?this.references["$[]"]("ids")["$[]="](k,m):(e=k,b=this.references["$[]"]("ids"),!1!==(f=b["$[]"](e))&&f!==g?f:b["$[]="](e,m))):d="footnotes"["$==="](k)||"indexterms"["$==="](k)?this.references["$[]"](b)["$<<"](c):(e=this.options["$[]"]("catalog_assets"))===g||e.$$is_boolean&&1!=e?g:this.references["$[]"](b)["$<<"](c);
return d});a.defn(p,"$footnotes?",function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()});a.defn(p,"$footnotes",function(){return this.references["$[]"]("footnotes")});a.defn(p,"$nested?",function(){return this.parent_document["$!"]()["$!"]()});a.defn(p,"$embedded?",function(){return this.attributes["$key?"]("embedded")});a.defn(p,"$extensions?",function(){return this.extensions["$!"]()["$!"]()});a.defn(p,"$source",function(){var a;return(a=this.reader)===g||a.$$is_boolean&&1!=
a?g:this.reader.$source()});a.defn(p,"$source_lines",function(){var a;return(a=this.reader)===g||a.$$is_boolean&&1!=a?g:this.reader.$source_lines()});a.defn(p,"$doctype",function(){var a;return!1!==(a=this.doctype)&&a!==g?a:this.doctype=this.attributes["$[]"]("doctype")});a.defn(p,"$backend",function(){var a;return!1!==(a=this.backend)&&a!==g?a:this.backend=this.attributes["$[]"]("backend")});a.defn(p,"$basebackend?",function(a){return this.attributes["$[]"]("basebackend")["$=="](a)});a.defn(p,"$title",
function(){return this.attributes["$[]"]("title")});a.defn(p,"$title=",function(a){var b,d;!1!==(b=this.header)&&b!==g?b:this.header=f.get("Section").$new(this,0);return b=[a],d=this.header,d["$title="].apply(d,b),b[b.length-1]});a.defn(p,"$doctitle",function(a){var b,d,e=g,k=g,m=g;null==a&&(a=c([],{}));if((b=(e=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==g&&(!b.$$is_boolean||1==b))e=this.$title();else if((b=(d=k=this.$first_section(),!1!==d&&d!==g?k["$title?"]():d))!==g&&(!b.$$is_boolean||
1==b))e=k.$title();else if((b=(d=a["$[]"]("use_fallback"),!1!==d&&d!==g?e=this.attributes["$[]"]("untitled-label"):d))===g||b.$$is_boolean&&1!=b)return g;return(b=m=a["$[]"]("partition"))===g||b.$$is_boolean&&1!=b?(b=(d=a["$[]"]("sanitize"),!1!==d&&d!==g?e["$include?"]("<"):d))===g||b.$$is_boolean&&1!=b?e:e.$gsub(f.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():f.get("Title").$new(e,a.$merge(c(["separator"],{separator:m["$=="](!0)?this.attributes["$[]"]("title-separator"):m})))});a.alias(p,"name",
"doctitle");a.defn(p,"$author",function(){return this.attributes["$[]"]("author")});a.defn(p,"$revdate",function(){return this.attributes["$[]"]("revdate")});a.defn(p,"$notitle",function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==g?this.attributes["$key?"]("notitle"):a});a.defn(p,"$noheader",function(){return this.attributes["$key?"]("noheader")});a.defn(p,"$nofooter",function(){return this.attributes["$key?"]("nofooter")});a.defn(p,"$first_section",function(){var a,
b,d,c;return(a=this["$has_header?"]())===g||a.$$is_boolean&&1!=a?(a=(b=!1!==(c=this.blocks)&&c!==g?c:[]).$detect,a.$$p=(d=function(a){null==a&&(a=g);return a.$context()["$=="]("section")},d.$$s=this,d),a).call(b):this.header});a.defn(p,"$has_header?",function(){var a;return(a=this.header)===g||a.$$is_boolean&&1!=a?!1:!0});a.alias(p,"header?","has_header?");a.defn(p,"$<<",B=function(b){var c=B.$$p,d=g,e=g;B.$$p=null;d=[];for(e=0;e<arguments.length;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&
this.$assign_index(b);return a.find_super_dispatcher(this,"<<",B,c).apply(this,d)});a.defn(p,"$finalize_header",function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===g)a["$[]="]("invalid-header",!0);return a});a.defn(p,"$save_attributes",function(){var a,b,d,c,e=g,k=g,m=g,l=g,n=g,p=g,q=g,l=m=g;if((e=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==g?b:this.attributes_modified["$include?"]("toc"))===
g||a.$$is_boolean&&1!=a)e["$[]="]("toc","");if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==g?b:this.attributes_modified["$include?"]("sectnums"))===g||a.$$is_boolean&&1!=a)e["$[]="]("sectnums","")}if((a=!1!==(b=e["$key?"]("doctitle"))&&b!==g?b:(k=this.$doctitle())["$!"]())===g||a.$$is_boolean&&1!=a)e["$[]="]("doctitle",k);if((a=this.id)===g||a.$$is_boolean&&1!=a)this.id=e["$[]"]("css-signature");m=(a=l=(b=e.$delete("toc2"))===g||b.$$is_boolean&&1!=b?e["$[]"]("toc"):"left")===g||a.$$is_boolean&&
1!=a?g:(a=(b=n=e.$fetch("toc-placement","macro"),!1!==b&&b!==g?n["$!="]("auto"):b))===g||a.$$is_boolean&&1!=a?e["$[]"]("toc-position"):n;if((a=(b=!1!==l&&l!==g)?!1!==(d=l["$empty?"]()["$!"]())&&d!==g?d:m["$nil_or_empty?"]()["$!"]():l)!==g&&(!a.$$is_boolean||1==a)){p="left";q="toc2";m=(a=m["$nil_or_empty?"]()["$!"]())===g||a.$$is_boolean&&1!=a?(a=l["$empty?"]()["$!"]())===g||a.$$is_boolean&&1!=a?p:l:m;e["$[]="]("toc","");e["$[]="]("toc-placement","auto");l=m;if("left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l))e["$[]="]("toc-position",
"left");else if("right"["$==="](l)||">"["$==="](l)||"&gt;"["$==="](l))e["$[]="]("toc-position","right");else if("top"["$==="](l)||"^"["$==="](l))e["$[]="]("toc-position","top");else if("bottom"["$==="](l)||"v"["$==="](l))e["$[]="]("toc-position","bottom");else"preamble"["$==="](l)||"macro"["$==="](l)?(e["$[]="]("toc-position","content"),e["$[]="]("toc-placement",m)):e.$delete("toc-position"),q=g;!1!==q&&q!==g&&(a="toc-class",b=e,!1!==(d=b["$[]"](a))&&d!==g?d:b["$[]="](a,q))}if((a=e["$key?"]("compat-mode"))===
g||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=e["$has_key?"]("language"))!==g&&(!a.$$is_boolean||1==a))e["$[]="]("source-language",e["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=e["$[]"]("outfilesuffix");this.header_attributes=e.$dup();return(a=this.parent_document)===g||a.$$is_boolean&&1!=a?(a=(b=f.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(c=function(a){var b=c.$$s||this,d,e;null==b.attribute_overrides&&(b.attribute_overrides=g);null==a&&(a=g);return(d=(e=b.attribute_overrides["$key?"](a),
!1!==e&&e!==g?b.attribute_overrides["$[]"](a):e))===g||d.$$is_boolean&&1!=d?g:b.attribute_overrides.$delete(a)},c.$$s=this,c),a).call(b):g});a.defn(p,"$restore_attributes",function(){var a;((a=this.parent_document)===g||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes});a.defn(p,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")});a.defn(p,"$playback_attributes",function(a){var b,d,c;return(b=a["$key?"]("attribute_entries"))===
g||b.$$is_boolean&&1!=b?g:(b=(d=a["$[]"]("attribute_entries")).$each,b.$$p=(c=function(a){var b=c.$$s||this,d,e=g;null==b.attributes&&(b.attributes=g);null==a&&(a=g);e=a.$name();if((d=a.$negate())===g||d.$$is_boolean&&1!=d)return b.attributes["$[]="](e,a.$value()),e["$=="]("compat-mode")?b.compat_mode=!0:g;b.attributes.$delete(e);return e["$=="]("compat-mode")?b.compat_mode=!1:g},c.$$s=this,c),b).call(d)});a.defn(p,"$set_attribute",function(a,b){var d,c=g;if((d=this["$attribute_locked?"](a))===g||
d.$$is_boolean&&1!=d){c=a;if("backend"["$==="](c))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](c))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));this.attributes_modified["$<<"](a);return!0}return!1});a.defn(p,"$delete_attribute",function(a){var b;return(b=this["$attribute_locked?"](a))===g||b.$$is_boolean&&
1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1});a.defn(p,"$attribute_locked?",function(a){return this.attribute_overrides["$key?"](a)});a.defn(p,"$apply_attribute_value_subs",function(a){var b,d=g,c=g;if((b=d=f.get("AttributeEntryPassMacroRx").$match(a))===g||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=d["$[]"](1)["$empty?"]()["$!"]())===g||b.$$is_boolean&&1!=b)return d["$[]"](2);c=this.$resolve_pass_subs(d["$[]"](1));return(b=c["$empty?"]())===g||b.$$is_boolean&&
1!=b?this.$apply_subs(d["$[]"](2),c):d["$[]"](2)});a.defn(p,"$update_backend_attributes",function(a,c){var d,e,k=g,m=g,l=g,n=g,p=g,q=m=g,t=g,v=g,q=g;null==c&&(c=!1);if((d=!1!==(e=c)&&e!==g?e:!1!==a&&a!==g?a["$!="](this.attributes["$[]"]("backend")):a)===g||d.$$is_boolean&&1!=d)return g;k=this.attributes;m=k["$[]"]("backend");l=k["$[]"]("basebackend");n=k["$[]"]("doctype");if((d=a["$start_with?"]("xhtml"))!==g&&(!d.$$is_boolean||1==d))k["$[]="]("htmlsyntax","xml"),a=a["$[]"](b(1,-1,!1));else if(!((d=
a["$start_with?"]("html"))===g||d.$$is_boolean&&1!=d||k["$[]"]("htmlsyntax")["$=="]("xml")))k["$[]="]("htmlsyntax","html");(d=p=f.get("BACKEND_ALIASES")["$[]"](a))===g||d.$$is_boolean&&1!=d||(a=p);!1!==m&&m!==g&&(k.$delete("backend-"+m),!1!==n&&n!==g&&k.$delete("backend-"+m+"-doctype-"+n));!1!==n&&n!==g&&(k["$[]="]("doctype-"+n,""),k["$[]="]("backend-"+a+"-doctype-"+n,""));k["$[]="]("backend",a);k["$[]="]("backend-"+a,"");if((d=f.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=
this.$create_converter()))===g||d.$$is_boolean&&1!=d){if(m=a.$sub(f.get("TrailingDigitsRx"),""),t=!1!==(d=f.get("DEFAULT_EXTENSIONS")["$[]"](m))&&d!==g?d:".html",q=t["$[]"](b(1,-1,!1)),(d=this["$attribute_locked?"]("outfilesuffix"))===g||d.$$is_boolean&&1!=d)k["$[]="]("outfilesuffix",t)}else{m=this.converter.$basebackend();if((d=this["$attribute_locked?"]("outfilesuffix"))===g||d.$$is_boolean&&1!=d)k["$[]="]("outfilesuffix",this.converter.$outfilesuffix());q=this.converter.$filetype()}(d=v=k["$[]"]("filetype"))===
g||d.$$is_boolean&&1!=d||k.$delete("filetype-"+v);k["$[]="]("filetype",q);k["$[]="]("filetype-"+q,"");if((d=q=f.get("DEFAULT_PAGE_WIDTHS")["$[]"](m))===g||d.$$is_boolean&&1!=d)k.$delete("pagewidth");else k["$[]="]("pagewidth",q);if((d=m["$!="](l))!==g&&(!d.$$is_boolean||1==d)&&(!1!==l&&l!==g&&(k.$delete("basebackend-"+l),!1!==n&&n!==g&&k.$delete("basebackend-"+l+"-doctype-"+n)),k["$[]="]("basebackend",m),k["$[]="]("basebackend-"+m,""),!1!==n&&n!==g))k["$[]="]("basebackend-"+m+"-doctype-"+n,"");return this.backend=
g});a.defn(p,"$update_doctype_attributes",function(a){var b,d=g,c=g,e=g,f=g;if((b=!1!==a&&a!==g?a["$!="](this.attributes["$[]"]("doctype")):a)===g||b.$$is_boolean&&1!=b)return g;d=this.attributes;c=d["$[]"]("doctype");e=d["$[]"]("backend");f=d["$[]"]("basebackend");!1!==c&&c!==g&&(d.$delete("doctype-"+c),!1!==e&&e!==g&&d.$delete("backend-"+e+"-doctype-"+c),!1!==f&&f!==g&&d.$delete("basebackend-"+f+"-doctype-"+c));d["$[]="]("doctype",a);d["$[]="]("doctype-"+a,"");if(!1!==e&&e!==g)d["$[]="]("backend-"+
e+"-doctype-"+a,"");if(!1!==f&&f!==g)d["$[]="]("basebackend-"+f+"-doctype-"+a,"");return this.doctype=g});a.defn(p,"$create_converter",function(){var b,e=g,d=g,k=g,m=g,l=g,e=c([],{});e["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));d=(b=k=this.options["$[]"]("template_dir"))===g||b.$$is_boolean&&1!=b?(b=d=this.options["$[]"]("template_dirs"))===g||b.$$is_boolean&&1!=b?g:e["$[]="]("template_dirs",d):e["$[]="]("template_dirs",[k]);!1!==d&&d!==g&&(e["$[]="]("template_cache",this.options.$fetch("template_cache",
!0)),e["$[]="]("template_engine",this.options["$[]"]("template_engine")),e["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),e["$[]="]("eruby",this.options["$[]"]("eruby")),e["$[]="]("safe",this.safe));l=(b=m=this.options["$[]"]("converter"))===g||b.$$is_boolean&&1!=b?f.get("Converter").$$scope.get("Factory").$default(!1):f.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),m));return l.$create(this.$backend(),e)});a.defn(p,"$convert",
function(a){var b,d,e,k=g,m=g,l=g,n=g;null==a&&(a=c([],{}));((b=this.parsed)===g||b.$$is_boolean&&1!=b)&&this.$parse();if((b=!1!==(d=q(this.safe,f.get("SafeMode").$$scope.get("SERVER")))&&d!==g?d:a["$empty?"]())===g||b.$$is_boolean&&1!=b)((b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===g||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outfile"),((b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===g||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outdir");((b=this.converter)===
g||b.$$is_boolean&&1!=b)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?m=(b=(d=k=this.blocks["$[]"](0),!1!==d&&d!==g?k.$content_model()["$!="]("compound"):d))===g||b.$$is_boolean&&1!=b?g:k.$content():(l=(b=(d=a["$key?"]("header_footer"))===g||d.$$is_boolean&&1!=d?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===g||b.$$is_boolean&&1!=b?"embedded":"document",m=this.converter.$convert(this,
l));!((b=this.parent_document)===g||b.$$is_boolean&&1!=b)||(b=(d=n=this.extensions,!1!==d&&d!==g?n["$postprocessors?"]():d))===g||b.$$is_boolean&&1!=b||(b=(d=n.$postprocessors()).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=g);return m=a.$process_method()["$[]"](b,m)},e.$$s=this,e),b).call(d);return m});a.alias(p,"render","convert");a.defn(p,"$write",function(b,c){var d,e,k;if((d=f.get("Writer")["$==="](this.converter))===g||d.$$is_boolean&&1!=d){if((d=c["$respond_to?"]("write"))===g||
d.$$is_boolean&&1!=d)(d=(e=a.get("File")).$open,d.$$p=(k=function(a){null==a&&(a=g);return a.$write(b)},k.$$s=this,k),d).call(e,c,"w");else if((d=b["$nil_or_empty?"]())===g||d.$$is_boolean&&1!=d)c.$write(b.$chomp()),c.$write(f.get("EOL"));return g}return this.converter.$write(b,c)});a.defn(p,"$content",v=function(){var b=v.$$p,c=g,d=g;v.$$p=null;c=[];for(d=0;d<arguments.length;d++)c[d]=arguments[d];this.attributes.$delete("title");return a.find_super_dispatcher(this,"content",v,b).apply(this,c)});
a.defn(p,"$docinfo",function(a,b){var d,e,k,m,n=g,p=g,t=g,v=g,u=n=g,F=g,p=p=g;null==a&&(a="head");null==b&&(b=g);if((d=q(this.$safe(),f.get("SafeMode").$$scope.get("SECURE")))===g||d.$$is_boolean&&1!=d){n=a["$=="]("head")?g:"-"+a;if(!1===b||b===g)b=this.outfilesuffix;p=this.attributes["$[]"]("docinfodir");t=g;v=(d=(v=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===g||d.$$is_boolean&&1!=d?(d=(e=v.$split(",")).$map,d.$$p="strip".$to_proc(),d).call(e):(d=this.attributes["$key?"]("docinfo2"))===
g||d.$$is_boolean&&1!=d?(d=this.attributes["$key?"]("docinfo1"))===g||d.$$is_boolean&&1!=d?!1!==v&&v!==g?["private"]:g:["shared"]:["private","shared"];if(!1!==v&&v!==g){n="docinfo"+n+b;if((d=v["$&"](["shared","shared-"+a])["$empty?"]())===g||d.$$is_boolean&&1!=d)u=this.$normalize_system_path(n,p),(d=t=this.$read_asset(u,c(["normalize"],{normalize:!0})))===g||d.$$is_boolean&&1!=d||(d=!1!==(k=F)&&k!==g?k:F=this.$resolve_docinfo_subs())===g||d.$$is_boolean&&1!=d||(t=(d=F["$=="]("attributes"))===g||d.$$is_boolean&&
1!=d?this.$apply_subs(t,F):this.$sub_attributes(t));if((d=!1!==(k=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&k!==g?k:v["$&"](["private","private-"+a])["$empty?"]())===g||d.$$is_boolean&&1!=d)u=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+n,p),(d=p=this.$read_asset(u,c(["normalize"],{normalize:!0})))===g||d.$$is_boolean&&1!=d||((d=!1!==(k=F)&&k!==g?k:F=this.$resolve_docinfo_subs())===g||d.$$is_boolean&&1!=d||(p=(d=F["$=="]("attributes"))===g||d.$$is_boolean&&1!=
d?this.$apply_subs(p,F):this.$sub_attributes(p)),t=!1!==t&&t!==g?""+t+f.get("EOL")+p:p)}(d=(k=this.extensions,!1!==k&&k!==g?this["$docinfo_processors?"](a):k))===g||d.$$is_boolean&&1!=d||(p=l((d=(k=this.docinfo_processor_extensions["$[]"](a)).$map,d.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=g);return a.$process_method()["$[]"](b)},m.$$s=this,m),d).call(k).$compact(),f.get("EOL")),t=!1!==t&&t!==g?""+t+f.get("EOL")+p:p);return""+t}return""});a.defn(p,"$resolve_docinfo_subs",function(){var a,
b=g;if((a=this.attributes["$key?"]("docinfosubs"))===g||a.$$is_boolean&&1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",g,"docinfo");return(a=b["$empty?"]())===g||a.$$is_boolean&&1!=a?b:g});a.defn(p,"$docinfo_processors?",function(a){var b,d;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===g||b.$$is_boolean&&1!=b?(b=(d=this.extensions,!1!==d&&d!==g?this.document.$extensions()["$docinfo_processors?"](a):d))===g||b.$$is_boolean&&
1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)});return(a.defn(p,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](g))===g||a.$$is_boolean&&1!=a?g:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"}),g)&&"to_s"})(A.base,
A.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.module,l=a.klass,g=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(m){m=n(m,"Asciidoctor").$$scope;(function(e,$super){function b(){}var m=b=l(e,$super,"Inline",b),n;m.$attr_reader("text");m.$attr_reader("type");m.$attr_accessor("target");a.defn(m,"$initialize",n=function(b,e,m,l){var f,k=q;null==m&&(m=q);null==l&&
(l=g([],{}));n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,[b,e]);this.node_name="inline_"+e;this.text=m;this.id=l["$[]"]("id");this.type=l["$[]"]("type");this.target=l["$[]"]("target");return(f=(k=l["$[]"]("attributes"))["$nil_or_empty?"]())===q||f.$$is_boolean&&1!=f?this.$update_attributes(k):q});a.defn(m,"$block?",function(){return!1});a.defn(m,"$inline?",function(){return!0});a.defn(m,"$convert",function(){return this.$converter().$convert(this)});return a.alias(m,"render",
"convert")})(m.base,m.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.module,l=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(g){g=n(g,"Asciidoctor").$$scope;(function(g,$super){function c(){}var b=c=l(g,$super,"List",c),n=b.$$proto,x,y;n.context=n.document=
n.style=q;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",x=function(b,c){var g=x.$$p,f=q,k=q;x.$$p=null;f=[];for(k=0;k<arguments.length;k++)f[k]=arguments[k];return a.find_super_dispatcher(this,"initialize",x,g).apply(this,f)});a.defn(b,"$outline?",function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==q?a:this.context["$=="]("olist")});a.defn(b,"$convert",y=function(){var b=y.$$p,c=q,g=c=q;y.$$p=null;c=[];for(g=0;g<arguments.length;g++)c[g]=
arguments[g];return this.context["$=="]("colist")?(c=a.find_super_dispatcher(this,"convert",y,b).apply(this,c),this.document.$callouts().$next_list(),c):a.find_super_dispatcher(this,"convert",y,b).apply(this,c)});a.alias(b,"render","convert");return(a.defn(b,"$to_s",function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"}),q)&&"to_s"})(g.base,g.get("AbstractBlock"));(function(g,$super){function c(){}
var b=c=l(g,$super,"ListItem",c),n=b.$$proto,x=b.$$scope,y;n.text=n.blocks=q;b.$attr_accessor("marker");a.defn(b,"$initialize",y=function(b,c){null==c&&(c=q);y.$$p=null;a.find_super_dispatcher(this,"initialize",y,null).apply(this,[b,"list_item"]);this.text=c;return this.level=b.$level()});a.defn(b,"$text?",function(){return this.text["$nil_or_empty?"]()["$!"]()});a.defn(b,"$text",function(){return this.$apply_subs(this.text)});a.defn(b,"$simple?",function(){var a,b,c=q;return!1!==(a=this.blocks["$empty?"]())&&
a!==q?a:(b=this.blocks.$size()["$=="](1)?x.get("List")["$==="](c=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==q?c["$outline?"]():b)});a.defn(b,"$compound?",function(){return this["$simple?"]()["$!"]()});a.defn(b,"$fold_first",function(a,b){var c,f,g,m,l,n,h=q,d=q;null==a&&(a=!1);null==b&&(b=!1);(c=(f=(g=h=this.blocks["$[]"](0),!1!==g&&g!==q?x.get("Block")["$==="](h):g),!1!==f&&f!==q?!1!==(g=h.$context()["$=="]("paragraph")?a["$!"]():h.$context()["$=="]("paragraph"))&&g!==q?g:(m=
(l=!1!==(n=b)&&n!==q?n:a["$!"](),!1!==l&&l!==q?h.$context()["$=="]("literal"):l),!1!==m&&m!==q?h["$option?"]("listparagraph"):m):f))===q||c.$$is_boolean&&1!=c||(d=this.$blocks().$shift(),((c=this.text["$nil_or_empty?"]())===q||c.$$is_boolean&&1!=c)&&d.$lines().$unshift(this.text),this.text=d.$source());return q});return(a.defn(b,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+
(!1!==(a=this.blocks)&&a!==q?a:[]).$size()+"}>"}),q)&&"to_s"})(g.base,g.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var b=a.nil,A=a.breaker,x=a.module,y=a.klass,u=a.hash2,p=a.hash,t=a.range,f=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $detect $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $is_a? $apply_header_subs $map $each_with_index $zero? $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_col_specs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cell_spec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cell_spec $close_cell $cell_open? $columns $assign_col_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(k){(function(k,$super){function r(){}var h=r=y(k,$super,"Parser",r),d=h.$$scope,x,w,C,P;a.cdecl(d,"BlockMatchData",d.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(d,"TabRx",/\t/);a.cdecl(d,"TabIndentRx",/^\t+/);a.cdecl(d,"StartOfBlockProc",(x=h.$lambda,x.$$p=(w=function(a){var c=w.$$s||this,e,h;null==a&&(a=b);return!1!==(e=(h=a["$start_with?"]("["),!1!==h&&h!==b?d.get("BlockAttributeLineRx")["$=~"](a):h))&&e!==b?e:c["$is_delimited_block?"](a)},w.$$s=h,w),x).call(h));
a.cdecl(d,"StartOfListProc",(x=h.$lambda,x.$$p=(C=function(a){null==a&&(a=b);return d.get("AnyListRx")["$=~"](a)},C.$$s=h,C),x).call(h));a.cdecl(d,"StartOfBlockOrListProc",(x=h.$lambda,x.$$p=(P=function(a){var c=P.$$s||this,e,h,f;null==a&&(a=b);return!1!==(e=!1!==(h=c["$is_delimited_block?"](a))&&h!==b?h:(f=a["$start_with?"]("["),!1!==f&&f!==b?d.get("BlockAttributeLineRx")["$=~"](a):f))&&e!==b?e:d.get("AnyListRx")["$=~"](a)},P.$$s=h,P),x).call(h));a.cdecl(d,"NoOp",b);a.defn(h,"$initialize",function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")});
a.defs(h,"$parse",function(d,c,e){var h,f,g=b,k=b;null==e&&(e=u([],{}));g=this.$parse_document_header(d,c);if((h=e["$[]"]("header_only"))===b||h.$$is_boolean&&1!=h)for(;(f=d["$has_more_lines?"]())!==b&&(!f.$$is_boolean||1==f);)if(e=this.$next_section(d,c,g),f=a.to_ary(e),k=null==f[0]?b:f[0],g=null==f[1]?b:f[1],e,!1!==k&&k!==b)c["$<<"](k);return c});a.defs(h,"$parse_document_header",function(d,c){var e,h,f=b,g=b,k=b,m=b,l=b,n=b,r=g=l=b,g=g=b,f=this.$parse_block_metadata_lines(d,c);if((e=(h=g=this["$is_next_line_document_title?"](d,
f),!1!==h&&h!==b?f["$has_key?"]("title"):h))!==b&&(!e.$$is_boolean||1==e))return c.$finalize_header(f,!1);k=b;if((e=(m=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||e.$$is_boolean&&1!=e)e=[k=m],h=c,h["$title="].apply(h,e),e[e.length-1];l=b;if(!1!==g&&g!==b){(e=c.$sourcemap())===b||e.$$is_boolean&&1!=e||(n=d.$cursor());h=this.$parse_section_title(d,c);e=a.to_ary(h);c["$id="](null==e[0]?b:e[0]);l=null==e[2]?b:e[2];g=null==e[4]?b:e[4];h;if(!1===k||k===b)e=[k=l],h=c,h["$title="].apply(h,
e),e[e.length-1];!1!==g&&g!==b||c.$set_attribute("compat-mode","");(e=r=f.$delete("separator"))===b||e.$$is_boolean&&1!=e||c.$set_attribute("title-separator",r);!1!==n&&n!==b&&(e=[n],h=c.$header(),h["$source_location="].apply(h,e),e[e.length-1]);c.$attributes()["$[]="]("doctitle",l);if((e=c.$id())===b||e.$$is_boolean&&1!=e){if(!((e=g=f.$delete(1))===b||e.$$is_boolean&&1!=e||(g=p(1,g),this.$parse_style_attribute(g,d),(e=g["$key?"]("id"))===b||e.$$is_boolean&&1!=e)))f["$[]="]("id",g["$[]"]("id"));e=
[f.$delete("id")];h=c;h["$id="].apply(h,e);e[e.length-1]}else f.$delete(1),f.$delete("id");this.$parse_header_metadata(d,c)}if((e=!1!==(h=(m=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&h!==b?h:m["$=="](l))===b||e.$$is_boolean&&1!=e)e=[k=m],h=c,h["$title="].apply(h,e),e[e.length-1];if(!1!==k&&k!==b)c.$attributes()["$[]="]("doctitle",k);c.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(d,c);return c.$finalize_header(f)});a.defs(h,"$parse_manpage_header",function(a,c){var e,h=
b,h=h=b;(e=h=d.get("ManpageTitleVolnumRx").$match(c.$attributes()["$[]"]("doctitle")))===b||e.$$is_boolean&&1!=e?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),c.$attributes()["$[]="]("mantitle",c.$attributes()["$[]"]("doctitle")),c.$attributes()["$[]="]("manvolnum","1")):(c.$attributes()["$[]="]("mantitle",c.$sub_attributes(h["$[]"](1).$rstrip().$downcase())),c.$attributes()["$[]="]("manvolnum",h["$[]"](2).$strip()));a.$skip_blank_lines();if((e=this["$is_next_line_section?"](a,
u([],{})))===b||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected");h=this.$initialize_section(a,c,u([],{}));if(h.$level()["$=="](1)){h=a.$read_lines_until(u(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((e=h=d.get("ManpageNamePurposeRx").$match(h))===b||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");c.$attributes()["$[]="]("manname",c.$sub_attributes(h["$[]"](1)));
c.$attributes()["$[]="]("manpurpose",h["$[]"](2));return c.$backend()["$=="]("manpage")?(c.$attributes()["$[]="]("docname",c.$attributes()["$[]"]("manname")),c.$attributes()["$[]="]("outfilesuffix","."+c.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")});a.defs(h,"$next_section",function(c,e,h){var f,g,k,m,p=b,r=b,t=b,w=b,y=b,x=b,C=b,B=b,E=C=b,P=E=E=b,A=b,y=r=b;null==h&&(h=u([],{}));t=r=p=!1;(f=(g=(k=e.$context()["$=="]("document"))?
e.$blocks()["$empty?"]():e.$context()["$=="]("document"),!1!==g&&g!==b?!1!==(k=!1!==(m=w=e["$has_header?"]())&&m!==b?m:h.$delete("invalid-header"))&&k!==b?k:this["$is_next_line_section?"](c,h)["$!"]():g))===b||f.$$is_boolean&&1!=f?(y=e.$document().$doctype(),x=this.$initialize_section(c,e,h),h=(f=C=h["$[]"]("title"))===b||f.$$is_boolean&&1!=f?u([],{}):u(["title"],{title:C}),C=x.$level(),(f=(g=C["$=="](0))?y["$=="]("book"):C["$=="](0))===b||f.$$is_boolean&&1!=f?B=[q(C,1)]:(r=x.$special()["$!"](),B=
(f=(g=x.$special(),!1!==g&&g!==b?["preface","appendix"]["$include?"](x.$sectname()):g))===b||f.$$is_boolean&&1!=f?[q(C,1)]:[q(C,2)])):(y=e.$doctype(),(f=!1!==(g=w)&&g!==b?g:(k=y["$=="]("book"))?h["$[]"](1)["$!="]("abstract"):y["$=="]("book"))===b||f.$$is_boolean&&1!=f||(p=t=d.get("Block").$new(e,"preamble",u(["content_model"],{content_model:"compound"})),(f=(g=y["$=="]("book"))?e["$attr?"]("preface-title"):y["$=="]("book"))===b||f.$$is_boolean&&1!=f||(f=[e.$attr("preface-title")],g=p,g["$title="].apply(g,
f),f[f.length-1]),e["$<<"](p)),x=e,C=0,B=(f=e.$attributes()["$has_key?"]("fragment"))===b||f.$$is_boolean&&1!=f?y["$=="]("book")?[0,1]:[1]:b);for(c.$skip_blank_lines();(g=c["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);){this.$parse_block_metadata_lines(c,x,h);if((g=E=this["$is_next_line_section?"](c,h))===b||g.$$is_boolean&&1!=g)(E=c.$line_info(),(g=P=this.$next_block(c,!1!==(k=t)&&k!==b?k:x,h,u(["parse_metadata"],{parse_metadata:!1})))===b||g.$$is_boolean&&1!=g)||(!1!==r&&r!==b&&((g=x["$blocks?"]()["$!"]())===
b||g.$$is_boolean&&1!=g?x.$blocks().$size()["$=="](1)&&((A=x.$blocks()["$[]"](0),(g=(k=t["$!"](),!1!==k&&k!==b?A.$content_model()["$=="]("compound"):k))===b||g.$$is_boolean&&1!=g)?(g=A.$content_model()["$!="]("compound"))===b||g.$$is_boolean&&1!=g||(t=d.get("Block").$new(x,"open",u(["content_model"],{content_model:"compound"})),g=["partintro"],k=t,k["$style="].apply(k,g),g[g.length-1],x.$blocks().$shift(),A.$style()["$=="]("partintro")&&(g=["paragraph"],k=A,k["$context="].apply(k,g),g[g.length-1],
g=[b],k=A,k["$style="].apply(k,g),g[g.length-1]),g=[t],k=A,k["$parent="].apply(k,g),g[g.length-1],t["$<<"](A),g=[t],k=P,k["$parent="].apply(k,g),g[g.length-1],x["$<<"](t)):this.$warn("asciidoctor: ERROR: "+E+": illegal block content outside of partintro block")):(g=P.$style()["$!="]("partintro"))===b||g.$$is_boolean&&1!=g||(P.$context()["$=="]("paragraph")?(g=["open"],k=P,k["$context="].apply(k,g),g[g.length-1],g=["partintro"],k=P,k["$style="].apply(k,g),g[g.length-1]):(t=d.get("Block").$new(x,"open",
u(["content_model"],{content_model:"compound"})),g=["partintro"],k=t,k["$style="].apply(k,g),g[g.length-1],g=[t],k=P,k["$parent="].apply(k,g),g[g.length-1],x["$<<"](t)))),(!1!==(g=t)&&g!==b?g:x)["$<<"](P),h=u([],{}));else if(E=q(E,x.$document().$attr("leveloffset",0).$to_i()),(g=!1!==(k=n(E,C))&&k!==b?k:x.$context()["$=="]("document")?E["$=="](0):x.$context()["$=="]("document"))===b||g.$$is_boolean&&1!=g){(g=(k=E["$=="](0))?y["$!="]("book"):E["$=="](0))===b||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: ERROR: "+
c.$line_info()+": only book doctypes can contain level 0 sections");break}else(g=E["$=="](0)?y["$!="]("book"):E["$=="](0))===b||g.$$is_boolean&&1!=g?(g=!1!==B&&B!==b?B["$include?"](E)["$!"]():B)===b||g.$$is_boolean&&1!=g||this.$warn(q(q("asciidoctor: WARNING: "+c.$line_info()+": section title out of sequence: ","expected "+((g=n(B.$size(),1))===b||g.$$is_boolean&&1!=g?"level":"levels")+" "+l(B," or ")+", "),"got level "+E)):this.$warn("asciidoctor: ERROR: "+c.$line_info()+": only book doctypes can contain level 0 sections"),
k=this.$next_section(c,x,h),g=a.to_ary(k),E=null==g[0]?b:g[0],h=null==g[1]?b:g[1],k,x["$<<"](E);c.$skip_blank_lines()}if(!1!==r&&r!==b)((f=(g=x["$blocks?"](),!1!==g&&g!==b?x.$blocks()["$[]"](-1).$context()["$=="]("section"):g))===b||f.$$is_boolean&&1!=f)&&this.$warn("asciidoctor: ERROR: "+c.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==p&&p!==b)if(r=e,(f=p["$blocks?"]())===b||f.$$is_boolean&&1!=f)r.$blocks().$shift();else if((f=(g=(k=d.get("Compliance").$unwrap_standalone_preamble(),
!1!==k&&k!==b?r.$blocks().$size()["$=="](1):k),!1!==g&&g!==b?y["$!="]("book"):g))!==b&&(!f.$$is_boolean||1==f))for(r.$blocks().$shift();(g=y=p.$blocks().$shift())!==b&&(!g.$$is_boolean||1==g);)g=[r],k=y,k["$parent="].apply(k,g),g[g.length-1],r["$<<"](y);return[(f=x["$!="](e))===b||f.$$is_boolean&&1!=f?b:x,h.$dup()]});a.defs(h,"$next_block",function(c,e,h,f){var k,l,p,r,w,y,x,C,E,B,P,A=b,Z=b,ca=b,R=b,ea=b,X=b,D=b,fa=b,G=b,T=b,ja=b,ma=b,ka=b,aa=b,Y=w=b,na=b,ha=b,da=b,ga=da=b,la=w=da=w=b,ia=da=G=G=b,
ra=b,oa=b,pa=w=G=G=ia=da=w=G=ia=b,qa=aa=Y=w=da=w=w=b,ta=b,ua=b,va=aa=Y=Y=b,sa=A=b,wa=b;null==h&&(h=u([],{}));null==f&&(f=u([],{}));A=c.$skip_blank_lines();if((k=c["$has_more_lines?"]())===b||k.$$is_boolean&&1!=k)return b;(k=(l=Z=f["$[]"]("text"),!1!==l&&l!==b?n(A,0):l))===b||k.$$is_boolean&&1!=k||(f.$delete("text"),Z=!1);ca=f.$fetch("parse_metadata",!0);R=e.$document();(k=ea=R.$extensions())===b||k.$$is_boolean&&1!=k?X=D=!1:(X=ea["$blocks?"](),D=ea["$block_macros?"]());fa=d.get("ListItem")["$==="](e);
ja=T=G=b;ma=R.$sourcemap();for(ka=b;(l=(p=G["$!"](),!1!==p&&p!==b?c["$has_more_lines?"]():p))!==b&&(!l.$$is_boolean||1==l);)if((l=(p=!1!==ca&&ca!==b)?this.$parse_block_metadata_line(c,R,h,f):ca)===b||l.$$is_boolean&&1!=l){!1!==ma&&ma!==b&&(ka=c.$cursor());aa=c.$read_line();w=!1;ha=na=Y=b;(l=h["$[]"](1))===b||l.$$is_boolean&&1!=l||(p=this.$parse_style_attribute(h,c),l=a.to_ary(p),T=null==l[0]?b:l[0],ja=null==l[1]?b:l[1],p);(l=da=this["$is_delimited_block?"](aa,!0))===b||l.$$is_boolean&&1!=l||((w=!0,
Y=na=da.$context(),ha=da.$terminator(),(l=T["$!"]())===b||l.$$is_boolean&&1!=l)?(l=T["$!="](Y.$to_s()))===b||l.$$is_boolean&&1!=l||((l=da.$masq()["$include?"](T))===b||l.$$is_boolean&&1!=l?(l=(p=da.$masq()["$include?"]("admonition"),!1!==p&&p!==b?d.get("ADMONITION_STYLES")["$include?"](T):p))===b||l.$$is_boolean&&1!=l?(l=(p=!1!==X&&X!==b)?ea["$registered_for_block?"](T,Y):X)===b||l.$$is_boolean&&1!=l?(this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for "+Y+" block: "+T),T=
Y.$to_s()):Y=T.$to_sym():Y="admonition":Y=T.$to_sym()):T=h["$[]="]("style",Y.$to_s()));if(!1===w||w===b)for(;(p=!0)!==b&&(!p.$$is_boolean||1==p);){if((p=(r=(w=!1!==T&&T!==b)?d.get("Compliance").$strict_verbatim_paragraphs():T,!1!==r&&r!==b?d.get("VERBATIM_STYLES")["$include?"](T):r))!==b&&(!p.$$is_boolean||1==p)){Y=T.$to_sym();c.$unshift_line(aa);break}if(!1===Z||Z===b)if(da=(p=d.get("Compliance").$markdown_syntax())===b||p.$$is_boolean&&1!=p?aa.$chr():aa.$lstrip().$chr(),(p=(r=(w=d.get("LAYOUT_BREAK_LINES")["$has_key?"](da),
!1!==w&&w!==b?g(aa.$length(),3):w),!1!==r&&r!==b?((w=d.get("Compliance").$markdown_syntax())===b||w.$$is_boolean&&1!=w?d.get("LayoutBreakLineRx"):d.get("LayoutBreakLinePlusRx"))["$=~"](aa):r))!==b&&(!p.$$is_boolean||1==p)){G=d.get("Block").$new(e,d.get("LAYOUT_BREAK_LINES")["$[]"](da),u(["content_model"],{content_model:"empty"}));break}else if((p=(r=aa["$end_with?"]("]"),!1!==r&&r!==b?ga=d.get("MediaBlockMacroRx").$match(aa):r))!==b&&(!p.$$is_boolean||1==p)){w=ga["$[]"](1).$to_sym();G=d.get("Block").$new(e,
w,u(["content_model"],{content_model:"empty"}));da=w["$=="]("image")?["alt","width","height"]:w["$=="]("video")?["poster","width","height"]:[];if((p=!1!==(r=T["$!"]())&&r!==b?r:ja)===b||p.$$is_boolean&&1!=p){if(w["$=="]("image"))h["$[]="]("alt",T);h.$delete("style");T=b}G.$parse_attributes(ga["$[]"](3),da,u(["unescape_input","sub_input","sub_result","into"],{unescape_input:w["$=="]("image"),sub_input:!0,sub_result:!1,into:h}));w=G.$sub_attributes(ga["$[]"](2),u(["attribute_missing"],{attribute_missing:"drop-line"}));
if((p=w["$empty?"]())!==b&&(!p.$$is_boolean||1==p)){if(R.$attributes().$fetch("attribute-missing",d.get("Compliance").$attribute_missing())["$=="]("skip"))return d.get("Block").$new(e,"paragraph",u(["content_model","source"],{content_model:"simple",source:[aa]}));h.$clear();return b}h["$[]="]("target",w);break}else if((p=(r=da["$=="]("t"))?ga=d.get("TocBlockMacroRx").$match(aa):da["$=="]("t"))!==b&&(!p.$$is_boolean||1==p)){G=d.get("Block").$new(e,"toc",u(["content_model"],{content_model:"empty"}));
G.$parse_attributes(ga["$[]"](1),[],u(["sub_result","into"],{sub_result:!1,into:h}));break}else if((p=(r=(w=!1!==D&&D!==b)?ga=d.get("GenericBlockMacroRx").$match(aa):D,!1!==r&&r!==b?la=ea["$registered_for_block_macro?"](ga["$[]"](1)):r))!==b&&(!p.$$is_boolean||1==p)){w=ga["$[]"](2);G=ga["$[]"](3);if(la.$config()["$[]"]("content_model")["$=="]("attributes"))((p=G["$empty?"]())===b||p.$$is_boolean&&1!=p)&&R.$parse_attributes(G,!1!==(p=la.$config()["$[]"]("pos_attrs"))&&p!==b?p:[],u(["sub_input","sub_result",
"into"],{sub_input:!0,sub_result:!1,into:h}));else h["$[]="]("text",G);(p=G=la.$config()["$[]"]("default_attrs"))===b||p.$$is_boolean&&1!=p||(p=(r=G).$each,p.$$p=(y=function(a,d){var c,e,f;null==a&&(a=b);null==d&&(d=b);return c=a,e=h,!1!==(f=e["$[]"](c))&&f!==b?f:e["$[]="](c,d)},y.$$s=this,y),p).call(r);if((p=G=la.$process_method()["$[]"](e,w,h.$dup()))===b||p.$$is_boolean&&1!=p)return h.$clear(),b;h.$replace(G.$attributes());break}if((p=ga=d.get("CalloutListRx").$match(aa))!==b&&(!p.$$is_boolean||
1==p)){G=d.get("List").$new(e,"colist");h["$[]="]("style","arabic");c.$unshift_line(aa);for(da=1;(w=!1!==(x=ga)&&x!==b?x:(C=c["$has_more_lines?"](),!1!==C&&C!==b?ga=d.get("CalloutListRx").$match(c.$peek_line()):C))!==b&&(!w.$$is_boolean||1==w);){(w=ga["$[]"](1).$to_i()["$!="](da))===b||w.$$is_boolean&&1!=w||this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+m(c.$lineno(),2)+": callout list item index: expected "+da+" got "+ga["$[]"](1));ia=this.$next_list_item(c,G,ga);da=q(da,1);if(!1!==ia&&
ia!==b)if(G["$<<"](ia),ra=R.$callouts().$callout_ids(G.$items().$size()),(w=ra["$empty?"]()["$!"]())===b||w.$$is_boolean&&1!=w)this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+m(c.$lineno(),2)+": no callouts refer to list item "+G.$items().$size());else ia.$attributes()["$[]="]("coids",ra);ga=b}R.$callouts().$next_list();break}else if((p=d.get("UnorderedListRx")["$=~"](aa))!==b&&(!p.$$is_boolean||1==p)){c.$unshift_line(aa);G=this.$next_outline_list(c,"ulist",e);break}else if((p=ga=d.get("OrderedListRx").$match(aa))!==
b&&(!p.$$is_boolean||1==p)){c.$unshift_line(aa);G=this.$next_outline_list(c,"olist",e);if((p=(w=h["$[]"]("style")["$!"](),!1!==w&&w!==b?G.$attributes()["$[]"]("style")["$!"]():w))!==b&&(!p.$$is_boolean||1==p))if(oa=G.$items()["$[]"](0).$marker(),(p=oa["$start_with?"]("."))===b||p.$$is_boolean&&1!=p)T=(p=(w=d.get("ORDERED_LIST_STYLES")).$detect,p.$$p=(E=function(a){null==a&&(a=b);return d.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](oa)},E.$$s=this,E),p).call(w),h["$[]="]("style",(!1!==(p=T)&&p!==
b?p:d.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else h["$[]="]("style",(!1!==(p=d.get("ORDERED_LIST_STYLES")["$[]"](m(oa.$length(),1)))&&p!==b?p:d.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((p=ga=d.get("DescriptionListRx").$match(aa))!==b&&(!p.$$is_boolean||1==p)){c.$unshift_line(aa);G=this.$next_labeled_list(c,ga,e);break}else if((p=(x=!1!==(C=T["$=="]("float"))&&C!==b?C:T["$=="]("discrete"),!1!==x&&x!==b?this["$is_section_title?"](aa,(C=d.get("Compliance").$underline_style_section_titles())===
b||C.$$is_boolean&&1!=C?b:c.$peek_line(!0)):x))!==b&&(!p.$$is_boolean||1==p)){c.$unshift_line(aa);x=this.$parse_section_title(c,R);p=a.to_ary(x);ia=null==p[0]?b:p[0];G=null==p[1]?b:p[1];w=null==p[2]?b:p[2];da=null==p[3]?b:p[3];x;if(!1!==G&&G!==b)h["$[]="]("reftext",G);(p=h["$has_key?"]("id"))===b||p.$$is_boolean&&1!=p||(!1!==(p=ia)&&p!==b?p:ia=h["$[]"]("id"));G=d.get("Block").$new(e,"floating_title",u(["content_model"],{content_model:"empty"}));(p=ia["$nil_or_empty?"]())===b||p.$$is_boolean&&1!=p?
p=[ia]:(ia=d.get("Section").$new(e),p=[w],x=ia,x["$title="].apply(x,p),p[p.length-1],p=[ia.$generate_id()]);x=G;x["$id="].apply(x,p);p[p.length-1];p=[da];x=G;x["$level="].apply(x,p);p[p.length-1];p=[w];x=G;x["$title="].apply(x,p);p[p.length-1];break}else if((p=(x=!1!==T&&T!==b)?T["$!="]("normal"):T)!==b&&(!p.$$is_boolean||1==p))if((p=d.get("PARAGRAPH_STYLES")["$include?"](T))===b||p.$$is_boolean&&1!=p)if((p=d.get("ADMONITION_STYLES")["$include?"](T))===b||p.$$is_boolean&&1!=p)if((p=(x=!1!==X&&X!==
b)?ea["$registered_for_block?"](T,"paragraph"):X)===b||p.$$is_boolean&&1!=p)this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for paragraph: "+T),T=b;else{Y=T.$to_sym();na="paragraph";c.$unshift_line(aa);break}else{Y="admonition";na="paragraph";c.$unshift_line(aa);break}else{Y=T.$to_sym();na="paragraph";c.$unshift_line(aa);break}G=(p=A["$=="](0))?fa:A["$=="](0);if((p=(x=T["$!="]("normal"),!1!==x&&x!==b?d.get("LiteralParagraphRx")["$=~"](aa):x))===b||p.$$is_boolean&&1!=p){c.$unshift_line(aa);
G=this.$read_paragraph_lines(c,G,u(["skip_line_comments"],{skip_line_comments:!0}));if((p=G["$empty?"]())!==b&&(!p.$$is_boolean||1==p))return c.$advance(),b;this.$catalog_inline_anchors(G.$join(d.get("EOL")),R);w=G["$[]"](0);if((p=(x=Z["$!"](),!1!==x&&x!==b?pa=d.get("AdmonitionParagraphRx").$match(w):x))===b||p.$$is_boolean&&1!=p)if((p=(x=(C=Z["$!"](),!1!==C&&C!==b?d.get("Compliance").$markdown_syntax():C),!1!==x&&x!==b?w["$start_with?"]("> "):x))===b||p.$$is_boolean&&1!=p)if((p=(C=Z["$!"](),!1!==
C&&C!==b?this["$blockquote?"](G,w):C))===b||p.$$is_boolean&&1!=p){if(T["$=="]("normal"))this["$adjust_indentation!"](G);G=d.get("Block").$new(e,"paragraph",u(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:h}))}else{G["$[]="](0,w["$[]"](t(1,-1,!1)));C=G.$pop()["$[]"](t(3,-1,!1)).$split(", ",2);p=a.to_ary(C);w=null==p[0]?b:p[0];da=null==p[1]?b:p[1];for(C;(C=G["$[]"](-1)["$empty?"]())!==b&&(!C.$$is_boolean||1==C);)G.$pop();G["$[]="](-1,G["$[]"](-1).$chop());h["$[]="]("style",
"quote");if(!1!==w&&w!==b)h["$[]="]("attribution",w);if(!1!==da&&da!==b)h["$[]="]("citetitle",da);G=d.get("Block").$new(e,"quote",u(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:h}))}else{(p=(x=G)["$map!"],p.$$p=(B=function(a){var d;null==a&&(a=b);return a["$=="](">")?a["$[]"](t(1,-1,!1)):(d=a["$start_with?"]("> "))===b||d.$$is_boolean&&1!=d?a:a["$[]"](t(2,-1,!1))},B.$$s=this,B),p).call(x);if((p=G["$[]"](-1)["$start_with?"]("-- "))===b||p.$$is_boolean&&1!=p)C=
b,p=a.to_ary(C),w=null==p[0]?b:p[0],da=null==p[1]?b:p[1],C;else for(C=G.$pop()["$[]"](t(3,-1,!1)).$split(", ",2),p=a.to_ary(C),w=null==p[0]?b:p[0],da=null==p[1]?b:p[1],C;(C=G["$[]"](-1)["$empty?"]())!==b&&(!C.$$is_boolean||1==C);)G.$pop();h["$[]="]("style","quote");if(!1!==w&&w!==b)h["$[]="]("attribution",w);if(!1!==da&&da!==b)h["$[]="]("citetitle",da);G=this.$build_block("quote","compound",!1,e,d.get("Reader").$new(G),h)}else G["$[]="](0,pa.$post_match().$lstrip()),h["$[]="]("style",pa["$[]"](1)),
h["$[]="]("name",w=pa["$[]"](1).$downcase()),p="caption",x=h,!1!==(C=x["$[]"](p))&&C!==b?C:x["$[]="](p,R.$attributes()["$[]"](""+w+"-caption")),G=d.get("Block").$new(e,"admonition",u(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:h}))}else c.$unshift_line(aa),G=this.$read_paragraph_lines(c,G,u(["skip_line_comments"],{skip_line_comments:Z})),this["$adjust_indentation!"](G),G=d.get("Block").$new(e,"literal",u(["content_model","source","attributes"],{content_model:"verbatim",
source:G,attributes:h})),!1!==fa&&fa!==b&&G.$set_option("listparagraph");break}if((l=(p=G["$!"](),!1!==p&&p!==b?Y:p))!==b&&(!l.$$is_boolean||1==l))if((l=!1!==(p=Y["$=="]("abstract"))&&p!==b?p:Y["$=="]("partintro"))===b||l.$$is_boolean&&1!=l||(Y="open"),w=Y,"admonition"["$==="](w))h["$[]="]("name",w=T.$downcase()),l="caption",p=h,!1!==(C=p["$[]"](l))&&C!==b?C:p["$[]="](l,R.$attributes()["$[]"](""+w+"-caption")),G=this.$build_block(Y,"compound",ha,e,c,h);else{if("comment"["$==="](w))return this.$build_block(Y,
"skip",ha,e,c,h),b;if("example"["$==="](w))G=this.$build_block(Y,"compound",ha,e,c,h);else if("listing"["$==="](w)||"fenced_code"["$==="](w)||"source"["$==="](w)){if(Y["$=="]("fenced_code")){T=h["$[]="]("style","source");p=aa["$[]"](t(3,-1,!1)).$tr(" ","").$split(",",2);l=a.to_ary(p);Y=null==l[0]?b:l[0];aa=null==l[1]?b:l[1];p;if((l=Y["$nil_or_empty?"]()["$!"]())!==b&&(!l.$$is_boolean||1==l)){if(h["$[]="]("language",Y),(l=aa["$nil_or_empty?"]())===b||l.$$is_boolean&&1!=l)h["$[]="]("linenums","")}else if((l=
qa=R.$attributes()["$[]"]("source-language"))!==b&&(!l.$$is_boolean||1==l))h["$[]="]("language",qa);if((l=(p=h["$key?"]("indent")["$!"](),!1!==p&&p!==b?R.$attributes()["$key?"]("source-indent"):p))!==b&&(!l.$$is_boolean||1==l))h["$[]="]("indent",R.$attributes()["$[]"]("source-indent"));ha=ha["$[]"](t(0,2,!1))}else if(Y["$=="]("source")){d.get("AttributeList").$rekey(h,[b,"language","linenums"]);if(((l=h["$key?"]("language"))===b||l.$$is_boolean&&1!=l)&&(l=qa=R.$attributes()["$[]"]("source-language"))!==
b&&(!l.$$is_boolean||1==l))h["$[]="]("language",qa);if((l=(p=h["$key?"]("indent")["$!"](),!1!==p&&p!==b?R.$attributes()["$key?"]("source-indent"):p))!==b&&(!l.$$is_boolean||1==l))h["$[]="]("indent",R.$attributes()["$[]"]("source-indent"))}G=this.$build_block("listing","verbatim",ha,e,c,h)}else if("literal"["$==="](w))G=this.$build_block(Y,"verbatim",ha,e,c,h);else if("pass"["$==="](w))G=this.$build_block(Y,"raw",ha,e,c,h);else if("stem"["$==="](w)||"latexmath"["$==="](w)||"asciimath"["$==="](w)){if(Y["$=="]("stem"))h["$[]="]("style",
(l=ta=h["$[]"](2))===b||l.$$is_boolean&&1!=l?(l=(ua=R.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||l.$$is_boolean&&1!=l?ua:"asciimath":(l=ta["$include?"]("tex"))===b||l.$$is_boolean&&1!=l?"asciimath":"latexmath");G=this.$build_block("stem","raw",ha,e,c,h)}else if("open"["$==="](w)||"sidebar"["$==="](w))G=this.$build_block(Y,"compound",ha,e,c,h);else if("table"["$==="](w)){Y=c.$cursor();Y=d.get("Reader").$new(c.$read_lines_until(u(["terminator","skip_line_comments"],{terminator:ha,skip_line_comments:!0})),
Y);w=ha.$chr();if(","["$==="](w))h["$[]="]("format","csv");else if(":"["$==="](w))h["$[]="]("format","dsv");G=this.$next_table(Y,e,h)}else if("quote"["$==="](w)||"verse"["$==="](w))d.get("AttributeList").$rekey(h,[b,"attribution","citetitle"]),G=this.$build_block(Y,Y["$=="]("verse")?"verbatim":"compound",ha,e,c,h);else if((l=(p=!1!==X&&X!==b)?la=ea["$registered_for_block?"](Y,na):X)===b||l.$$is_boolean&&1!=l)this.$raise("Unsupported block type "+Y+" at "+c.$line_info());else if((l=(aa=la.$config()["$[]"]("content_model"))["$!="]("skip"))===
b||l.$$is_boolean&&1!=l||((l=(va=!1!==(p=la.$config()["$[]"]("pos_attrs"))&&p!==b?p:[])["$empty?"]()["$!"]())===b||l.$$is_boolean&&1!=l||d.get("AttributeList").$rekey(h,[b].$concat(va)),(l=G=la.$config()["$[]"]("default_attrs"))===b||l.$$is_boolean&&1!=l||(l=(p=G).$each,l.$$p=(P=function(a,d){var c,e,f;null==a&&(a=b);null==d&&(d=b);return c=a,e=h,!1!==(f=e["$[]"](c))&&f!==b?f:e["$[]="](c,d)},P.$$s=this,P),l).call(p)),G=this.$build_block(Y,aa,ha,e,c,h,u(["extension"],{extension:la})),(l=(C=!1!==G&&
G!==b)?aa["$!="]("skip"):G)===b||l.$$is_boolean&&1!=l)return h.$clear(),b}}else c.$advance();if(!1!==G&&G!==b){!1!==ka&&ka!==b&&(k=[ka],l=G,l["$source_location="].apply(l,k),k[k.length-1]);if((k=G["$title?"]())===b||k.$$is_boolean&&1!=k)k=[h["$[]"]("title")],l=G,l["$title="].apply(l,k),k[k.length-1];if(G.$context()["$=="]("image")){if(A=h["$[]"]("target"),G.$document().$register("images",A),k="alt",l=h,!1!==(C=l["$[]"](k))&&C!==b?C:l["$[]="](k,d.get("Helpers").$basename(A,!0).$tr("_-"," ")),h["$[]="]("alt",
G.$sub_specialchars(h["$[]"]("alt"))),G.$assign_caption(h.$delete("caption"),"figure"),!((k=sa=h["$[]"]("scaledwidth"))===b||k.$$is_boolean&&1!=k||(k=t(48,57,!1)["$include?"]((!1!==(l=sa["$[]"](-1))&&l!==b?l:0).$ord()))===b||k.$$is_boolean&&1!=k))h["$[]="]("scaledwidth",""+sa+"%")}else k=G,!1!==(l=k.$caption())&&l!==b?l:k["$caption="](h.$delete("caption"));k=[h["$[]"]("style")];l=G;l["$style="].apply(l,k);k[k.length-1];(k=wa=(l=G,!1!==(C=l.$id())&&C!==b?C:l["$id="](h["$[]"]("id"))))===b||k.$$is_boolean&&
1!=k||R.$register("ids",[wa,!1!==(k=h["$[]"]("reftext"))&&k!==b?k:(l=G["$title?"]())===b||l.$$is_boolean&&1!=l?b:G.$title()]);((k=h["$empty?"]())===b||k.$$is_boolean&&1!=k)&&G.$attributes().$update(h);G.$lock_in_subs();(k=G["$sub?"]("callouts"))===b||k.$$is_boolean&&1!=k||!((k=this.$catalog_callouts(G.$source(),R))===b||k.$$is_boolean&&1!=k)||G.$remove_sub("callouts")}return G});a.defs(h,"$blockquote?",function(a,d){var c,e,h,f;null==d&&(d=b);return c=(e=(h=n(a.$size(),1),!1!==h&&h!==b?(!1!==(f=d)&&
f!==b?f:a["$[]"](0))["$start_with?"]('"'):h),!1!==e&&e!==b?a["$[]"](-1)["$start_with?"]("-- "):e),!1!==c&&c!==b?a["$[]"](-2)["$end_with?"]('"'):c});a.defs(h,"$read_paragraph_lines",function(a,c,e){var h,f=b;null==e&&(e=u([],{}));e["$[]="]("break_on_blank_lines",!0);e["$[]="]("break_on_list_continuation",!0);e["$[]="]("preserve_last_line",!0);f=!1!==c&&c!==b?(h=d.get("Compliance").$block_terminates_paragraph())===b||h.$$is_boolean&&1!=h?d.get("StartOfListProc"):d.get("StartOfBlockOrListProc"):(h=d.get("Compliance").$block_terminates_paragraph())===
b||h.$$is_boolean&&1!=h?d.get("NoOp"):d.get("StartOfBlockProc");return(h=a.$read_lines_until,h.$$p=f.$to_proc(),h).call(a,e)});a.defs(h,"$is_delimited_block?",function(h,f){var g,k,p=b,r=b,q=b,w=b,u=b,q=p=b;null==f&&(f=!1);if((g=(k=n(p=h.$length(),1),!1!==k&&k!==b?d.get("DELIMITED_BLOCK_LEADERS")["$include?"](h["$[]"](t(0,1,!1))):k))===b||g.$$is_boolean&&1!=g)return b;if(p["$=="](2))r=h,q=2;else{(g=e(p,4))===b||g.$$is_boolean&&1!=g?(r=h["$[]"](t(0,3,!1)),q=4):(r=h,q=p);w=!1;if((g=d.get("Compliance").$markdown_syntax())!==
b&&(!g.$$is_boolean||1==g)&&(u=q["$=="](4)?r.$chop():r,u["$=="]("```"))){if((g=q["$=="](4)?r["$end_with?"]("`"):q["$=="](4))!==b&&(!g.$$is_boolean||1==g))return b;r=u;q=3;w=!0}if((g=(k=q["$=="](3))?w["$!"]():q["$=="](3))!==b&&(!g.$$is_boolean||1==g))return b}return(g=d.get("DELIMITED_BLOCKS")["$has_key?"](r))===b||g.$$is_boolean&&1!=g?b:(g=!1!==(k=c(q,4))&&k!==b?k:q["$=="](p))===b||g.$$is_boolean&&1!=g?(""+r+l(r["$[]"](t(-1,-1,!1)),m(p,q)))["$=="](h)?!1!==f&&f!==b?(g=a.to_a(d.get("DELIMITED_BLOCKS")["$[]"](r)),
p=null==g[0]?b:g[0],q=null==g[1]?b:g[1],g,d.get("BlockMatchData").$new(p,q,r,h)):!0:b:!1!==f&&f!==b?(g=a.to_a(d.get("DELIMITED_BLOCKS")["$[]"](r)),p=null==g[0]?b:g[0],q=null==g[1]?b:g[1],g,d.get("BlockMatchData").$new(p,q,r,r)):!0});a.defs(h,"$build_block",function(a,c,e,h,f,g,k){var m,l,p=b,r=b,q=p=r=b,q=q=q=q=b;null==k&&(k=u([],{}));(m=!1!==(l=c["$=="]("skip"))&&l!==b?l:c["$=="]("raw"))===b||m.$$is_boolean&&1!=m?(p=!1,r=c):(p=c["$=="]("skip"),r="simple");(m=e["$nil?"]())===b||m.$$is_boolean&&1!=
m?(m=r["$!="]("compound"))===b||m.$$is_boolean&&1!=m?e["$=="](!1)?(r=b,p=f):(r=b,q=f.$cursor(),p=d.get("Reader").$new(f.$read_lines_until(u(["terminator","skip_processing"],{terminator:e,skip_processing:p})),q)):(r=f.$read_lines_until(u(["terminator","skip_processing"],{terminator:e,skip_processing:p})),p=b):(r["$=="]("verbatim")?r=f.$read_lines_until(u(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(c["$=="]("compound")&&(c="simple"),
r=this.$read_paragraph_lines(f,!1,u(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),p=b);if(c["$=="]("skip"))return g.$clear(),r;if(c["$=="]("verbatim"))if((m=q=g["$[]"]("indent"))!==b&&(!m.$$is_boolean||1==m))this["$adjust_indentation!"](r,q,!1!==(m=g["$[]"]("tabsize"))&&m!==b?m:h.$document().$attributes()["$[]"]("tabsize"));else if((m=n(q=(!1!==(l=g["$[]"]("tabsize"))&&l!==b?l:h.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))!==b&&(!m.$$is_boolean||
1==m))this["$adjust_indentation!"](r,b,q);if((m=q=k["$[]"]("extension"))===b||m.$$is_boolean&&1!=m)q=d.get("Block").$new(h,a,u(["content_model","source","attributes"],{content_model:c,source:r,attributes:g}));else{g.$delete("style");if((m=q=q.$process_method()["$[]"](h,!1!==(l=p)&&l!==b?l:d.get("Reader").$new(r),g.$dup()))===b||m.$$is_boolean&&1!=m)return b;g.$replace(q.$attributes());(m=(l=q.$content_model()["$=="]("compound"))?(r=q.$lines())["$nil_or_empty?"]()["$!"]():q.$content_model()["$=="]("compound"))===
b||m.$$is_boolean&&1!=m||(c="compound",p=d.get("Reader").$new(r))}(m=(l=g["$has_key?"]("title"),!1!==l&&l!==b?q.$document()["$attr?"](""+q.$context()+"-caption"):l))===b||m.$$is_boolean&&1!=m||(m=[g.$delete("title")],l=q,l["$title="].apply(l,m),m[m.length-1],q.$assign_caption(g.$delete("caption")));c["$=="]("compound")&&this.$parse_blocks(p,q);return q});a.defs(h,"$parse_blocks",function(a,c){for(var e,h=b;(e=a["$has_more_lines?"]())!==b&&(!e.$$is_boolean||1==e);)if(h=d.get("Parser").$next_block(a,
c),!1!==h&&h!==b)c["$<<"](h)});a.defs(h,"$next_outline_list",function(a,e,h){var f,g,k,m=b,l=b,p=f=b,r=b,w=b,m=d.get("List").$new(h,e);f=h.$context()["$=="](e)?[q(h.$level(),1)]:[1];g=m;g["$level="].apply(g,f);for(f[f.length-1];(g=(k=a["$has_more_lines?"](),!1!==k&&k!==b?l=d.get("ListRxMap")["$[]"](e).$match(a.$peek_line()):k))!==b&&(!g.$$is_boolean||1==g);){f=this.$resolve_list_marker(e,l["$[]"](1));if((g=(k=m["$items?"](),!1!==k&&k!==b?f["$!="](m.$items()["$[]"](0).$marker()):k))===b||g.$$is_boolean&&
1!=g)p=m.$level();else for(p=q(m.$level(),1),r=h;r.$context()["$=="](e);){if(f["$=="](r.$items()["$[]"](0).$marker())){p=r.$level();break}r=r.$parent()}if((g=!1!==(k=m["$items?"]()["$!"]())&&k!==b?k:p["$=="](m.$level()))!==b&&(!g.$$is_boolean||1==g))w=this.$next_list_item(a,m,l);else if((g=c(p,m.$level()))!==b&&(!g.$$is_boolean||1==g))break;else if((g=n(p,m.$level()))!==b&&(!g.$$is_boolean||1==g))m.$items()["$[]"](-1)["$<<"](this.$next_block(a,m));if(!1!==w&&w!==b)m["$<<"](w);w=b;a.$skip_blank_lines()}return m});
a.defs(h,"$catalog_callouts",function(a,c){var e,h,g=b,g=!1;(e=a["$include?"]("<"))===b||e.$$is_boolean&&1!=e||(e=a.$scan,e.$$p=(h=function(){var a,d=b;null==f["~"]&&(f["~"]=b);d=f["~"];(a=d["$[]"](0).$chr()["$!="]("\\"))===b||a.$$is_boolean&&1!=a||c.$callouts().$register(d["$[]"](2));return g=!0},h.$$s=this,h),e).call(a,d.get("CalloutQuickScanRx"));return g});a.defs(h,"$catalog_inline_anchors",function(a,c){var e,h;(e=a["$include?"]("["))===b||e.$$is_boolean&&1!=e||(e=a.$scan,e.$$p=(h=function(){var a,
d=b,e=b,d=b;null==f["~"]&&(f["~"]=b);d=f["~"];if((a=d["$[]"](0)["$start_with?"]("\\"))!==b&&(!a.$$is_boolean||1==a))return b;e=!1!==(a=d["$[]"](1))&&a!==b?a:d["$[]"](3);d=!1!==(a=d["$[]"](2))&&a!==b?a:d["$[]"](4);return c.$register("ids",[e,d])},h.$$s=this,h),e).call(a,d.get("InlineAnchorRx"));return b});a.defs(h,"$next_labeled_list",function(c,e,h){for(var f,g,k,m=b,l=b,p=b,n=b,r=b,m=d.get("List").$new(h,"dlist"),l=b,p=d.get("DescriptionListSiblingRx")["$[]"](e["$[]"](2));(f=!1!==(g=e)&&g!==b?g:
(k=c["$has_more_lines?"](),!1!==k&&k!==b?e=p.$match(c.$peek_line()):k))!==b&&(!f.$$is_boolean||1==f);){g=this.$next_list_item(c,m,e,p);f=a.to_ary(g);n=null==f[0]?b:f[0];r=null==f[1]?b:f[1];g;if((f=(g=!1!==l&&l!==b)?l["$[]"](-1)["$!"]():l)===b||f.$$is_boolean&&1!=f)m.$items()["$<<"](l=[[n],r]);else l.$pop(),l["$[]"](0)["$<<"](n),l["$<<"](r);e=b}return m});a.defs(h,"$next_list_item",function(a,c,e,h){var f,g,k=b,m=b,l=b,p=b,n=l=b,r=n=n=p=b,q=b,w=q=r=b,x=b;null==h&&(h=b);if((k=c.$context())["$=="]("dlist"))m=
d.get("ListItem").$new(c,e["$[]"](1)),l=d.get("ListItem").$new(c,e["$[]"](3)),p=e["$[]"](3)["$nil_or_empty?"]()["$!"]();else{l=e["$[]"](2);n=!1;(f=(g=k["$=="]("ulist"))?l["$start_with?"]("["):k["$=="]("ulist"))===b||f.$$is_boolean&&1!=f||((f=l["$start_with?"]("[ ] "))===b||f.$$is_boolean&&1!=f?(f=!1!==(g=l["$start_with?"]("[x] "))&&g!==b?g:l["$start_with?"]("[*] "))===b||f.$$is_boolean&&1!=f||(p=n=!0,l=l["$[]"](t(3,-1,!1)).$lstrip()):(n=!0,p=!1,l=l["$[]"](t(3,-1,!1)).$lstrip()));l=d.get("ListItem").$new(c,
l);if(!1!==n&&n!==b&&(c.$attributes()["$[]="]("checklist-option",""),l.$attributes()["$[]="]("checkbox",""),!1!==p&&p!==b))l.$attributes()["$[]="]("checked","");!1!==(f=h)&&f!==b?f:h=this.$resolve_list_marker(k,e["$[]"](1),c.$items().$size(),!0,a);f=[h];g=l;g["$marker="].apply(g,f);f[f.length-1];p=!0}a.$advance();n=a.$cursor();n=d.get("Reader").$new(this.$read_lines_for_list_item(a,k,h,p),n);if((f=n["$has_more_lines?"]())!==b&&(!f.$$is_boolean||1==f)){r=n.$skip_line_comments();q=n.$peek_line();((f=
r["$empty?"]())===b||f.$$is_boolean&&1!=f)&&n.$unshift_lines(r);(f=q["$nil?"]()["$!"]())===b||f.$$is_boolean&&1!=f?q=r=!1:(r=q["$empty?"](),(f=(g=r["$!"](),!1!==g&&g!==b?k["$!="]("dlist"):g))===b||f.$$is_boolean&&1!=f||(p=!1),q=(f=r["$!"](),!1!==f&&f!==b?q["$empty?"]()["$!"]():f));for(w=u(["text"],{text:p["$!"]()});(g=n["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);)if((g=x=this.$next_block(n,l,u([],{}),w))!==b&&(!g.$$is_boolean||1==g))l["$<<"](x);l.$fold_first(r,q)}if(k["$=="]("dlist")){if((f=
!1!==(g=l["$text?"]())&&g!==b?g:l["$blocks?"]())===b||f.$$is_boolean&&1!=f)l=b;return[m,l]}return l});a.defs(h,"$read_lines_for_list_item",function(a,c,e,h){var g,k,m,l,p,n,r,q,w,t,x,C,y,E=b,B=b,P=b,A=b,D=b,fa=b,fa=l=b;null==f["~"]&&(f["~"]=b);null==e&&(e=b);null==h&&(h=!0);E=[];B="inactive";P=!1;for(A=b;(k=a["$has_more_lines?"]())!==b&&(!k.$$is_boolean||1==k);){D=a.$read_line();if((k=this["$is_sibling_list_item?"](D,c,e))!==b&&(!k.$$is_boolean||1==k))break;fa=(k=E["$empty?"]())===b||k.$$is_boolean&&
1!=k?E["$[]"](-1):b;if(fa["$=="](d.get("LIST_CONTINUATION"))){if(B["$=="]("inactive")&&(B="active",h=!0,!1===P||P===b))E["$[]="](-1,"");if(D["$=="](d.get("LIST_CONTINUATION"))){(k=B["$!="]("frozen"))===b||k.$$is_boolean&&1!=k||(B="frozen",E["$<<"](D));D=b;continue}}if((k=l=this["$is_delimited_block?"](D,!0))===b||k.$$is_boolean&&1!=k)if((k=(m=(l=c["$=="]("dlist"))?B["$!="]("active"):c["$=="]("dlist"),!1!==m&&m!==b?d.get("BlockAttributeLineRx")["$=~"](D):m))===b||k.$$is_boolean&&1!=k)if((k=(m=B["$=="]("active"))?
D["$empty?"]()["$!"]():B["$=="]("active"))===b||k.$$is_boolean&&1!=k)if((k=(l=fa["$nil?"]()["$!"](),!1!==l&&l!==b?fa["$empty?"]():l))===b||k.$$is_boolean&&1!=k)(k=D["$empty?"]()["$!"]())===b||k.$$is_boolean&&1!=k||(h=!0),(k=fa=(x=(C=!1!==P&&P!==b?["dlist"]:d.get("NESTABLE_LIST_CONTEXTS")).$detect,x.$$p=(y=function(a){null==a&&(a=b);return d.get("ListRxMap")["$[]"](a)["$=~"](D)},y.$$s=this,y),x).call(C))===b||k.$$is_boolean&&1!=k||(P=!0,(k=(x=fa["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():
fa["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1)),E["$<<"](D);else{if(!((k=D["$empty?"]())===b||k.$$is_boolean&&1!=k||(a.$skip_blank_lines(),D=a.$read_line(),(k=!1!==(l=D["$nil?"]())&&l!==b?l:this["$is_sibling_list_item?"](D,c,e))===b||k.$$is_boolean&&1!=k)))break;if(D["$=="](d.get("LIST_CONTINUATION")))A=E.$size(),E["$<<"](D);else if(!1!==h&&h!==b)if((k=this["$is_sibling_list_item?"](D,c,e))===b||k.$$is_boolean&&1!=k)if((k=fa=(l=(q=d.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(w=function(a){null==
a&&(a=b);return d.get("ListRxMap")["$[]"](a)["$=~"](D)},w.$$s=this,w),l).call(q))===b||k.$$is_boolean&&1!=k)if((k=d.get("LiteralParagraphRx")["$=~"](D))===b||k.$$is_boolean&&1!=k)break;else a.$unshift_line(D),E.$concat((k=(l=a).$read_lines_until,k.$$p=(t=function(a){var d=t.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?d["$is_sibling_list_item?"](a,c,e):c["$=="]("dlist")},t.$$s=this,t),k).call(l,u(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,
break_on_blank_lines:!0,break_on_list_continuation:!0})));else E["$<<"](D),P=!0,(k=(l=fa["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():fa["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1);else break;else!1!==P&&P!==b||E.$pop(),E["$<<"](D),h=!0}else if((k=d.get("LiteralParagraphRx")["$=~"](D))===b||k.$$is_boolean&&1!=k)if((k=!1!==(l=!1!==(n=d.get("BlockTitleRx")["$=~"](D))&&n!==b?n:d.get("BlockAttributeLineRx")["$=~"](D))&&l!==b?l:d.get("AttributeEntryRx")["$=~"](D))===b||k.$$is_boolean&&
1!=k)(k=fa=(l=(n=!1!==P&&P!==b?["dlist"]:d.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(r=function(a){null==a&&(a=b);return d.get("ListRxMap")["$[]"](a)["$=~"](D)},r.$$s=this,r),l).call(n))===b||k.$$is_boolean&&1!=k||(P=!0,(k=(l=fa["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():fa["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1)),E["$<<"](D),B="inactive";else E["$<<"](D);else a.$unshift_line(D),E.$concat((k=(m=a).$read_lines_until,k.$$p=(p=function(a){var d=p.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?
d["$is_sibling_list_item?"](a,c,e):c["$=="]("dlist")},p.$$s=this,p),k).call(m,u(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),B="inactive";else break;else if(B["$=="]("active"))E["$<<"](D),E.$concat(a.$read_lines_until(u(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),B="inactive";else break;D=b}!1!==D&&D!==b&&a.$unshift_line(D);for(!1!==A&&A!==b&&E.$delete_at(A);(k=
(x=E["$empty?"]()["$!"](),!1!==x&&x!==b?E["$[]"](-1)["$empty?"]():x))!==b&&(!k.$$is_boolean||1==k);)E.$pop();(g=(k=E["$empty?"]()["$!"](),!1!==k&&k!==b?E["$[]"](-1)["$=="](d.get("LIST_CONTINUATION")):k))===b||g.$$is_boolean&&1!=g||E.$pop();return E});a.defs(h,"$initialize_section",function(c,e,h){var f,g,k=b,m=b,l=b,p=b,n=b,r=b,q=l=p=b;null==h&&(h=u([],{}));k=e.$document();(f=k.$sourcemap())===b||f.$$is_boolean&&1!=f||(m=c.$cursor());g=this.$parse_section_title(c,k);f=a.to_ary(g);l=null==f[0]?b:f[0];
p=null==f[1]?b:f[1];n=null==f[2]?b:f[2];r=null==f[3]?b:f[3];g;if(!1!==p&&p!==b)h["$[]="]("reftext",p);p=d.get("Section").$new(e,r,k.$attributes()["$has_key?"]("sectnums"));!1!==m&&m!==b&&(f=[m],g=p,g["$source_location="].apply(g,f),f[f.length-1]);f=[l];g=p;g["$id="].apply(g,f);f[f.length-1];f=[n];g=p;g["$title="].apply(g,f);f[f.length-1];(f=h["$[]"](1))===b||f.$$is_boolean&&1!=f?((f=n.$downcase()["$=="]("synopsis")?k.$doctype()["$=="]("manpage"):n.$downcase()["$=="]("synopsis"))===b||f.$$is_boolean&&
1!=f?f=["sect"+p.$level()]:(f=[!0],g=p,g["$special="].apply(g,f),f[f.length-1],f=["synopsis"]),g=p,g["$sectname="].apply(g,f),f[f.length-1]):(g=this.$parse_style_attribute(h,c),f=a.to_ary(g),l=null==f[0]?b:f[0],g,!1!==l&&l!==b?(f=[l],g=p,g["$sectname="].apply(g,f),f[f.length-1],f=[!0],g=p,g["$special="].apply(g,f),f[f.length-1],(f=(g=p.$sectname()["$=="]("abstract"))?k.$doctype()["$=="]("book"):p.$sectname()["$=="]("abstract"))===b||f.$$is_boolean&&1!=f||(f=["sect1"],g=p,g["$sectname="].apply(g,f),
f[f.length-1],f=[!1],g=p,g["$special="].apply(g,f),f[f.length-1],f=[1],g=p,g["$level="].apply(g,f),f[f.length-1])):(f=["sect"+p.$level()],g=p,g["$sectname="].apply(g,f),f[f.length-1]));(f=(g=p.$id()["$!"](),!1!==g&&g!==b?q=h["$[]"]("id"):g))===b||f.$$is_boolean&&1!=f?(f=p,!1!==(g=f.$id())&&g!==b?g:f["$id="](p.$generate_id())):(f=[q],g=p,g["$id="].apply(g,f),f[f.length-1]);(f=p.$id())===b||f.$$is_boolean&&1!=f||p.$document().$register("ids",[p.$id(),!1!==(f=h["$[]"]("reftext"))&&f!==b?f:p.$title()]);
p.$update_attributes(h);c.$skip_blank_lines();return p});a.defs(h,"$section_level",function(a){return d.get("SECTION_LEVELS")["$[]"](a.$chr())});a.defs(h,"$single_line_section_level",function(a){return m(a.$length(),1)});a.defs(h,"$is_next_line_section?",function(c,e){var h,f,g,k,m=b,l=b;return(h=(f=(g=(m=e["$[]"](1))["$nil?"]()["$!"](),!1!==g&&g!==b?!1!==(k=(l=m["$[]"](0).$ord())["$=="](100))&&k!==b?k:l["$=="](102):g),!1!==f&&f!==b?m["$=~"](d.get("FloatingTitleStyleRx")):f))!==b&&(!h.$$is_boolean||
1==h)||(h=c["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h?!1:(h=d.get("Compliance").$underline_style_section_titles())===b||h.$$is_boolean&&1!=h?this["$is_section_title?"](c.$peek_line()):(h=this)["$is_section_title?"].apply(h,a.to_a(c.$peek_lines(2)))});a.defs(h,"$is_next_line_document_title?",function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});a.defs(h,"$is_section_title?",function(a,d){var c,e=b;null==d&&(d=b);return(c=e=this["$is_single_line_section_title?"](a))===b||c.$$is_boolean&&
1!=c?(c=!1!==d&&d!==b?e=this["$is_two_line_section_title?"](a,d):d)===b||c.$$is_boolean&&1!=c?!1:e:e});a.defs(h,"$is_single_line_section_title?",function(a){var c,e,h,f,g=b,k=b,g=!1!==a&&a!==b?a.$chr():b;return(c=(e=!1!==(h=g["$=="]("="))&&h!==b?h:(f=d.get("Compliance").$markdown_syntax(),!1!==f&&f!==b?g["$=="]("#"):f),!1!==e&&e!==b?k=d.get("AtxSectionRx").$match(a):e))===b||c.$$is_boolean&&1!=c?!1:this.$single_line_section_level(k["$[]"](1))});a.defs(h,"$is_two_line_section_title?",function(a,c){var h,
f,g,k,l;return(h=(f=(g=(k=(l=!1!==a&&a!==b?c:a,!1!==l&&l!==b?d.get("SECTION_LEVELS")["$has_key?"](c.$chr()):l),!1!==k&&k!==b?c["$=~"](d.get("SetextSectionLineRx")):k),!1!==g&&g!==b?a["$=~"](d.get("SetextSectionTitleRx")):g),!1!==f&&f!==b?e(m(this.$line_length(a),this.$line_length(c)).$abs(),1):f))===b||h.$$is_boolean&&1!=h?!1:this.$section_level(c)});a.defs(h,"$parse_section_title",function(a,c){var h,f,k,l,p,n=b,r=b,w=b,t=b,u=b,x=b,C=b,y=b,E=b,B=b,P=b,n=a.$read_line(),w=r=b,t=-1,u=b,x=!0,C=n.$chr();
(h=(f=!1!==(k=C["$=="]("="))&&k!==b?k:(l=d.get("Compliance").$markdown_syntax(),!1!==l&&l!==b?C["$=="]("#"):l),!1!==f&&f!==b?y=d.get("AtxSectionRx").$match(n):f))===b||h.$$is_boolean&&1!=h?(h=d.get("Compliance").$underline_style_section_titles())===b||h.$$is_boolean&&1!=h||(h=(f=(k=(l=(p=B=a.$peek_line(!0),!1!==p&&p!==b?d.get("SECTION_LEVELS")["$has_key?"](B.$chr()):p),!1!==l&&l!==b?B["$=~"](d.get("SetextSectionLineRx")):l),!1!==k&&k!==b?P=d.get("SetextSectionTitleRx").$match(n):k),!1!==f&&f!==b?
e(m(this.$line_length(n),this.$line_length(B)).$abs(),1):f))===b||h.$$is_boolean&&1!=h||(w=P["$[]"](1),(h=(f=w["$end_with?"]("]]"),!1!==f&&f!==b?E=d.get("InlineSectionAnchorRx").$match(w):f))===b||h.$$is_boolean&&1!=h||(h=E["$[]"](2)["$nil?"]())===b||h.$$is_boolean&&1!=h||(w=E["$[]"](1),r=E["$[]"](3),u=E["$[]"](4)),t=this.$section_level(B),x=!1,a.$advance()):(t=this.$single_line_section_level(y["$[]"](1)),w=y["$[]"](2),(h=(f=w["$end_with?"]("]]"),!1!==f&&f!==b?E=d.get("InlineSectionAnchorRx").$match(w):
f))===b||h.$$is_boolean&&1!=h||(h=E["$[]"](2)["$nil?"]())===b||h.$$is_boolean&&1!=h||(w=E["$[]"](1),r=E["$[]"](3),u=E["$[]"](4)));(h=g(t,0))===b||h.$$is_boolean&&1!=h||(t=q(t,c.$attr("leveloffset",0).$to_i()));return[r,u,w,t,x]});a.defs(h,"$line_length",function(a){var c;return(c=d.get("FORCE_UNICODE_LINE_LENGTH"))===b||c.$$is_boolean&&1!=c?a.$length():a.$scan(d.get("UnicodeCharScanRx")).$length()});a.defs(h,"$parse_header_metadata",function(c,e){var h,f,g,k,m,l,p=b,r=b,w=b,x=b,C=x=b,y=b,E=C=b,w=
r=b;null==e&&(e=b);this.$process_attribute_entries(c,e);p=u([],{});w=r=b;if((h=(f=c["$has_more_lines?"](),!1!==f&&f!==b?c["$next_line_empty?"]()["$!"]():f))!==b&&(!h.$$is_boolean||1==h)){x=this.$process_authors(c.$read_line());if((h=x["$empty?"]())===b||h.$$is_boolean&&1!=h)!1!==e&&e!==b&&((h=(f=x).$each,h.$$p=(g=function(d,c){var h;null==d&&(d=b);null==c&&(c=b);return(h=e.$attributes()["$has_key?"](d))===b||h.$$is_boolean&&1!=h?e.$attributes()["$[]="](d,(h=c["$is_a?"](a.get("String")))===b||h.$$is_boolean&&
1!=h?c:e.$apply_header_subs(c)):b},g.$$s=this,g),h).call(f),r=e.$attributes()["$[]"]("author"),w=e.$attributes()["$[]"]("authors")),p=x;this.$process_attribute_entries(c,e);x=u([],{});if((h=(k=c["$has_more_lines?"](),!1!==k&&k!==b?c["$next_line_empty?"]()["$!"]():k))!==b&&(!h.$$is_boolean||1==h))if(C=c.$read_line(),(h=y=d.get("RevisionInfoLineRx").$match(C))===b||h.$$is_boolean&&1!=h)c.$unshift_line(C);else{if((h=y["$[]"](1))!==b&&(!h.$$is_boolean||1==h))x["$[]="]("revnumber",y["$[]"](1).$rstrip());
if(!(C=y["$[]"](2).$strip())["$=="](""))if((h=(k=y["$[]"](1)["$!"](),!1!==k&&k!==b?C["$start_with?"]("v"):k))===b||h.$$is_boolean&&1!=h)x["$[]="]("revdate",C);else x["$[]="]("revnumber",C["$[]"](t(1,-1,!1)));if((h=y["$[]"](3))!==b&&(!h.$$is_boolean||1==h))x["$[]="]("revremark",y["$[]"](3).$rstrip())}if((h=x["$empty?"]())===b||h.$$is_boolean&&1!=h)!1!==e&&e!==b&&(h=(k=x).$each,h.$$p=(m=function(a,d){var c;null==a&&(a=b);null==d&&(d=b);return(c=e.$attributes()["$has_key?"](a))===b||c.$$is_boolean&&
1!=c?e.$attributes()["$[]="](a,e.$apply_header_subs(d)):b},m.$$s=this,m),h).call(k),p.$update(x);this.$process_attribute_entries(c,e);c.$skip_blank_lines()}if(!1!==e&&e!==b){x=b;if((h=(l=e.$attributes()["$has_key?"]("author"),!1!==l&&l!==b?(E=e.$attributes()["$[]"]("author"))["$!="](r):l))===b||h.$$is_boolean&&1!=h)if((h=(l=e.$attributes()["$has_key?"]("authors"),!1!==l&&l!==b?(E=e.$attributes()["$[]"]("authors"))["$!="](w):l))===b||h.$$is_boolean&&1!=h){r=[];for(w="author_"+q(r.$size(),1);(l=e.$attributes()["$has_key?"](w))!==
b&&(!l.$$is_boolean||1==l);)r["$<<"](e.$attributes()["$[]"](w)),w="author_"+q(r.$size(),1);r.$size()["$=="](1)?x=this.$process_authors(r["$[]"](0),!0,!1):(h=n(r.$size(),1))===b||h.$$is_boolean&&1!=h||(x=this.$process_authors(r.$join("; "),!0))}else x=this.$process_authors(E,!0);else x=this.$process_authors(E,!0,!1);if(!1!==x&&x!==b&&(e.$attributes().$update(x),(h=(l=e.$attributes()["$has_key?"]("email")["$!"](),!1!==l&&l!==b?e.$attributes()["$has_key?"]("email_1"):l))!==b&&(!h.$$is_boolean||1==h)))e.$attributes()["$[]="]("email",
e.$attributes()["$[]"]("email_1"))}return p});a.defs(h,"$process_authors",function(a,c,e){var h,f,g,k,m,l=this,p=b,r=b,w=b;null==c&&(c=!1);null==e&&(e=!0);p=u([],{});r="author authorinitials firstname middlename lastname email".split(" ");w=function(){return!1!==e&&e!==b?(h=(f=a.$split(";")).$map,h.$$p=(g=function(a){null==a&&(a=b);return a.$strip()},g.$$s=l,g),h).call(f):[a]}();(h=(k=w).$each_with_index,h.$$p=(m=function(a,e){var h=m.$$s||this,f,g,k,l,w,z,x,C=b,y=b,H=b,F=H=b,E=b;null==a&&(a=b);null==
e&&(e=b);if((f=a["$empty?"]())!==b&&(!f.$$is_boolean||1==f))return b;C=u([],{});(f=e["$zero?"]())===b||f.$$is_boolean&&1!=f?(f=(l=r).$each,f.$$p=(w=function(a){null==a&&(a=b);return C["$[]="](a.$to_sym(),""+a+"_"+q(e,1))},w.$$s=h,w),f).call(l):(f=(g=r).$each,f.$$p=(k=function(a){null==a&&(a=b);return C["$[]="](a.$to_sym(),a)},k.$$s=h,k),f).call(g);y=b;!1!==c&&c!==b?(f=n((y=a.$split(" ")).$size(),3))===b||f.$$is_boolean&&1!=f||(y=y["$[]"](t(0,1,!1)).$push(y["$[]"](t(2,-1,!1)).$join(" "))):(f=H=d.get("AuthorInfoLineRx").$match(a))===
b||f.$$is_boolean&&1!=f||(y=H.$to_a(),y.$shift());if((f=y["$nil?"]())===b||f.$$is_boolean&&1!=f){if(p["$[]="](C["$[]"]("firstname"),H=y["$[]"](0).$tr("_"," ")),p["$[]="](C["$[]"]("author"),H),p["$[]="](C["$[]"]("authorinitials"),H["$[]"](0,1)),(f=(z=y["$[]"](1)["$nil?"]()["$!"](),!1!==z&&z!==b?y["$[]"](2)["$nil?"]()["$!"]():z))===b||f.$$is_boolean&&1!=f?(f=y["$[]"](1)["$nil?"]()["$!"]())===b||f.$$is_boolean&&1!=f||(p["$[]="](C["$[]"]("lastname"),E=y["$[]"](1).$tr("_"," ")),p["$[]="](C["$[]"]("author"),
[H,E].$join(" ")),p["$[]="](C["$[]"]("authorinitials"),[H["$[]"](0,1),E["$[]"](0,1)].$join())):(p["$[]="](C["$[]"]("middlename"),F=y["$[]"](1).$tr("_"," ")),p["$[]="](C["$[]"]("lastname"),E=y["$[]"](2).$tr("_"," ")),p["$[]="](C["$[]"]("author"),[H,F,E].$join(" ")),p["$[]="](C["$[]"]("authorinitials"),[H["$[]"](0,1),F["$[]"](0,1),E["$[]"](0,1)].$join())),(f=!1!==(z=c)&&z!==b?z:y["$[]"](3)["$nil?"]())===b||f.$$is_boolean&&1!=f)p["$[]="](C["$[]"]("email"),y["$[]"](3))}else p["$[]="](C["$[]"]("author"),
p["$[]="](C["$[]"]("firstname"),H=a.$strip().$tr_s(" "," "))),p["$[]="](C["$[]"]("authorinitials"),H["$[]"](0,1));p["$[]="]("authorcount",q(e,1));e["$=="](1)&&(f=(z=r).$each,f.$$p=(x=function(a){var d;null==a&&(a=b);return(d=p["$has_key?"](a))===b||d.$$is_boolean&&1!=d?b:p["$[]="](""+a+"_1",p["$[]"](a))},x.$$s=h,x),f).call(z);return(f=e["$zero?"]())===b||f.$$is_boolean&&1!=f?p["$[]="]("authors",""+p["$[]"]("authors")+", "+p["$[]"](C["$[]"]("author"))):p["$[]="]("authors",p["$[]"](C["$[]"]("author")))},
m.$$s=l,m),h).call(k);return p});a.defs(h,"$parse_block_metadata_lines",function(a,d,c,e){var h;null==c&&(c=u([],{}));for(null==e&&(e=u([],{}));(h=this.$parse_block_metadata_line(a,d,c,e))!==b&&(!h.$$is_boolean||1==h);)a.$advance(),a.$skip_blank_lines();return c});a.defs(h,"$parse_block_metadata_line",function(a,c,e,h){var f,g,k,m=b,l=b,p=b,l=m=b;null==h&&(h=u([],{}));if((f=a["$has_more_lines?"]())===b||f.$$is_boolean&&1!=f)return!1;m=a.$peek_line();if((f=(g=l=m["$start_with?"]("//"),!1!==g&&g!==
b?p=d.get("CommentBlockRx").$match(m):g))!==b&&(!f.$$is_boolean||1==f))m=p["$[]"](0),a.$read_lines_until(u(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:m,skip_processing:!0}));else if((f=(g=!1!==l&&l!==b)?d.get("CommentLineRx")["$=~"](m):l)===b||f.$$is_boolean&&1!=f)if((f=(g=(k=h["$[]"]("text")["$!"](),!1!==k&&k!==b?m["$start_with?"](":"):k),!1!==g&&g!==b?p=d.get("AttributeEntryRx").$match(m):g))!==b&&(!f.$$is_boolean||
1==f))this.$process_attribute_entry(a,c,e,p);else if((f=(g=l=(k=m["$start_with?"]("["),!1!==k&&k!==b?m["$end_with?"]("]"):k),!1!==g&&g!==b?p=d.get("BlockAnchorRx").$match(m):g))===b||f.$$is_boolean&&1!=f)if((f=(g=!1!==l&&l!==b)?p=d.get("BlockAttributeListRx").$match(m):l)===b||f.$$is_boolean&&1!=f){if((f=(g=h["$[]"]("text")["$!"](),!1!==g&&g!==b?p=d.get("BlockTitleRx").$match(m):g))===b||f.$$is_boolean&&1!=f)return!1;e["$[]="]("title",p["$[]"](1))}else c.$document().$parse_attributes(p["$[]"](1),
[],u(["sub_input","into"],{sub_input:!0,into:e}));else if((f=p["$[]"](1)["$nil_or_empty?"]())===b||f.$$is_boolean&&1!=f)if(e["$[]="]("id",p["$[]"](1)),(f=p["$[]"](2)["$nil?"]())===b||f.$$is_boolean&&1!=f)e["$[]="]("reftext",p["$[]"](2));return!0});a.defs(h,"$process_attribute_entries",function(a,d,c){var e;null==c&&(c=b);for(a.$skip_comment_lines();(e=this.$process_attribute_entry(a,d,c))!==b&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_comment_lines()});a.defs(h,"$process_attribute_entry",function(a,
c,e,h){var f,g,k=b,m=b,l=b,p=b,n=b,r=b;null==e&&(e=b);null==h&&(h=b);!1!==(f=h)&&f!==b?f:h=(g=a["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g?b:d.get("AttributeEntryRx").$match(a.$peek_line());if(!1!==h&&h!==b){k=h["$[]"](1);if(((f=(m=!1!==(g=h["$[]"](2))&&g!==b?g:"")["$empty?"]())===b||f.$$is_boolean&&1!=f)&&(f=!1!==(g=m["$end_with?"](l=d.get("LINE_CONTINUATION")))&&g!==b?g:m["$end_with?"](l=d.get("LINE_CONTINUATION_LEGACY")))!==b&&(!f.$$is_boolean||1==f))for(m=m.$chop().$rstrip();(g=a.$advance())!==
b&&(!g.$$is_boolean||1==g)&&((g=(p=a.$peek_line().$strip())["$empty?"]())===b||g.$$is_boolean&&1!=g)&&((g=n=p["$end_with?"](l))===b||g.$$is_boolean&&1!=g||(p=p.$chop().$rstrip()),r=(g=m["$end_with?"](d.get("LINE_BREAK")))===b||g.$$is_boolean&&1!=g?" ":d.get("EOL"),m=""+m+r+p,!1!==n&&n!==b););this.$store_attribute(k,m,!1!==c&&c!==b?c.$document():b,e);return!0}return!1});a.defs(h,"$store_attribute",function(a,c,e,h){var f,g=b,g=b;null==e&&(e=b);null==h&&(h=b);(f=a["$end_with?"]("!"))===b||f.$$is_boolean&&
1!=f?(f=a["$start_with?"]("!"))===b||f.$$is_boolean&&1!=f||(c=b,a=a["$[]"](t(1,-1,!1))):(c=b,a=a.$chop());a=this.$sanitize_attribute_name(a);g=!0;!1!==e&&e!==b&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==c&&c!==b&&(g=c.$chr(),"+"["$==="](g)?c=q(e.$attr("leveloffset",0).$to_i(),(!1!==(f=c["$[]"](t(1,-1,!1)))&&f!==b?f:0).$to_i()).$to_s():"-"["$==="](g)&&(c=m(e.$attr("leveloffset",0).$to_i(),(!1!==(f=c["$[]"](t(1,-1,!1)))&&f!==b?f:0).$to_i()).$to_s())),g=!1!==c&&c!==b?e.$set_attribute(a,
c):e.$delete_attribute(a));(f=!1!==g&&g!==b?h:g)===b||f.$$is_boolean&&1!=f||(!1!==c&&c!==b&&(c=e.$attributes()["$[]"](a)),d.get("Document").$$scope.get("AttributeEntry").$new(a,c).$save_to(h));return[a,c]});a.defs(h,"$resolve_list_marker",function(a,d,c,e,h){var f;null==c&&(c=0);null==e&&(e=!1);null==h&&(h=b);return(f=a["$=="]("olist")?d["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||f.$$is_boolean&&1!=f?a["$=="]("colist")?"<1>":d:this.$resolve_ordered_list_marker(d,c,e,h)});a.defs(h,"$resolve_ordered_list_marker",
function(a,c,e,h){var f,g,k,m=b,l=b,p=b,m=b;null==c&&(c=0);null==e&&(e=!1);null==h&&(h=b);m=(f=(g=d.get("ORDERED_LIST_STYLES")).$detect,f.$$p=(k=function(c){null==c&&(c=b);return d.get("OrderedListMarkerRxMap")["$[]"](c)["$=~"](a)},k.$$s=this,k),f).call(g);l=p=b;"arabic"["$==="](m)?(!1!==e&&e!==b&&(l=q(c,1),p=a.$to_i()),a="1."):"loweralpha"["$==="](m)?(!1!==e&&e!==b&&(l=q("a"["$[]"](0).$ord(),c).$chr(),p=a.$chomp(".")),a="a."):"upperalpha"["$==="](m)?(!1!==e&&e!==b&&(l=q("A"["$[]"](0).$ord(),c).$chr(),
p=a.$chomp(".")),a="A."):"lowerroman"["$==="](m)?(!1!==e&&e!==b&&(l=q(c,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](m)&&(!1!==e&&e!==b&&(l=q(c,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(f=!1!==e&&e!==b?l["$!="](p):e)===b||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: "+h.$line_info()+": list item index: expected "+l+", got "+p);return a});a.defs(h,"$is_sibling_list_item?",function(c,e,h){var f,g=b,k=b,m=b;(f=h["$is_a?"](a.get("Regexp")))===
b||f.$$is_boolean&&1!=f?(g=d.get("ListRxMap")["$[]"](e),k=h):(g=h,k=!1);return(f=m=g.$match(c))===b||f.$$is_boolean&&1!=f?!1:!1!==k&&k!==b?k["$=="](this.$resolve_list_marker(e,m["$[]"](1))):!0});a.defs(h,"$next_table",function(c,e,h){var f,g,k,m,l,p=b,n=b,r=b,w=b,u=b,x=b,C=b,y=b,E=b,B=b,P=b,C=b,p=d.get("Table").$new(e,h);(f=h["$has_key?"]("title"))===b||f.$$is_boolean&&1!=f||(f=[h.$delete("title")],g=p,g["$title="].apply(g,f),f[f.length-1],p.$assign_caption(h.$delete("caption")));(f=(g=h["$key?"]("cols"),
!1!==g&&g!==b?(n=this.$parse_col_specs(h["$[]"]("cols")))["$empty?"]()["$!"]():g))===b||f.$$is_boolean&&1!=f?r=!1:(p.$create_columns(n),r=!0);w=c.$skip_blank_lines();u=d.get("Table").$$scope.get("ParserContext").$new(c,p,h);for(x=-1;(g=c["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);){x=q(x,1);C=c.$read_line();(g=(k=(m=(l=w["$=="](0)?x["$zero?"]():w["$=="](0),!1!==l&&l!==b?h["$has_key?"]("options")["$!"]():l),!1!==m&&m!==b?(y=c.$peek_line())["$nil?"]()["$!"]():m),!1!==k&&k!==b?y["$empty?"]():
k))===b||g.$$is_boolean&&1!=g||(g=[!0],k=p,k["$has_header_option="].apply(k,g),g[g.length-1],p.$set_option("header"));u.$format()["$=="]("psv")&&((g=u["$starts_with_delimiter?"](C))===b||g.$$is_boolean&&1!=g?(k=this.$parse_cell_spec(C,"start",u.$delimiter()),g=a.to_ary(k),E=null==g[0]?b:g[0],C=null==g[1]?b:g[1],k,(g=E["$nil?"]()["$!"]())===b||g.$$is_boolean&&1!=g||u.$close_open_cell(E)):(C=C["$[]"](t(1,-1,!1)),u.$close_open_cell()));for(B=!1;(k=!1!==(m=B["$!"]())&&m!==b?m:C["$empty?"]()["$!"]())!==
b&&(!k.$$is_boolean||1==k);)if(B=!0,(k=P=u.$match_delimiter(C))===b||k.$$is_boolean&&1!=k)k=[""+u.$buffer()+C+d.get("EOL")],m=u,m["$buffer="].apply(m,k),k[k.length-1],u.$format()["$=="]("csv")&&(k=[""+u.$buffer().$rstrip()+" "],m=u,m["$buffer="].apply(m,k),k[k.length-1]),C="",(k=!1!==(m=u.$format()["$=="]("psv"))&&m!==b?m:(l=u.$format()["$=="]("csv"))?u["$buffer_has_unclosed_quotes?"]():u.$format()["$=="]("csv"))===b||k.$$is_boolean&&1!=k?u.$close_cell(!0):u.$keep_cell_open();else{if(u.$format()["$=="]("csv")){if((k=
u["$buffer_has_unclosed_quotes?"](P.$pre_match()))!==b&&(!k.$$is_boolean||1==k)){C=u.$skip_matched_delimiter(P);continue}}else if((k=P.$pre_match()["$end_with?"]("\\"))!==b&&(!k.$$is_boolean||1==k)){if((k=(C=u.$skip_matched_delimiter(P,!0))["$empty?"]())!==b&&(!k.$$is_boolean||1==k)){k=[""+u.$buffer()+d.get("EOL")];m=u;m["$buffer="].apply(m,k);k[k.length-1];u.$keep_cell_open();break}continue}u.$format()["$=="]("psv")?(m=this.$parse_cell_spec(P.$pre_match(),"end"),k=a.to_ary(m),E=null==k[0]?b:k[0],
C=null==k[1]?b:k[1],m,u.$push_cell_spec(E),k=[""+u.$buffer()+C]):k=[""+u.$buffer()+P.$pre_match()];m=u;m["$buffer="].apply(m,k);k[k.length-1];(C=P.$post_match())["$=="]("")&&(B=!1);u.$close_cell()}if((g=u["$cell_open?"]())===b||g.$$is_boolean&&1!=g)w=c.$skip_blank_lines();if((g=c["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g)(g=u["$cell_open?"]())===b||g.$$is_boolean&&1!=g||u.$close_cell(!0)}((f=!1!==(g=(k="colcount",m=p.$attributes(),!1!==(l=m["$[]"](k))&&l!==b?l:m["$[]="](k,p.$columns().$size()))["$=="](0))&&
g!==b?g:r)===b||f.$$is_boolean&&1!=f)&&p.$assign_col_widths();p.$partition_header_footer(h);return p});a.defs(h,"$parse_col_specs",function(c){var e,h,f,g,k,m=b;(e=c["$include?"](" "))===b||e.$$is_boolean&&1!=e||(c=c.$tr(" ",""));if(c["$=="](c.$to_i().$to_s()))return(e=(h=a.get("Array")).$new,e.$$p=(f=function(){return u(["width"],{width:1})},f.$$s=this,f),e).call(h,c.$to_i());m=[];(e=(g=c.$split(",",-1)).$each,e.$$p=(k=function(c){var e=k.$$s||this,h,f,g,l=b,p=b,n=b,r=b;null==c&&(c=b);if(c["$=="](""))return m["$<<"](u(["width"],
{width:1}));if((h=l=d.get("ColumnSpecRx").$match(c))===b||h.$$is_boolean&&1!=h)return b;p=u([],{});if((h=l["$[]"](2))!==b&&(!h.$$is_boolean||1==h)){f=l["$[]"](2).$split(".");h=a.to_ary(f);n=null==h[0]?b:h[0];r=null==h[1]?b:h[1];f;if((h=(f=n["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):f))!==b&&(!h.$$is_boolean||1==h))p["$[]="]("halign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((h=(f=r["$nil_or_empty?"]()["$!"](),
!1!==f&&f!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](r):f))!==b&&(!h.$$is_boolean||1==h))p["$[]="]("valign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](r))}p["$[]="]("width",(h=l["$[]"](3))===b||h.$$is_boolean&&1!=h?1:l["$[]"](3).$to_i());if((h=(f=l["$[]"](4),!1!==f&&f!==b?d.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):f))!==b&&(!h.$$is_boolean||1==h))p["$[]="]("style",d.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4)));return(h=
l["$[]"](1))===b||h.$$is_boolean&&1!=h?m["$<<"](p):(h=(f=1).$upto,h.$$p=(g=function(){return m["$<<"](p.$dup())},g.$$s=e,g),h).call(f,l["$[]"](1).$to_i())},k.$$s=this,k),e).call(g);return m});a.defs(h,"$parse_cell_spec",function(c,e,h){var f,g,k=b,m=b,l=b,p=l=k=b,n=b;null==e&&(e="start");null==h&&(h=b);k=b;m="";l=e;if("start"["$==="](l)){if((f=c["$include?"](h))===b||f.$$is_boolean&&1!=f)return[b,c];g=c.$split(h,2);f=a.to_ary(g);k=null==f[0]?b:f[0];m=null==f[1]?b:f[1];g;if((f=k=d.get("CellSpecStartRx").$match(k))===
b||f.$$is_boolean&&1!=f)return[b,c];if((f=k["$[]"](0)["$empty?"]())!==b&&(!f.$$is_boolean||1==f))return[u([],{}),m]}else if("end"["$==="](l)){if((f=k=d.get("CellSpecEndRx").$match(c))===b||f.$$is_boolean&&1!=f)return[u([],{}),c];if((f=k["$[]"](0).$lstrip()["$empty?"]())!==b&&(!f.$$is_boolean||1==f))return[u([],{}),c.$rstrip()];m=k.$pre_match()}l=u([],{});if((f=k["$[]"](1))!==b&&(!f.$$is_boolean||1==f))if(g=k["$[]"](1).$split("."),f=a.to_ary(g),p=null==f[0]?b:f[0],n=null==f[1]?b:f[1],g,p=(f=p["$nil_or_empty?"]())===
b||f.$$is_boolean&&1!=f?p.$to_i():1,n=(f=n["$nil_or_empty?"]())===b||f.$$is_boolean&&1!=f?n.$to_i():1,k["$[]"](2)["$=="]("+")){if(!p["$=="](1))l["$[]="]("colspan",p);if(!n["$=="](1))l["$[]="]("rowspan",n)}else if(k["$[]"](2)["$=="]("*")&&!p["$=="](1))l["$[]="]("repeatcol",p);if((f=k["$[]"](3))!==b&&(!f.$$is_boolean||1==f)){g=k["$[]"](3).$split(".");f=a.to_ary(g);p=null==f[0]?b:f[0];n=null==f[1]?b:f[1];g;if((f=(g=p["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](p):
g))!==b&&(!f.$$is_boolean||1==f))l["$[]="]("halign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](p));if((f=(g=n["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](n):g))!==b&&(!f.$$is_boolean||1==f))l["$[]="]("valign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](n))}if((f=(g=k["$[]"](4),!1!==g&&g!==b?d.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](k["$[]"](4)):g))!==b&&(!f.$$is_boolean||1==f))l["$[]="]("style",
d.get("Table").$$scope.get("TEXT_STYLES")["$[]"](k["$[]"](4)));return[l,m]});a.defs(h,"$parse_style_attribute",function(a,c){var e,h,f,g,k,m,p,n=b,r=b,w=b,t=b,x=b,C=b,y=r=f=b;null==c&&(c=b);n=a["$[]"]("style");r=a["$[]"](1);if((e=(h=(f=!1!==r&&r!==b)?r["$include?"](" ")["$!"]():r,!1!==h&&h!==b?d.get("Compliance").$shorthand_property_syntax():h))===b||e.$$is_boolean&&1!=e)return a["$[]="]("style",r),[r,n];w="style";t=[];x=u([],{});C=(e=(h=this).$lambda,e.$$p=(g=function(){var a=g.$$s||this,d,e,h=b;
return(d=t["$empty?"]())===b||d.$$is_boolean&&1!=d?(h=w,"role"["$==="](h)||"option"["$==="](h)?(d=w,a=x,!1!==(e=a["$[]"](d))&&e!==b?e:a["$[]="](d,[]),x["$[]"](w).$push(t.$join())):("id"["$==="](h)&&((d=x["$has_key?"]("id"))===b||d.$$is_boolean&&1!=d||a.$warn("asciidoctor: WARNING:"+((d=c["$nil?"]())===b||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),x["$[]="](w,t.$join())),t=[]):(d=w["$!="]("style"))===b||d.$$is_boolean&&1!=d?b:a.$warn("asciidoctor: WARNING:"+
((d=c["$nil?"]())===b||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" invalid empty "+w+" detected in style attribute")},g.$$s=this,g),e).call(h);(e=(f=r).$each_char,e.$$p=(k=function(a){var d,c,e,h=b;null==a&&(a=b);if((d=!1!==(c=!1!==(e=a["$=="]("."))&&e!==b?e:a["$=="]("#"))&&c!==b?c:a["$=="]("%"))===b||d.$$is_boolean&&1!=d)return t.$push(a);C.$call();h=a;return"."["$==="](h)?w="role":"#"["$==="](h)?w="id":"%"["$==="](h)?w="option":b},k.$$s=this,k),e).call(f);if(w["$=="]("style"))f=a["$[]="]("style",
r);else{C.$call();f=(e=x["$has_key?"]("style"))===b||e.$$is_boolean&&1!=e?b:a["$[]="]("style",x["$[]"]("style"));if((e=x["$has_key?"]("id"))!==b&&(!e.$$is_boolean||1==e))a["$[]="]("id",x["$[]"]("id"));if((e=x["$has_key?"]("role"))!==b&&(!e.$$is_boolean||1==e))a["$[]="]("role",l(x["$[]"]("role")," "));if((e=x["$has_key?"]("option"))!==b&&(!e.$$is_boolean||1==e))if((e=(m=r=x["$[]"]("option")).$each,e.$$p=(p=function(d){null==d&&(d=b);return a["$[]="](""+d+"-option","")},p.$$s=this,p),e).call(m),(e=
y=a["$[]"]("options"))===b||e.$$is_boolean&&1!=e)a["$[]="]("options",l(r,","));else a["$[]="]("options",l(q(r,y.$split(",")),","))}return[f,n]});a.defs(h,"$adjust_indentation!",function(a,c,e){var h,g,k,p,r,w,u,x=b,C=b,y=b;null==c&&(c=0);null==e&&(e=0);if((h=a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return b;(h=(g=n(e=e.$to_i(),0),!1!==g&&g!==b?a.$join()["$include?"](d.get("TAB")):g))===b||h.$$is_boolean&&1!=h||(x=l(" ",e),(h=(g=a)["$map!"],h.$$p=(k=function(a){var c=k.$$s||this,h,g,p,n,r,w=b;
null==a&&(a=b);if((h=a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return a;(h=a["$start_with?"](d.get("TAB")))===b||h.$$is_boolean&&1!=h||(h=(g=a)["$sub!"],h.$$p=(p=function(a){null==a&&(a=b);return l(x,a.$length())},p.$$s=c,p),h).call(g,d.get("TabIndentRx"));if((h=a["$include?"](d.get("TAB")))===b||h.$$is_boolean&&1!=h)return a;w=0;return(h=(n=a)["$gsub!"],h.$$p=(r=function(){var a=b,d=b;null==f["~"]&&(f["~"]=b);if((a=q(f["~"].$begin(0),w))["$%"](e)["$=="](0))return w=q(w,m(e,1)),x;(d=m(e,a["$%"](e)))["$=="](1)||
(w=q(w,m(d,1)));return l(" ",d)},r.$$s=c,r),h).call(n,d.get("TabRx"))},k.$$s=this,k),h).call(g));if((h=(g=!1!==c&&c!==b)?n(c=c.$to_i(),-1):c)===b||h.$$is_boolean&&1!=h)return b;C=b;(h=(g=a).$each,h.$$p=(p=function(a){var d,c=b;null==a&&(a=b);return(d=a["$empty?"]())===b||d.$$is_boolean&&1!=d?(c=m(a.$length(),a.$lstrip().$length()))["$=="](0)?(C=b,A.$v=b,A):(d=!1!==C&&C!==b?n(c,C):C)===b||d.$$is_boolean&&1!=d?C=c:b:b},p.$$s=this,p),h).call(g);c["$=="](0)?!1!==C&&C!==b&&(h=a["$map!"],h.$$p=(r=function(a){var d;
null==a&&(a=b);return(d=a["$empty?"]())===b||d.$$is_boolean&&1!=d?a["$[]"](t(C,-1,!1)):a},r.$$s=this,r),h).call(a):(y=l(" ",c),!1!==C&&C!==b?(h=a["$map!"],h.$$p=(w=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||d.$$is_boolean&&1!=d?q(y,a["$[]"](t(C,-1,!1))):a},w.$$s=this,w),h).call(a):(h=a["$map!"],h.$$p=(u=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||d.$$is_boolean&&1!=d?q(y,a):a},u.$$s=this,u),h).call(a));return b});a.defs(h,"$sanitize_attribute_name",function(a){return a.$gsub(d.get("InvalidAttributeNameCharsRx"),
"").$downcase()});return(a.defs(h,"$roman_numeral_to_int",function(a){var d,e,h,f=b,g=b;a=a.$downcase();f=u(["i","v","x"],{i:1,v:5,x:10});g=0;(d=(e=t(0,m(a.$length(),1),!1)).$each,d.$$p=(h=function(d){var e,h,k=b;null==d&&(d=b);k=f["$[]"](a["$[]"](t(d,d,!1)));return(e=(h=c(q(d,1),a.$length()),!1!==h&&h!==b?n(f["$[]"](a["$[]"](t(q(d,1),q(d,1),!1))),k):h))===b||e.$$is_boolean&&1!=e?g=q(g,k):g=m(g,k)},h.$$s=this,h),d).call(e);return g}),b)&&"roman_numeral_to_int"})(x(k,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.module,g=a.klass,m=a.hash2,e=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $uri_prefix $<< $+ $chomp".split(" "));
return function(c){(function(b,$super){function c(){}var l=c=g(b,$super,"PathResolver",c),u=l.$$proto,p=l.$$scope;u.file_separator=u._partition_path_web=u._partition_path_sys=u.working_dir=n;a.cdecl(p,"DOT",".");a.cdecl(p,"DOT_DOT","..");a.cdecl(p,"DOT_SLASH","./");a.cdecl(p,"SLASH","/");a.cdecl(p,"BACKSLASH","\\");a.cdecl(p,"DOUBLE_SLASH","//");a.cdecl(p,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);l.$attr_accessor("file_separator");l.$attr_accessor("working_dir");a.defn(l,"$initialize",function(b,c){var e;
null==b&&(b=n);null==c&&(c=n);this.file_separator=!1!==b&&b!==n?b:!1!==(e=a.get("File").$$scope.get("ALT_SEPARATOR"))&&e!==n?e:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==c&&c!==n?(e=this["$is_root?"](c))===n||e.$$is_boolean&&1!=e?a.get("File").$expand_path(c):c:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=m([],{});return this._partition_path_web=m([],{})});a.defn(l,"$is_root?",function(b){var c,e,g;return(c=b["$start_with?"](p.get("SLASH")))===n||c.$$is_boolean&&
1!=c?(c=this.file_separator["$=="](p.get("BACKSLASH"))?p.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](p.get("BACKSLASH")))===n||c.$$is_boolean&&1!=c?(c=(e=(g=a.get("RUBY_ENGINE_OPAL"),!1!==g&&g!==n?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):g),!1!==e&&e!==n?b["$start_with?"]("file:///"):e))===n||c.$$is_boolean&&1!=c?!1:!0:!0:!0});a.defn(l,"$is_unc?",function(a){return a["$start_with?"](p.get("DOUBLE_SLASH"))});a.defn(l,"$is_web_root?",function(a){return a["$start_with?"](p.get("SLASH"))});
a.defn(l,"$posixfy",function(a){var b;return(b=a["$nil_or_empty?"]())===n||b.$$is_boolean&&1!=b?(b=a["$include?"](p.get("BACKSLASH")))===n||b.$$is_boolean&&1!=b?a:a.$tr(p.get("BACKSLASH"),p.get("SLASH")):""});a.defn(l,"$expand_path",function(b){var c,e=n;c=n;b=this.$partition_path(b);c=a.to_ary(b);e=null==c[0]?n:c[0];c=null==c[1]?n:c[1];b;return this.$join_path(e,c)});a.defn(l,"$partition_path",function(a,b){var c,g=n,m=g=n,l=n;null==b&&(b=!1);if((c=g=!1!==b&&b!==n?this._partition_path_web["$[]"](a):
this._partition_path_sys["$[]"](a))!==n&&(!c.$$is_boolean||1==c))return g;g=this.$posixfy(a);m=!1!==b&&b!==n?(c=this["$is_web_root?"](g))===n||c.$$is_boolean&&1!=c?(c=g["$start_with?"](p.get("DOT_SLASH")))===n||c.$$is_boolean&&1!=c?n:p.get("DOT_SLASH"):p.get("SLASH"):(c=this["$is_root?"](g))===n||c.$$is_boolean&&1!=c?(c=g["$start_with?"](p.get("DOT_SLASH")))===n||c.$$is_boolean&&1!=c?n:p.get("DOT_SLASH"):(c=this["$is_unc?"](g))===n||c.$$is_boolean&&1!=c?(c=g["$start_with?"](p.get("SLASH")))===n||
c.$$is_boolean&&1!=c?g["$[]"](e(0,g.$index(p.get("SLASH")),!1)):p.get("SLASH"):p.get("DOUBLE_SLASH");l=g.$split(p.get("SLASH"));m["$=="](p.get("DOUBLE_SLASH"))?l=l["$[]"](e(2,-1,!1)):!1!==m&&m!==n&&l.$shift();l.$delete(p.get("DOT"));return(!1!==b&&b!==n?this._partition_path_web:this._partition_path_sys)["$[]="](a,[l,m,g])});a.defn(l,"$join_path",function(a,b){null==b&&(b=n);return!1!==b&&b!==n?""+b+q(a,p.get("SLASH")):q(a,p.get("SLASH"))});a.defn(l,"$system_path",function(b,c,e,g){var l,r,h,d=n,q=
n,w=n,u=n,x=n,z=x=w=n,y=n;null==e&&(e=n);null==g&&(g=m([],{}));!1!==e&&e!==n&&(((l=this["$is_root?"](e))===n||l.$$is_boolean&&1!=l)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+e),e=this.$posixfy(e));(l=b["$nil_or_empty?"]())===n||l.$$is_boolean&&1!=l?(r=this.$partition_path(b),l=a.to_ary(r),d=null==l[0]?n:l[0],q=null==l[1]?n:l[1],r):d=[];if((l=d["$empty?"]())!==n&&(!l.$$is_boolean||1==l))if((l=c["$nil_or_empty?"]())===n||l.$$is_boolean&&1!=l){if((l=this["$is_root?"](c))===
n||l.$$is_boolean&&1!=l)return this.$system_path(c,e,e,g);if(!1===e||e===n)return this.$expand_path(c)}else return!1!==e&&e!==n?e:this.working_dir;if(!((l=(r=!1!==q&&q!==n)?q["$!="](p.get("DOT_SLASH")):q)===n||l.$$is_boolean&&1!=l||(w=this.$join_path(d,q),(l=!1!==(r=e["$!"]())&&r!==n?r:w["$start_with?"](e))===n||l.$$is_boolean&&1!=l)))return w;c=(l=c["$nil_or_empty?"]())===n||l.$$is_boolean&&1!=l?(l=this["$is_root?"](c))===n||l.$$is_boolean&&1!=l?this.$system_path(c,e,e,g):this.$posixfy(c):!1!==e&&
e!==n?e:this.working_dir;e["$=="](c)?(r=this.$partition_path(e),l=a.to_ary(r),u=null==l[0]?n:l[0],x=null==l[1]?n:l[1],r,w=u.$dup()):(!1!==e&&e!==n?(((l=c["$start_with?"](e))===n||l.$$is_boolean&&1!=l)&&this.$raise(a.get("SecurityError"),""+(!1!==(l=g["$[]"]("target_name"))&&l!==n?l:"Start path")+" "+c+" is outside of jail: "+e+" (disallowed in safe mode)"),r=this.$partition_path(c),l=a.to_ary(r),w=null==l[0]?n:l[0],x=null==l[1]?n:l[1],r,r=this.$partition_path(e),l=a.to_ary(r),u=null==l[0]?n:l[0]):
(r=this.$partition_path(c),l=a.to_ary(r),w=null==l[0]?n:l[0]),x=null==l[1]?n:l[1],r);z=w.$dup();y=!1;(l=(r=d).$each,l.$$p=(h=function(d){var c=h.$$s||this,f;null==d&&(d=n);if(d["$=="](p.get("DOT_DOT"))){if(!1!==e&&e!==n){d=z.$length();var l=u.$length();if((f="number"===typeof d&&"number"===typeof l?d>l:d["$>"](l))===n||f.$$is_boolean&&1!=f){if((f=(!1!==n&&n!==n?n:g.$fetch("recover",!0))["$!"]())===n||f.$$is_boolean&&1!=f){if((f=y["$!"]())===n||f.$$is_boolean&&1!=f)return n;c.$warn("asciidoctor: WARNING: "+
(!1!==(f=g["$[]"]("target_name"))&&f!==n?f:"path")+" has illegal reference to ancestor of jail, auto-recovering");return y=!0}return c.$raise(a.get("SecurityError"),""+(!1!==(f=g["$[]"]("target_name"))&&f!==n?f:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)")}}return z.$pop()}return z.$push(d)},h.$$s=this,h),l).call(r);return this.$join_path(z,x)});a.defn(l,"$web_path",function(b,c){var g,l,m,r=n,h=n,d=n,q=n;null==c&&(c=n);b=this.$posixfy(b);c=this.$posixfy(c);r=
n;if((g=!1!==(l=c["$nil_or_empty?"]())&&l!==n?l:this["$is_web_root?"](b))===n||g.$$is_boolean&&1!=g)b=""+c+p.get("SLASH")+b,(g=r=p.get("Helpers").$uri_prefix(b))===n||g.$$is_boolean&&1!=g||(b=b["$[]"](e(r.$length(),-1,!1)));l=this.$partition_path(b,!0);g=a.to_ary(l);h=null==g[0]?n:g[0];d=null==g[1]?n:g[1];l;q=[];(g=(l=h).$each,g.$$p=(m=function(a){var b;null==a&&(a=n);return a["$=="](p.get("DOT_DOT"))?(b=q["$empty?"]())===n||b.$$is_boolean&&1!=b?q["$[]"](-1)["$=="](p.get("DOT_DOT"))?q["$<<"](a):q.$pop():
(b=!1!==d&&d!==n?d["$!="](p.get("DOT_SLASH")):d)===n||b.$$is_boolean&&1!=b?q["$<<"](a):n:q["$<<"](a)},m.$$s=this,m),g).call(l);return!1!==r&&r!==n?""+r+this.$join_path(q,d):this.$join_path(q,d)});return(a.defn(l,"$relative_path",function(a,b){var c,g,l=n;if((c=(g=this["$is_root?"](a),!1!==g&&g!==n?this["$is_root?"](b):g))===n||c.$$is_boolean&&1!=c)return a;c=b.$chomp(this.file_separator).$length();l="number"===typeof c?c+1:c["$+"](1);return a["$[]"](e(l,-1,!1))}),n)&&"relative_path"})(l(c,"Asciidoctor").$$scope.base,
null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="ignore";var e=a.nil,c=a.breaker,b=
a.module,A=a.klass,x=a.hash2,y=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $is_a? $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $=== $detect $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(u){u=b(u,"Asciidoctor").$$scope;(function(b,$super){function f(){}var k=f=A(b,$super,"Reader",f),m=k.$$proto,v=k.$$scope,r;m.file=m.dir=m.lines=m.process_lines=m.look_ahead=m.eof=m.unescape_next_line=m.lineno=m.path=m.source_lines=e;(function(b,$super){function c(){}var f=c=A(b,$super,"Cursor",c);f.$attr_accessor("file");f.$attr_accessor("dir");f.$attr_accessor("path");f.$attr_accessor("lineno");a.defn(f,"$initialize",function(a,b,c,h){null==b&&(b=e);null==c&&(c=e);null==h&&(h=e);
this.file=a;this.dir=b;this.path=c;return this.lineno=h});a.defn(f,"$line_info",function(){return""+this.$path()+": line "+this.$lineno()});return a.alias(f,"to_s","line_info")})(v.base,null);k.$attr_reader("file");k.$attr_reader("dir");k.$attr_reader("path");k.$attr_reader("lineno");k.$attr_reader("source_lines");k.$attr_accessor("process_lines");a.defn(k,"$initialize",function(b,d,c){var f;null==b&&(b=e);null==d&&(d=e);null==c&&(c=x(["normalize"],{normalize:!1}));if((f=d["$!"]())===e||f.$$is_boolean&&
1!=f)if((f=d["$is_a?"](a.get("String")))===e||f.$$is_boolean&&1!=f){this.file=d.$file();this.dir=d.$dir();this.path=!1!==(f=d.$path())&&f!==e?f:"<stdin>";if((f=this.file)!==e&&(!f.$$is_boolean||1==f)){if((f=this.dir)===e||f.$$is_boolean&&1!=f)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=e);if((f=d.$path())===e||f.$$is_boolean&&1!=f)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(f=d.$lineno())&&f!==e?f:1}else this.file=d,d=a.get("File").$split(this.file),
f=a.to_ary(d),this.dir=null==f[0]?e:f[0],this.path=null==f[1]?e:f[1],d,this.lineno=1;else this.file=this.dir=e,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==e?this.$prepare_lines(b,c):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1});a.defn(k,"$prepare_lines",function(b,d){var c;null==d&&(d=x([],{}));return(c=b["$is_a?"](a.get("String")))===e||c.$$is_boolean&&1!=c?(c=d["$[]"]("normalize"))===
e||c.$$is_boolean&&1!=c?b.$dup():v.get("Helpers").$normalize_lines_array(b):(c=d["$[]"]("normalize"))===e||c.$$is_boolean&&1!=c?b.$split(v.get("EOL")):v.get("Helpers").$normalize_lines_from_string(b)});a.defn(k,"$process_line",function(a){var b;(b=this.process_lines)===e||b.$$is_boolean&&1!=b||(this.look_ahead=q(this.look_ahead,1));return a});a.defn(k,"$has_more_lines?",function(){var a;return(!1!==(a=this.eof)&&a!==e?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()});a.defn(k,"$next_line_empty?",
function(){return this.$peek_line()["$nil_or_empty?"]()});a.defn(k,"$peek_line",function(a){var b,c,f=e;null==a&&(a=!1);if((b=!1!==(c=a)&&c!==e?c:n(this.look_ahead,0))===e||b.$$is_boolean&&1!=b){if((b=!1!==(c=this.eof)&&c!==e?c:this.lines["$empty?"]())===e||b.$$is_boolean&&1!=b)return(b=(f=this.$process_line(this.lines["$[]"](0)))["$!"]())===e||b.$$is_boolean&&1!=b?f:this.$peek_line();this.eof=!0;this.look_ahead=0;return e}return(b=this.unescape_next_line)===e||b.$$is_boolean&&1!=b?this.lines["$[]"](0):
this.lines["$[]"](0)["$[]"](y(1,-1,!1))});a.defn(k,"$peek_lines",function(a,b){var f,g,k,l,m,p=e,n=e;null==a&&(a=1);null==b&&(b=!0);p=this.look_ahead;n=[];(f=(g=a).$times,f.$$p=(k=function(){var a,h=e;return(a=h=(k.$$s||this).$read_line(b))===e||a.$$is_boolean&&1!=a?(c.$v=e,c):n["$<<"](h)},k.$$s=this,k),f).call(g);if((f=n["$empty?"]())===e||f.$$is_boolean&&1!=f)(f=(l=n).$reverse_each,f.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=e);return b.$unshift(a)},m.$$s=this,m),f).call(l),!1!==b&&b!==e&&
(this.look_ahead=p);return n});a.defn(k,"$read_line",function(a){var b,c,f;null==a&&(a=!1);return(b=!1!==(c=!1!==(f=a)&&f!==e?f:n(this.look_ahead,0))&&c!==e?c:this["$has_more_lines?"]())===e||b.$$is_boolean&&1!=b?e:this.$shift()});a.defn(k,"$read_lines",function(){for(var a,b=e,b=[];(a=this["$has_more_lines?"]())!==e&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b});a.alias(k,"readlines","read_lines");a.defn(k,"$read",function(){return l(this.$read_lines(),v.get("EOL"))});a.defn(k,"$advance",
function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()});a.defn(k,"$unshift_line",function(a){this.$unshift(a);return e});a.alias(k,"restore_line","unshift_line");a.defn(k,"$unshift_lines",function(a){var b,c;(b=a.$reverse_each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=e);return b.$unshift(a)},c.$$s=this,c),b).call(a);return e});a.alias(k,"restore_lines","unshift_lines");a.defn(k,"$replace_next_line",function(a){this.$advance();this.$unshift(a);return e});a.alias(k,"replace_line",
"replace_next_line");a.defn(k,"$skip_blank_lines",function(){var a,b,c=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return 0;for(c=0;!((b=f=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=f["$empty?"]())===e||b.$$is_boolean&&1!=b);)this.$advance(),c=q(c,1);return c});a.defn(k,"$skip_comment_lines",function(b){var d,c,f=e,g=e,k=e,l=e,m=e;null==b&&(b=x([],{}));if((d=this["$eof?"]())!==e&&(!d.$$is_boolean||1==d))return[];f=[];for(g=b["$[]"]("include_blank_lines");(c=k=this.$peek_line())!==
e&&(!c.$$is_boolean||1==c);)if((c=(b=!1!==g&&g!==e)?k["$empty?"]():g)===e||c.$$is_boolean&&1!=c)if((c=(b=l=k["$start_with?"]("//"),!1!==b&&b!==e?m=v.get("CommentBlockRx").$match(k):b))===e||c.$$is_boolean&&1!=c)if((b=!1!==l&&l!==e?v.get("CommentLineRx")["$=~"](k):l)===e||b.$$is_boolean&&1!=b)break;else f["$<<"](this.$shift());else f["$<<"](this.$shift()),(c=f).$push.apply(c,a.to_a(this.$read_lines_until(x(["terminator","read_last_line","skip_processing"],{terminator:m["$[]"](0),read_last_line:!0,
skip_processing:!0}))));else f["$<<"](this.$shift());return f});a.defn(k,"$skip_line_comments",function(){var a,b,c=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return[];for(c=[];!((b=f=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=v.get("CommentLineRx")["$=~"](f))===e||b.$$is_boolean&&1!=b);)c["$<<"](this.$shift());return c});a.defn(k,"$terminate",function(){this.lineno=q(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return e});a.defn(k,"$eof?",
function(){return this["$has_more_lines?"]()["$!"]()});a.alias(k,"empty?","eof?");a.defn(k,"$read_lines_until",r=function(b){var d,f,k,l,m,p=r.$$p||e,n=e,q=e,u=e,y=e,B=e,A=e,I=e,J=e,V=e,S=e;null==b&&(b=x([],{}));r.$$p=null;n=[];(d=b["$[]"]("skip_first_line"))===e||d.$$is_boolean&&1!=d||this.$advance();(d=(f=this.process_lines,!1!==f&&f!==e?b["$[]"]("skip_processing"):f))===e||d.$$is_boolean&&1!=d?q=!1:(this.process_lines=!1,q=!0);(d=u=b["$[]"]("terminator"))===e||d.$$is_boolean&&1!=d?(y=b["$[]"]("break_on_blank_lines"),
B=b["$[]"]("break_on_list_continuation")):B=y=!1;A=b["$[]"]("skip_line_comments");for(V=J=I=!1;(f=(k=V["$!"](),!1!==k&&k!==e?S=this.$read_line():k))!==e&&(!f.$$is_boolean||1==f);)if(V=function(){for(;(k=!0)!==e&&(!k.$$is_boolean||1==k);)return((k=(l=!1!==u&&u!==e)?S["$=="](u):u)===e||k.$$is_boolean&&1!=k)&&((k=(l=!1!==y&&y!==e)?S["$empty?"]():y)===e||k.$$is_boolean&&1!=k)?(k=(l=(m=!1!==B&&B!==e)?I:B,!1!==l&&l!==e?S["$=="](v.get("LIST_CONTINUATION")):l))===e||k.$$is_boolean&&1!=k?(k=(l=p!==e)?(m=a.yield1(p,
S))===c?c.$v:m:p!==e)===e||k.$$is_boolean&&1!=k?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return e}(),!1!==V&&V!==e)(f=b["$[]"]("read_last_line"))===e||f.$$is_boolean&&1!=f||(n["$<<"](S),I=!0),(f=b["$[]"]("preserve_last_line"))===e||f.$$is_boolean&&1!=f||(this.$unshift(S),J=!0);else if((f=(k=(l=!1!==A&&A!==e)?S["$start_with?"]("//"):A,!1!==k&&k!==e?v.get("CommentLineRx")["$=~"](S):k))===e||f.$$is_boolean&&1!=f)n["$<<"](S),I=!0;!1!==q&&q!==e&&(this.process_lines=!0,(d=(f=!1!==J&&J!==e)?u["$!"]():
J)===e||d.$$is_boolean&&1!=d||(this.look_ahead=g(this.look_ahead,1)));return n});a.defn(k,"$shift",function(){this.lineno=q(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=g(this.look_ahead,1));return this.lines.$shift()});a.defn(k,"$unshift",function(a){this.lineno=g(this.lineno,1);this.look_ahead=q(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)});a.defn(k,"$cursor",function(){return v.get("Cursor").$new(this.file,this.dir,this.path,this.lineno)});a.defn(k,"$line_info",function(){return""+
this.path+": line "+this.lineno});a.alias(k,"next_line_info","line_info");a.defn(k,"$prev_line_info",function(){return""+this.path+": line "+g(this.lineno,1)});a.defn(k,"$lines",function(){return this.lines.$dup()});a.defn(k,"$string",function(){return l(this.lines,v.get("EOL"))});a.defn(k,"$source",function(){return l(this.source_lines,v.get("EOL"))});return(a.defn(k,"$to_s",function(){return this.$line_info()}),e)&&"to_s"})(u.base,null);(function(b,$super){function f(){}var k=f=A(b,$super,"PreprocessorReader",
f),u=k.$$proto,v=k.$$scope,r,h,d,E;u.document=u.lineno=u.process_lines=u.look_ahead=u.skipping=u.include_stack=u.conditional_stack=u.path=u.include_processor_extensions=u.maxdepth=u.dir=u.lines=u.file=u.includes=u.unescape_next_line=e;k.$attr_reader("include_stack");k.$attr_reader("includes");a.defn(k,"$initialize",r=function(b,c,d){var f,h,g,k=e;null==c&&(c=e);null==d&&(d=e);r.$$p=null;this.document=b;a.find_super_dispatcher(this,"initialize",r,null).apply(this,[c,d,x(["normalize"],{normalize:!0})]);
k=b.$attributes().$fetch("max-include-depth",64).$to_i();(f="number"===typeof k?0>k:k["$<"](0))===e||f.$$is_boolean&&1!=f||(k=0);this.maxdepth=x(["abs","rel"],{abs:k,rel:k});this.include_stack=[];this.includes=(f="includes",h=b.$references(),!1!==(g=h["$[]"](f))&&g!==e?g:h["$[]="](f,[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=e});a.defn(k,"$prepare_lines",h=function(b,c){var d,f,g,k=h.$$p,m=e,p=e,n=e,r=e,u=m=e;null==c&&(c=x([],{}));h.$$p=null;m=[];for(u=
0;u<arguments.length;u++)m[u]=arguments[u];m=a.find_super_dispatcher(this,"prepare_lines",h,k).apply(this,m);if(!((d=(f=this.document,!1!==f&&f!==e?this.document.$attributes()["$has_key?"]("skip-front-matter"):f))===e||d.$$is_boolean&&1!=d||(d=p=this["$skip_front_matter!"](m))===e||d.$$is_boolean&&1!=d))this.document.$attributes()["$[]="]("front-matter",l(p,v.get("EOL")));if((d=c.$fetch("condense",!0))!==e&&(!d.$$is_boolean||1==d)){for(;(f=(g=n=m["$[]"](0),!1!==g&&g!==e?n["$empty?"]():g))!==e&&(!f.$$is_boolean||
1==f);)f=m.$shift(),!1!==f&&f!==e?this.lineno=q(this.lineno,1):f;for(;(f=(g=r=m["$[]"](-1),!1!==g&&g!==e?r["$empty?"]():g))!==e&&(!f.$$is_boolean||1==f);)m.$pop()}if((d=c["$[]"]("indent"))!==e&&(!d.$$is_boolean||1==d))v.get("Parser")["$adjust_indentation!"](m,c["$[]"]("indent"),this.document.$attr("tabsize"));return m});a.defn(k,"$process_line",function(b){var d,c,f,h,g=e,k=e;if((d=this.process_lines)===e||d.$$is_boolean&&1!=d)return b;if((d=b["$empty?"]())!==e&&(!d.$$is_boolean||1==d))return this.look_ahead=
q(this.look_ahead,1),"";if((d=(c=(f=b["$end_with?"]("]"),!1!==f&&f!==e?b["$start_with?"]("[")["$!"]():f),!1!==c&&c!==e?b["$include?"]("::"):c))===e||d.$$is_boolean&&1!=d){if((d=this.skipping)===e||d.$$is_boolean&&1!=d)return this.look_ahead=q(this.look_ahead,1),b;this.$advance();return e}if((d=(c=b["$include?"]("if"),!1!==c&&c!==e?g=v.get("ConditionalDirectiveRx").$match(b):c))===e||d.$$is_boolean&&1!=d){if((d=this.skipping)===e||d.$$is_boolean&&1!=d)return(d=(f=!1!==(h=k=b["$start_with?"]("\\include::"))&&
h!==e?h:b["$start_with?"]("include::"),!1!==f&&f!==e?g=v.get("IncludeDirectiveRx").$match(b):f))===e||d.$$is_boolean&&1!=d?(this.look_ahead=q(this.look_ahead,1),b):!1!==k&&k!==e?(this.unescape_next_line=!0,this.look_ahead=q(this.look_ahead,1),b["$[]"](y(1,-1,!1))):(d=this.$preprocess_include(g["$[]"](1),g["$[]"](2).$strip()))===e||d.$$is_boolean&&1!=d?(this.look_ahead=q(this.look_ahead,1),b):e;this.$advance();return e}if((d=b["$start_with?"]("\\"))===e||d.$$is_boolean&&1!=d){if((d=(c=this).$preprocess_conditional_inclusion.apply(c,
a.to_a(g.$captures())))===e||d.$$is_boolean&&1!=d)return this.look_ahead=q(this.look_ahead,1),b;this.$advance();return e}this.unescape_next_line=!0;this.look_ahead=q(this.look_ahead,1);return b["$[]"](y(1,-1,!1))});a.defn(k,"$peek_line",d=function(b){var c,f=d.$$p,h=e,g=h=e;null==b&&(b=!1);d.$$p=null;h=[];for(g=0;g<arguments.length;g++)h[g]=arguments[g];return(c=h=a.find_super_dispatcher(this,"peek_line",d,f).apply(this,h))===e||c.$$is_boolean&&1!=c?(c=this.include_stack["$empty?"]())===e||c.$$is_boolean&&
1!=c?(this.$pop_include(),this.$peek_line(b)):e:h});a.defn(k,"$preprocess_conditional_inclusion",function(a,b,d,c){var f,h,g,k,l,m,p,r,q,u,y=e,B=y=e,E=e,A=E=B=y=e,B=e;if((f=!1!==(h=(g=!1!==(k=a["$=="]("ifdef"))&&k!==e?k:a["$=="]("ifndef"),!1!==g&&g!==e?b["$empty?"]():g))&&h!==e?h:(g=a["$=="]("endif"))?c:a["$=="]("endif"))!==e&&(!f.$$is_boolean||1==f))return!1;b=b.$downcase();if(a["$=="]("endif"))return y=this.conditional_stack.$size(),(f=n(y,0))===e||f.$$is_boolean&&1!=f?this.$warn("asciidoctor: ERROR: "+
this.$line_info()+": unmatched macro: endif::"+b+"[]"):(y=this.conditional_stack["$[]"](-1),(f=!1!==(h=b["$empty?"]())&&h!==e?h:b["$=="](y["$[]"]("target")))===e||f.$$is_boolean&&1!=f?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+y["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(f=this.conditional_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)),!0;B=!1;if((f=this.skipping)===
e||f.$$is_boolean&&1!=f)if(E=a,"ifdef"["$==="](E))E=d,e["$==="](E)?B=this.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](E)?B=(f=(h=b.$split(",")).$detect,f.$$p=(l=function(a){var b=l.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},l.$$s=this,l),f).call(h)["$!"]():"+"["$==="](E)&&(B=(f=(g=b.$split("+")).$detect,f.$$p=(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},
m.$$s=this,m),f).call(g));else if("ifndef"["$==="](E))E=d,e["$==="](E)?B=this.document.$attributes()["$has_key?"](b):","["$==="](E)?B=(f=(k=b.$split(",")).$detect,f.$$p=(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},p.$$s=this,p),f).call(k)["$!"]():"+"["$==="](E)&&(B=(f=(r=b.$split("+")).$detect,f.$$p=(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},
q.$$s=this,q),f).call(r));else if("ifeval"["$==="](E)){if((f=!1!==(u=b["$empty?"]()["$!"]())&&u!==e?u:(y=v.get("EvalExpressionRx").$match(c.$strip()))["$!"]())!==e&&(!f.$$is_boolean||1==f))return!1;B=this.$resolve_expr_val(y["$[]"](1));E=this.$resolve_expr_val(y["$[]"](3));B=(A=y["$[]"](2))["$=="]("!=")?B.$send("==",E):B.$send(A.$to_sym(),E)["$!"]()}if((f=!1!==(u=a["$=="]("ifeval"))&&u!==e?u:c["$!"]())!==e&&(!f.$$is_boolean||1==f))!1!==B&&B!==e&&(this.skipping=!0),this.conditional_stack["$<<"](x(["target",
"skip","skipping"],{target:b,skip:B,skipping:this.skipping}));else if((f=!1!==(u=this.skipping)&&u!==e?u:B)===e||f.$$is_boolean&&1!=f)B=this.$peek_line(!0),this.$replace_next_line(c.$rstrip()),this.$unshift(B);return!0});a.defn(k,"$preprocess_include",function(b,d){var f,h,k,p,r,u,y,B,E,A=e,V=e,S=e,L=e,W=e,N=e,K=e,U=e,Z=e,ca=e,R=e,ea=e,X=e,D=e,fa=e,G=e;if((f=(A=this.document.$sub_attributes(b,x(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===e||f.$$is_boolean&&1!=f){if((f=
(h=this["$include_processors?"](),!1!==h&&h!==e?V=(k=(p=this.include_processor_extensions).$find,k.$$p=(r=function(a){null==a&&(a=e);return a.$instance()["$handles?"](A)},r.$$s=this,r),k).call(p):h))===e||f.$$is_boolean&&1!=f){if((f=m(this.document.$safe(),v.get("SafeMode").$$scope.get("SECURE")))===e||f.$$is_boolean&&1!=f){if((f=(h=n(S=this.maxdepth["$[]"]("abs"),0),!1!==h&&h!==e?m(this.include_stack.$size(),S):h))===e||f.$$is_boolean&&1!=f){if((f=n(S,0))===e||f.$$is_boolean&&1!=f)return!1;if((f=
a.get("RUBY_ENGINE_OPAL"))===e||f.$$is_boolean&&1!=f)if((f=v.get("Helpers")["$uriish?"](A))===e||f.$$is_boolean&&1!=f){L="file";W=this.document.$normalize_system_path(A,this.dir,e,x(["target_name"],{target_name:"include file"}));if((f=a.get("File")["$file?"](W))===e||f.$$is_boolean&&1!=f)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+W),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+A+"["+d+"]"),!0;N=v.get("PathResolver").$new().$relative_path(W,
this.document.$base_dir())}else{if((f=this.document.$attributes()["$has_key?"]("allow-uri-read"))===e||f.$$is_boolean&&1!=f)return this.$replace_next_line("link:"+A+"[]"),!0;L="uri";W=N=A;if((f=this.document.$attributes()["$has_key?"]("cache-uri"))===e||f.$$is_boolean&&1!=f)(f=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||f.$$is_boolean&&1!=f||a.get("OpenURI");else{var T;try{T=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":e}catch(ja){if(ja.$$class===a.NameError)T=e;else throw ja;}((f=T)===e||f.$$is_boolean&&
1!=f)&&v.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}}else L="file",W=N=(f=this.include_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?a.get("File").$join(this.dir,A):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?A:a.get("File").$join(this.dir,A);U=K=e;Z=x([],{});(f=d["$empty?"]()["$!"]())===e||f.$$is_boolean&&1!=f||(Z=v.get("AttributeList").$new(d).$parse(),(f=Z["$has_key?"]("lines"))===e||f.$$is_boolean&&1!=f?(f=Z["$has_key?"]("tag"))===e||f.$$is_boolean&&1!=f?(f=
Z["$has_key?"]("tags"))===e||f.$$is_boolean&&1!=f||(U=Z["$[]"]("tags").$split(v.get("DataDelimiterRx")).$to_set()):U=[Z["$[]"]("tag")].$to_set():(K=[],(f=(h=Z["$[]"]("lines").$split(v.get("DataDelimiterRx"))).$each,f.$$p=(u=function(b){var d,c,f,h=e,g=e;null==b&&(b=e);if((d=b["$include?"](".."))===e||d.$$is_boolean&&1!=d)return K["$<<"](b.$to_i());b=(c=(f=b.$split("..",2)).$map,c.$$p="to_i".$to_proc(),c).call(f);d=a.to_ary(b);h=null==d[0]?e:d[0];g=null==d[1]?e:d[1];b;return g["$=="](-1)?(K["$<<"](h),
K["$<<"](1/0)):K.$concat(a.get("Range").$new(h,g).$to_a())},u.$$s=this,u),f).call(h),K=K.$sort().$uniq()));if(!1!==K&&K!==e){if((f=K["$empty?"]())===e||f.$$is_boolean&&1!=f){ca=[];ea=R=0;try{(f=(k=this).$open,f.$$p=(y=function(b){var d=y.$$s||this,f,h,g;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(g=function(d){var f,h,g=e;null==d&&(d=e);ea=q(ea,1);g=K["$[]"](0);if((f=(h=g["$is_a?"](a.get("Float")),!1!==h&&h!==e?g["$infinite?"]():h))===e||f.$$is_boolean&&1!=f)return b.$lineno()["$=="](g)&&(ca.$push(d),
R["$=="](0)&&(R=ea),K.$shift()),(f=K["$empty?"]())===e||f.$$is_boolean&&1!=f?e:(c.$v=e,c);ca.$push(d);return R["$=="](0)?R=ea:e},g.$$s=d,g),f).call(h)},y.$$s=this,y),f).call(k,W,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+L+" not readable: "+W),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+A+"["+d+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.$advance();this.$push_include(ca,W,N,R,Z)}}else if(!1!==U&&U!==
e){if((f=U["$empty?"]())===e||f.$$is_boolean&&1!=f){ca=[];ea=R=0;X=e;D=a.get("Set").$new();try{(f=this.$open,f.$$p=(B=function(b){var d=B.$$s||this,f,h,g;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(g=function(b){var d=g.$$s||this,f,h,k,l=e;null==b&&(b=e);ea=q(ea,1);(f=v.get("FORCE_ENCODING"))===e||f.$$is_boolean&&1!=f||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));b=b.$rstrip();l=b.$chomp("--\x3e").$rstrip();return!1!==X&&X!==e?(f=l["$end_with?"]("end::"+X+"[]"))===e||f.$$is_boolean&&
1!=f?(((f=(h=l["$end_with?"]("[]"),!1!==h&&h!==e?v.get("TagDirectiveRx")["$=~"](l):h))===e||f.$$is_boolean&&1!=f)&&ca.$push(b),R["$=="](0)?R=ea:e):X=e:(f=(h=l["$end_with?"]("[]"),!1!==h&&h!==e?v.get("TagDirectiveRx")["$=~"](l):h))===e||f.$$is_boolean&&1!=f?e:(f=(h=U).$each,f.$$p=(k=function(a){var b;null==a&&(a=e);if((b=l["$end_with?"]("tag::"+a+"[]"))===e||b.$$is_boolean&&1!=b)return e;X=a;D["$<<"](a);return c.$v=e,c},k.$$s=d,k),f).call(h)},g.$$s=d,g),f).call(h)},B.$$s=this,B),f).call(this,W,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+
this.$line_info()+": include "+L+" not readable: "+W),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+A+"["+d+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}((f=(fa=g(U.$to_a(),D.$to_a()))["$empty?"]())===e||f.$$is_boolean&&1!=f)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+((f=n(fa.$size(),1))===e||f.$$is_boolean&&1!=f?e:"s")+" '"+l(fa,",")+"' not found in include "+L+": "+W);this.$advance();this.$push_include(ca,W,N,R,Z)}}else try{G=(f=this.$open,
f.$$p=(E=function(a){null==a&&(a=e);return a.$read()},E.$$s=this,E),f).call(this,W,"r"),this.$advance(),this.$push_include(G,W,N,1,Z)}catch(ja){try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+L+" not readable: "+W),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+A+"["+d+"]")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return!0}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded");
return!1}this.$replace_next_line("link:"+A+"[]");return!0}this.$advance();V.$process_method()["$[]"](this.document,this,A,v.get("AttributeList").$new(d).$parse());return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",v.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+b+"["+d+"]");return!0});a.defn(k,"$push_include",function(b,d,c,f,h){var k,l=e,m=e;null==d&&(d=e);null==c&&(c=e);null==f&&(f=1);null==
h&&(h=x([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==d&&d!==e?(this.file=d,this.dir=v.get("File").$dirname(d),this.process_lines=v.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):(this.file=e,this.dir=".",this.process_lines=!0);!1!==c&&c!==e?(this.includes["$<<"](v.get("Helpers").$rootname(c)),d=c):d="<stdin>";this.path=d;this.lineno=f;(k=h["$has_key?"]("depth"))===e||k.$$is_boolean&&1!=k||(l=h["$[]"]("depth").$to_i(),
(k="number"===typeof l?0>=l:l["$<="](0))===e||k.$$is_boolean&&1!=k||(l=1),this.maxdepth=x(["abs","rel"],{abs:q(g(this.include_stack.$size(),1),l),rel:l}));(k=(this.lines=this.$prepare_lines(b,x(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:h["$[]"]("indent")})))["$empty?"]())===e||k.$$is_boolean&&1!=k?((k=h["$has_key?"]("leveloffset"))===e||k.$$is_boolean&&1!=k||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+h["$[]"]("leveloffset")),this.lines.$push(""),(k=m=this.document.$attr("leveloffset"))===
e||k.$$is_boolean&&1!=k?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+m),this.lineno=g(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return e});a.defn(k,"$pop_include",function(){var b,d;(b=n(this.include_stack.$size(),0))===e||b.$$is_boolean&&1!=b||(d=this.include_stack.$pop(),b=a.to_ary(d),this.lines=null==b[0]?e:b[0],this.file=null==b[1]?e:b[1],this.dir=null==b[2]?e:b[2],this.path=null==b[3]?e:b[3],this.lineno=null==b[4]?e:b[4],this.maxdepth=null==b[5]?
e:b[5],this.process_lines=null==b[6]?e:b[6],d,this.eof=this.lines["$empty?"](),this.look_ahead=0);return e});a.defn(k,"$include_depth",function(){return this.include_stack.$size()});a.defn(k,"$exceeded_max_depth?",function(){var a,b,d=e;return(a=(b=n(d=this.maxdepth["$[]"]("abs"),0),!1!==b&&b!==e?m(this.include_stack.$size(),d):b))===e||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")});a.defn(k,"$shift",E=function(){var b,d=E.$$p,c=e,f=e;E.$$p=null;c=[];for(f=0;f<arguments.length;f++)c[f]=arguments[f];
if((b=this.unescape_next_line)===e||b.$$is_boolean&&1!=b)return a.find_super_dispatcher(this,"shift",E,d).apply(this,c);this.unescape_next_line=!1;return a.find_super_dispatcher(this,"shift",E,d).apply(this,c)["$[]"](y(1,-1,!1))});a.defn(k,"$skip_front_matter!",function(b,d){var c,f,h,g=e,k=e;null==d&&(d=!0);g=e;if(b["$[]"](0)["$=="]("---")){k=b.$dup();g=[];b.$shift();!1!==d&&d!==e&&(this.lineno=q(this.lineno,1));for(;(f=(h=b["$empty?"]()["$!"](),!1!==h&&h!==e?b["$[]"](0)["$!="]("---"):h))!==e&&(!f.$$is_boolean||
1==f);)g.$push(b.$shift()),!1!==d&&d!==e&&(this.lineno=q(this.lineno,1));(c=b["$empty?"]())===e||c.$$is_boolean&&1!=c?(b.$shift(),!1!==d&&d!==e&&(this.lineno=q(this.lineno,1))):((c=b).$unshift.apply(c,a.to_a(k)),!1!==d&&d!==e&&(this.lineno=0),g=e)}return g});a.defn(k,"$resolve_expr_val",function(a){var b,d,c,f=e;(b=!1!==(d=(c=a["$start_with?"]('"'),!1!==c&&c!==e?a["$end_with?"]('"'):c))&&d!==e?d:(c=a["$start_with?"]("'"),!1!==c&&c!==e?a["$end_with?"]("'"):c))===e||b.$$is_boolean&&1!=b?f=!1:(f=!0,
a=a["$[]"](y(1,-1,!0)));(b=a["$include?"]("{"))===e||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,x(["attribute_missing"],{attribute_missing:"drop"})));return!1!==f&&f!==e?a:(b=a["$empty?"]())===e||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===e||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===e||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":e});a.defn(k,"$include_processors?",function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===
e||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==e?this.document.$extensions()["$include_processors?"]():b))===e||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()});return(a.defn(k,"$to_s",function(){var a,b,d;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+
this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(d=function(a){null==a&&(a=e);return a.$to_s()},d.$$s=this,d),a).call(b).$join(", ")+"]}>"}),e)&&"to_s"})(u.base,u.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.module,m=a.klass,e=a.hash2,c=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
return function(b){b=g(b,"Asciidoctor").$$scope;(function(b,$super){function g(){}var u=g=m(b,$super,"Section",g),p=u.$$proto,t=u.$$scope,f,k,B;p.level=p.document=p.parent=p.number=p.title=p.numbered=p.blocks=l;u.$attr_accessor("index");u.$attr_accessor("number");u.$attr_accessor("sectname");u.$attr_accessor("special");u.$attr_accessor("numbered");a.defn(u,"$initialize",f=function(b,c,h,d){null==b&&(b=l);null==c&&(c=l);null==h&&(h=!0);null==d&&(d=e([],{}));f.$$p=null;a.find_super_dispatcher(this,
"initialize",f,null).apply(this,[b,"section",d]);this.level=!1!==c&&c!==l?c:!1!==b&&b!==l?q(b.$level(),1):1;this.numbered=(c=!1!==h&&h!==l)?n(this.level,0):h;this.special=(c=!1!==b&&b!==l?b.$context()["$=="]("section"):b,!1!==c&&c!==l?b.$special():c);this.index=0;return this.number=1});a.alias(u,"name","title");a.defn(u,"$generate_id",function(){var a,b,e=l,d=l,f=l,g=d=l;if((a=this.document.$attributes()["$has_key?"]("sectids"))===l||a.$$is_boolean&&1!=a)return l;e=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&
a!==l?a:"_";d=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==l?a:"_";f=""+d+this.$title().$downcase().$gsub(t.get("InvalidSectionIdCharsRx"),e).$tr_s(e,e).$chomp(e);if((a=(b=d["$empty?"](),!1!==b&&b!==l?f["$start_with?"](e):b))!==l&&(!a.$$is_boolean||1==a))for(f=f["$[]"](c(1,-1,!1));(b=f["$start_with?"](e))!==l&&(!b.$$is_boolean||1==b);)f=f["$[]"](c(1,-1,!1));d=f;for(g=t.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](d))!==l&&(!b.$$is_boolean||
1==b);)d=""+f+e+g,g=q(g,1);return d});a.defn(u,"$sectnum",function(a,b){var c,d,e,f;null==a&&(a=".");null==b&&(b=l);!1!==(c=b)&&c!==l?c:b=b["$=="](!1)?"":a;return(c=(d=(e=(f=this.level,!1!==f&&f!==l?n(this.level,1):f),!1!==e&&e!==l?this.parent:e),!1!==d&&d!==l?this.parent.$context()["$=="]("section"):d))===l||c.$$is_boolean&&1!=c?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b});a.defn(u,"$<<",k=function(b){var c=k.$$p,e=l,d=l;k.$$p=null;e=[];for(d=0;d<arguments.length;d++)e[d]=arguments[d];
b.$context()["$=="]("section")&&this.$assign_index(b);return a.find_super_dispatcher(this,"<<",k,c).apply(this,e)});return(a.defn(u,"$to_s",B=function(){var b,c=B.$$p,e=l,d=e=l;B.$$p=null;e=[];for(d=0;d<arguments.length;d++)e[d]=arguments[d];if((b=this.title["$!="](l))===l||b.$$is_boolean&&1!=b)return a.find_super_dispatcher(this,"to_s",B,c).apply(this,e);e=(b=this.numbered)===l||b.$$is_boolean&&1!=b?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+
this.level+", title: "+e.$inspect()+", blocks: "+this.blocks.$size()+"}>"}),l)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var q=a.nil,n=a.module,l=a.klass,g=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(m){(function(e,$super){function b(){}var m=b=l(e,$super,"Stylesheets",b),n=m.$$proto,y=m.$$scope;n.primary_stylesheet_data=
n.coderay_stylesheet_data=n.pygments_stylesheet_data=q;a.cdecl(y,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(y,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(y,"STYLESHEETS_DATA_PATH",a.get("File").$join(y.get("DATA_PATH"),"stylesheets"));m.__instance__=m.$new();a.defs(m,"$instance",function(){null==this.__instance__&&(this.__instance__=q);return this.__instance__});a.defn(m,"$primary_stylesheet_name",function(){return y.get("DEFAULT_STYLESHEET_NAME")});a.defn(m,"$primary_stylesheet_data",function(){var b;
return!1!==(b=this.primary_stylesheet_data)&&b!==q?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(y.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()});a.defn(m,"$embed_primary_stylesheet",function(){return"<style>\r\n"+this.$primary_stylesheet_data()+"\r\n</style>"});a.defn(m,"$write_primary_stylesheet",function(b){var e,g,f;return(e=(g=a.get("File")).$open,e.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=q);return a.$write(b.$primary_stylesheet_data())},f.$$s=
this,f),e).call(g,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")});a.defn(m,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"});a.defn(m,"$coderay_stylesheet_data",function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==q?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(y.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()});a.defn(m,"$embed_coderay_stylesheet",function(){return"<style>\r\n"+this.$coderay_stylesheet_data()+
"\r\n</style>"});a.defn(m,"$write_coderay_stylesheet",function(b){var e,g,f;return(e=(g=a.get("File")).$open,e.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=q);return a.$write(b.$coderay_stylesheet_data())},f.$$s=this,f),e).call(g,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")});a.defn(m,"$pygments_stylesheet_name",function(a){var b;null==a&&(a=q);return"pygments-"+(!1!==(b=a)&&b!==q?b:y.get("DEFAULT_PYGMENTS_STYLE"))+".css"});a.defn(m,"$pygments_stylesheet_data",function(a){var b;
return(b=this.$load_pygments())===q||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":!1!==(b=this.pygments_stylesheet_data)&&b!==q?b:this.pygments_stylesheet_data=g([],{})});a.defn(m,"$embed_pygments_stylesheet",function(a){null==a&&(a=q);return"<style>\r\n"+this.$pygments_stylesheet_data(a)+"\r\n</style>"});a.defn(m,"$write_pygments_stylesheet",function(b,e){var g,f,k;null==e&&(e=q);return(g=(f=a.get("File")).$open,g.$$p=(k=function(a){var b=k.$$s||this;null==a&&
(a=q);return a.$write(b.$pygments_stylesheet_data(e))},k.$$s=this,k),g).call(f,a.get("File").$join(b,this.$pygments_stylesheet_name(e)),"w")});return(a.defn(m,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?q:"constant")===q||b.$$is_boolean&&1!=b?y.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0}),q)&&"load_pygments"})(n(m,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.nil,c=a.module,b=a.klass,
A=a.hash2,x=a.range;a.add_stubs("$attr_accessor $new $key? $[] $abs $to_i $== $!= $> $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_col_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cell_spec $cell_open? $close_cell $advance $take_cell_spec $fetch $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_col_visits".split(" "));
return function(y){y=c(y,"Asciidoctor").$$scope;(function(c,$super){function t(){}var f=t=b(c,$super,"Table",t),k=f.$$proto,x=f.$$scope,v;k.attributes=k.document=k.has_header_option=k.rows=k.columns=e;(function(c,$super){function d(){}var e=d=b(c,$super,"Rows",d);e.$attr_accessor("head","foot","body");a.defn(e,"$initialize",function(a,b,d){null==a&&(a=[]);null==b&&(b=[]);null==d&&(d=[]);this.head=a;this.foot=b;return this.body=d});return a.alias(e,"[]","send")})(x.base,null);a.cdecl(x,"DEFAULT_DATA_FORMAT",
"psv");a.cdecl(x,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(x,"DEFAULT_DELIMITERS",A(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(x,"TEXT_STYLES",A("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(x,"ALIGNMENTS",A(["h","v"],{h:A(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:A(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));f.$attr_accessor("columns");f.$attr_accessor("rows");f.$attr_accessor("has_header_option");
a.defn(f,"$initialize",v=function(b,c){var d,f,g,k=e,m=e;v.$$p=null;a.find_super_dispatcher(this,"initialize",v,null).apply(this,[b,"table"]);this.rows=x.get("Rows").$new();this.columns=[];this.has_header_option=c["$key?"]("header-option");k=c["$[]"]("width");m=k.$to_i().$abs();(d=!1!==(f=(g=m["$=="](0))?k["$!="]("0"):m["$=="](0))&&f!==e?f:q(m,100))===e||d.$$is_boolean&&1!=d||(m=100);this.attributes["$[]="]("tablepcwidth",m);return(d=this.document.$attributes()["$key?"]("pagewidth"))===e||d.$$is_boolean&&
1!=d?e:(d="tableabswidth",f=this.attributes,!1!==(g=f["$[]"](d))&&g!==e?g:f["$[]="](d,n(l(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()))});a.defn(f,"$header_row?",function(){var a;return a=this.has_header_option,!1!==a&&a!==e?this.rows.$body()["$empty?"]():a});a.defn(f,"$create_columns",function(a){var b,d,c=e,f=e,c=[],f=0;(b=a.$each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);f=g(f,a["$[]"]("width"));return c["$<<"](x.get("Column").$new(b,
c.$size(),a))},d.$$s=this,d),b).call(a);if((b=(this.columns=c)["$empty?"]())===e||b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",c.$size()),this.$assign_col_widths(f["$=="](0)?e:f);return e});a.defn(f,"$assign_col_widths",function(a){var b,d,c,f,k,q=e,t=e,v=e;null==a&&(a=e);q=10["$**"](4);t=v=0;!1!==a&&a!==e?(b=(d=this.columns).$each,b.$$p=(c=function(b){null==b&&(b=e);return t=g(t,v=b.$assign_width(e,a,q))},c.$$s=this,c),b).call(d):(v=l(l(n(100,q),this.columns.$size()).$to_i(),q),v.$to_i()["$=="](v)&&
(v=v.$to_i()),(b=(f=this.columns).$each,b.$$p=(k=function(a){null==a&&(a=e);return t=g(t,a.$assign_width(v))},k.$$s=this,k),b).call(f));t["$=="](100)||this.columns["$[]"](-1).$assign_width(l(n(g(m(100,t),v),q).$round(),q));return e});return(a.defn(f,"$partition_header_footer",function(a){var b,d,c,f,g=e,k=e;this.attributes["$[]="]("rowcount",this.rows.$body().$size());g=this.rows.$body().$size();(b=(d=q(g,0),!1!==d&&d!==e?this.has_header_option:d))===e||b.$$is_boolean&&1!=b||(k=this.rows.$body().$shift(),
g=m(g,1),(b=(d=k).$each,b.$$p=(c=function(a){var b,d;null==a&&(a=e);return b=[e],d=a,d["$style="].apply(d,b),b[b.length-1]},c.$$s=this,c),b).call(d),b=[[k]],f=this.rows,f["$head="].apply(f,b),b[b.length-1]);(b=(f=q(g,0),!1!==f&&f!==e?a["$key?"]("footer-option"):f))===e||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],f=this.rows,f["$foot="].apply(f,b),b[b.length-1]);return e}),e)&&"partition_header_footer"})(y.base,y.get("AbstractBlock"));(function(c,$super){function m(){}var f=m=b(c,$super,
"Column",m),k;f.$$proto.attributes=e;f.$attr_accessor("style");a.defn(f,"$initialize",k=function(b,c,f){var h;null==f&&(f=A([],{}));k.$$p=null;a.find_super_dispatcher(this,"initialize",k,null).apply(this,[b,"column"]);this.style=f["$[]"]("style");f["$[]="]("colnumber",g(c,1));b="width";c=f;!1!==(h=c["$[]"](b))&&h!==e?h:c["$[]="](b,1);b="halign";c=f;!1!==(h=c["$[]"](b))&&h!==e?h:c["$[]="](b,"left");b="valign";c=f;!1!==(h=c["$[]"](b))&&h!==e?h:c["$[]="](b,"top");return this.$update_attributes(f)});
a.alias(f,"table","parent");return(a.defn(f,"$assign_width",function(a,b,c){var f;null==b&&(b=e);null==c&&(c=1E4);!1!==b&&b!==e&&(a=l(n(n(l(this.attributes["$[]"]("width").$to_f(),b),100),c).$to_i(),c),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((f=this.$parent().$attributes()["$key?"]("tableabswidth"))!==e&&(!f.$$is_boolean||1==f))this.attributes["$[]="]("colabswidth",n(l(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a}),e)&&"assign_width"})(y.get("Table"),
y.get("AbstractNode"));(function(c,$super){function g(){}var f=g=b(c,$super,"Cell",g),k=f.$$proto,l=f.$$scope,m,n;k.style=k.document=k.text=k.inner_document=k.colspan=k.rowspan=k.attributes=e;f.$attr_accessor("style");f.$attr_accessor("colspan");f.$attr_accessor("rowspan");a.alias(f,"column","parent");f.$attr_reader("inner_document");a.defn(f,"$initialize",m=function(b,c,f,g){var k,n=e,r=e,q=e,t=e;null==f&&(f=A([],{}));null==g&&(g=e);m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,
[b,"cell"]);this.text=c;this.rowspan=this.colspan=this.style=e;!1!==b&&b!==e&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==f&&f!==e&&(this.colspan=f.$delete("colspan"),this.rowspan=f.$delete("rowspan"),(k=f["$key?"]("style"))===e||k.$$is_boolean&&1!=k||(this.style=f["$[]"]("style")),this.$update_attributes(f));if((k=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===e||k.$$is_boolean&&1!=k)return e;
n=this.document.$attributes().$delete("doctitle");r=this.text.$split(l.get("EOL"));if((k=!1!==(c=r["$empty?"]())&&c!==e?c:r["$[]"](0)["$include?"]("::")["$!"]())===e||k.$$is_boolean&&1!=k)q=r["$[]"](0),t=l.get("PreprocessorReader").$new(this.document,q).$readlines(),(k=t["$!="](q))===e||k.$$is_boolean&&1!=k||(r.$shift(),(k=r).$unshift.apply(k,a.to_a(t)));this.inner_document=l.get("Document").$new(r,A(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:g}));return(c=n["$nil?"]())===
e||c.$$is_boolean&&1!=c?this.document.$attributes()["$[]="]("doctitle",n):e});a.defn(f,"$text",function(){return this.$apply_normal_subs(this.text).$strip()});a.defn(f,"$content",function(){var a,b,c;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(b=this.$text().$split(l.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b=c.$$s||this,d,f;null==b.style&&(b.style=e);null==a&&(a=e);return(d=!1!==(f=b.style["$!"]())&&f!==e?f:b.style["$=="]("header"))===e||d.$$is_boolean&&1!=d?
l.get("Inline").$new(b.$parent(),"quoted",a,A(["type"],{type:b.style})).$convert():a},c.$$s=this,c),a).call(b)});return(a.defn(f,"$to_s",n=function(){var b,c=n.$$p,f=e,g=e;n.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];return""+a.find_super_dispatcher(this,"to_s",n,c).apply(this,f).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(b=this.colspan)&&b!==e?b:1)+", rowspan: "+(!1!==(b=this.rowspan)&&b!==e?b:1)+", attributes: "+this.attributes+"]"}),e)&&"to_s"})(y.get("Table"),y.get("AbstractNode"));
(function(c,$super){function l(){}var f=l=b(c,$super,"ParserContext",l),k=f.$$proto,n=f.$$scope;k.format=k.delimiter=k.delimiter_re=k.buffer=k.cell_specs=k.cell_open=k.last_cursor=k.table=k.current_row=k.col_count=k.col_visits=k.active_rowspans=k.linenum=e;f.$attr_accessor("table");f.$attr_accessor("format");f.$attr_reader("col_count");f.$attr_accessor("buffer");f.$attr_reader("delimiter");f.$attr_reader("delimiter_re");a.defn(f,"$initialize",function(a,b,c){var d,f;null==c&&(c=A([],{}));this.reader=
a;this.table=b;this.last_cursor=a.$cursor();(d=this.format=c["$[]"]("format"))===e||d.$$is_boolean&&1!=d?this.format=n.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((d=n.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===e||d.$$is_boolean&&1!=d)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(d=(f=this.format["$=="]("psv")?c["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==f&&f!==e?b.$document()["$nested?"]():f))===e||d.$$is_boolean&&1!=d?!1!==
(d=c["$[]"]("separator"))&&d!==e?d:n.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+n.get("Regexp").$escape(this.delimiter));this.col_count=(d=b.$columns()["$empty?"]())===e||d.$$is_boolean&&1!=d?b.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=[];return this.linenum=-1});a.defn(f,"$starts_with_delimiter?",function(a){return a["$start_with?"](this.delimiter)});
a.defn(f,"$match_delimiter",function(a){return this.delimiter_re.$match(a)});a.defn(f,"$skip_matched_delimiter",function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==e?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()});a.defn(f,"$buffer_has_unclosed_quotes?",function(a){var b,c,d=e;null==a&&(a=e);d=(""+this.buffer+a).$strip();return b=(c=d["$start_with?"]('"'),!1!==c&&c!==e?d["$start_with?"]('""')["$!"]():c),!1!==b&&b!==e?d["$end_with?"]('"')["$!"]():b});
a.defn(f,"$buffer_quoted?",function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==e?this.buffer["$start_with?"]('""')["$!"]():a});a.defn(f,"$take_cell_spec",function(){return this.cell_specs.$shift()});a.defn(f,"$push_cell_spec",function(a){var b;null==a&&(a=A([],{}));this.cell_specs["$<<"](!1!==(b=a)&&b!==e?b:A([],{}));return e});a.defn(f,"$keep_cell_open",function(){this.cell_open=!0;return e});a.defn(f,"$mark_cell_closed",function(){this.cell_open=
!1;return e});a.defn(f,"$cell_open?",function(){return this.cell_open});a.defn(f,"$cell_closed?",function(){return this.cell_open["$!"]()});a.defn(f,"$close_open_cell",function(a){var b;null==a&&(a=A([],{}));this.$push_cell_spec(a);(b=this["$cell_open?"]())===e||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return e});a.defn(f,"$close_cell",function(b){try{var c,f,d,k=e,l=e,t=e;null==b&&(b=!1);k=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(l=this.$take_cell_spec(),!1!==
l&&l!==e?(t=l.$fetch("repeatcol",1),l.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),l=A([],{}),t=1)):(l=e,t=1,!this.format["$=="]("csv")||(c=(f=k["$empty?"]()["$!"](),!1!==f&&f!==e?k["$include?"]('"'):f))===e||c.$$is_boolean&&1!=c||((c=(f=k["$start_with?"]('"'),!1!==f&&f!==e?k["$end_with?"]('"'):f))===e||c.$$is_boolean&&1!=c||(k=k["$[]"](x(1,-1,!0)).$strip()),k=k.$tr_s('"','"')));(c=(f=1).$upto,
c.$$p=(d=function(c){var f=d.$$s||this,h,r,u,x,y,A,I=e,J=e,V=e,I=e;null==f.col_count&&(f.col_count=e);null==f.table&&(f.table=e);null==f.current_row&&(f.current_row=e);null==f.last_cursor&&(f.last_cursor=e);null==f.reader&&(f.reader=e);null==f.col_visits&&(f.col_visits=e);null==f.linenum&&(f.linenum=e);null==c&&(c=e);if(f.col_count["$=="](-1))f.table.$columns()["$<<"](I=n.get("Table").$$scope.get("Column").$new(f.table,m(g(f.table.$columns().$size(),c),1))),(h=(r=(u=!1!==l&&l!==e)?l["$key?"]("colspan"):
l,!1!==r&&r!==e?q(J=m(l["$[]"]("colspan").$to_i(),1),0):r))===e||h.$$is_boolean&&1!=h||(V=f.table.$columns().$size(),(h=(r=J).$times,h.$$p=(x=function(a){var b=x.$$s||this;null==b.table&&(b.table=e);null==a&&(a=e);return b.table.$columns()["$<<"](n.get("Table").$$scope.get("Column").$new(b.table,g(V,a)))},x.$$s=f,x),h).call(r));else if((h=I=f.table.$columns()["$[]"](f.current_row.$size()))===e||h.$$is_boolean&&1!=h)f.$warn("asciidoctor: ERROR: "+f.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),
a.ret(e);I=n.get("Table").$$scope.get("Cell").$new(I,k,l,f.last_cursor);f.last_cursor=f.reader.$cursor();((h=!1!==(u=I.$rowspan()["$!"]())&&u!==e?u:I.$rowspan()["$=="](1))===e||h.$$is_boolean&&1!=h)&&f.$activate_rowspan(I.$rowspan(),!1!==(h=I.$colspan())&&h!==e?h:1);f.col_visits=g(f.col_visits,!1!==(h=I.$colspan())&&h!==e?h:1);f.current_row["$<<"](I);return(h=(u=f["$end_of_row?"](),!1!==u&&u!==e?!1!==(y=!1!==(A=f.col_count["$!="](-1))&&A!==e?A:q(f.linenum,0))&&y!==e?y:(A=!1!==b&&b!==e)?c["$=="](t):
b:u))===e||h.$$is_boolean&&1!=h?e:f.$close_row()},d.$$s=this,d),c).call(f,t);this.cell_open=!1;return e}catch(u){if(u===a.returner)return u.$v;throw u;}});a.defn(f,"$close_row",function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==e?b:a["$[]="](0,0);return e});a.defn(f,"$activate_rowspan",function(a,b){var c,
d,f;(c=(d=(1).$upto(m(a,1))).$each,c.$$p=(f=function(a){var c=f.$$s||this,d;null==c.active_rowspans&&(c.active_rowspans=e);null==a&&(a=e);return c.active_rowspans["$[]="](a,g(!1!==(d=c.active_rowspans["$[]"](a))&&d!==e?d:0,b))},f.$$s=this,f),c).call(d);return e});a.defn(f,"$end_of_row?",function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==e?a:this.$effective_col_visits()["$=="](this.col_count)});a.defn(f,"$effective_col_visits",function(){return g(this.col_visits,this.active_rowspans["$[]"](0))});
return(a.defn(f,"$advance",function(){return this.linenum=g(this.linenum,1)}),e)&&"advance"})(y.get("Table"),null)}(a.base)};
(function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var g,m=a.top,e=a.nil,c=a.gvars,b=a.module,A=a.hash2,x=a.range,y=a.hash;null==c[":"]&&(c[":"]=e);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
((g=null!=a.RUBY_ENGINE)===e||g.$$is_boolean&&1!=g)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",q(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",q(a.get("RUBY_VERSION"),"2"));m.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&m.$require("asciidoctor/opal_ext");c[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(c){c=
b(c,"Asciidoctor");var g=c.$$scope,m,f,k,B=e,v=e;a.cdecl(g,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(c){c=b(c,"SafeMode").$$scope;a.cdecl(c,"UNSAFE",0);a.cdecl(c,"SAFE",1);a.cdecl(c,"SERVER",10);a.cdecl(c,"SECURE",20)})(g.base);(function(c){c=b(c,"Compliance");c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",function(b,c){null==this.keys&&(this.keys=e);this.$instance_variable_set("@"+b,c);a.get_singleton_class(this).$send("attr_accessor",
b);this.keys["$<<"](b);return e});c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(g.base);a.cdecl(g,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(g,"LIB_PATH",a.get("File").$join(g.get("ROOT_PATH"),"lib"));a.cdecl(g,"DATA_PATH",a.get("File").$join(g.get("ROOT_PATH"),"data"));try{a.cdecl(g,"USER_HOME",a.get("Dir").$home())}catch(r){try{a.cdecl(g,"USER_HOME",!1!==(m=a.get("ENV")["$[]"]("HOME"))&&m!==e?m:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(g,"COERCE_ENCODING",(m=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==m&&m!==e?a.get("RUBY_MIN_VERSION_1_9"):m));a.cdecl(g,"FORCE_ENCODING",(m=g.get("COERCE_ENCODING"),
!1!==m&&m!==e?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):m));a.cdecl(g,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(g,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(g,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(g,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(g,"SUPPORTS_GSUB_RESULT_HASH",(m=a.get("RUBY_MIN_VERSION_1_9"),!1!==m&&m!==e?a.get("RUBY_ENGINE_OPAL")["$!"]():m));a.cdecl(g,
"EOL","\n");a.cdecl(g,"NULL","\x00");a.cdecl(g,"TAB","\t");a.cdecl(g,"DEFAULT_DOCTYPE","article");a.cdecl(g,"DEFAULT_BACKEND","html5");a.cdecl(g,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(g,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(g,"BACKEND_ALIASES",A(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(g,"DEFAULT_PAGE_WIDTHS",A(["docbook"],{docbook:425}));a.cdecl(g,"DEFAULT_EXTENSIONS",A(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",
pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(g,"ASCIIDOC_EXTENSIONS",A([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(g,"SECTION_LEVELS",A(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(g,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(g,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(g,
"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(g,"DELIMITED_BLOCKS",A('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",
["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(g,"DELIMITED_BLOCK_LEADERS",(m=(f=g.get("DELIMITED_BLOCKS").$keys()).$map,m.$$p=(k=function(a){null==a&&(a=e);return a["$[]"](x(0,1,!1))},k.$$s=c,
k),m).call(f).$to_set());a.cdecl(g,"LAYOUT_BREAK_LINES",A(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(g,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(g,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(g,"ORDERED_LIST_KEYWORDS",A(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(g,
"LIST_CONTINUATION","+");a.cdecl(g,"LINE_BREAK"," +");a.cdecl(g,"LINE_CONTINUATION"," \\");a.cdecl(g,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(g,"BLOCK_MATH_DELIMITERS",A(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(g,"INLINE_MATH_DELIMITERS",A(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(g,"FLEXIBLE_ATTRIBUTES",["sectnums"]);g.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(g,"CC_ALPHA","a-zA-Z"),a.cdecl(g,"CG_ALPHA","[a-zA-Z]"),
a.cdecl(g,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(g,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(g,"CG_BLANK","[ \\t]"),a.cdecl(g,"CC_EOL","(?=\\n|$)"),a.cdecl(g,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(g,"CC_ALL","[\\s\\S]"),a.cdecl(g,"CC_WORD","a-zA-Z0-9_"),a.cdecl(g,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(g,"AuthorInfoLineRx",new RegExp("^("+g.get("CG_WORD")+"["+g.get("CC_WORD")+"\\-'.]*)(?: +("+g.get("CG_WORD")+"["+g.get("CC_WORD")+"\\-'.]*))?(?: +("+g.get("CG_WORD")+"["+g.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(g,
"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(g,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(g,"ManpageNamePurposeRx",new RegExp("^(.*?)"+g.get("CG_BLANK")+"+-"+g.get("CG_BLANK")+"+(.*)$"));a.cdecl(g,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(g,"EvalExpressionRx",new RegExp("^(\\S.*?)"+g.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+g.get("CG_BLANK")+"*(\\S.*)$"));a.cdecl(g,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);
a.cdecl(g,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(g,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+g.get("CG_BLANK")+"+(.*))?$"));a.cdecl(g,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(g,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(g,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(g,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+g.get("CC_ALPHA")+":_]["+g.get("CC_WORD")+":.-]*)(?:,"+g.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(g,
"BlockAttributeListRx",new RegExp("^\\[(|"+g.get("CG_BLANK")+"*["+g.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(g,"BlockAttributeLineRx",new RegExp("^\\[(|"+g.get("CG_BLANK")+"*["+g.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+g.get("CC_ALPHA")+":_]["+g.get("CC_WORD")+":.-]*(?:,"+g.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(g,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(g,"AdmonitionParagraphRx",new RegExp("^("+n(g.get("ADMONITION_STYLES").$to_a(),"|")+"):"+g.get("CG_BLANK")));a.cdecl(g,"LiteralParagraphRx",
new RegExp("^("+g.get("CG_BLANK")+"+.*)$"));a.cdecl(g,"CommentBlockRx",/^\/{4,}$/);a.cdecl(g,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(g,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+g.get("CG_BLANK")+"+(\\S.*?)(?:"+g.get("CG_BLANK")+"+\\1)?$"));a.cdecl(g,"SetextSectionTitleRx",new RegExp("^((?=.*"+g.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(g,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(g,"InlineSectionAnchorRx",new RegExp("^(.*?)"+g.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+g.get("CC_ALPHA")+":_]["+
g.get("CC_WORD")+":.-]*)(?:,"+g.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(g,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+g.get("CC_WORD")+"]+?"));a.cdecl(g,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(g,"AnyListRx",new RegExp("^(?:"+g.get("CG_BLANK")+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+g.get("CG_BLANK")+"|"+g.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:$|"+g.get("CG_BLANK")+")|<?\\d+>"+g.get("CG_BLANK")+")"));a.cdecl(g,
"UnorderedListRx",new RegExp("^"+g.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+g.get("CG_BLANK")+"+(.*)$"));a.cdecl(g,"OrderedListRx",new RegExp("^"+g.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+g.get("CG_BLANK")+"+(.*)$"));a.cdecl(g,"OrderedListMarkerRxMap",A(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.cdecl(g,"DescriptionListRx",new RegExp("^(?!\\/\\/)"+
g.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+g.get("CG_BLANK")+"+(.*))?$"));a.cdecl(g,"DescriptionListSiblingRx",A(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+g.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+g.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+g.get("CG_BLANK")+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*(.*)(;;)(?:"+
g.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(g,"CalloutListRx",new RegExp("^<?(\\d+)>"+g.get("CG_BLANK")+"+(.*)$"));a.cdecl(g,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(g,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(g,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+g.get("CC_EOL")+")"));a.cdecl(g,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
g.get("CC_EOL")+")"));a.cdecl(g,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+g.get("CC_EOL")+")");a.cdecl(g,"ListRxMap",A(["ulist","olist","dlist","colist"],{ulist:g.get("UnorderedListRx"),olist:g.get("OrderedListRx"),dlist:g.get("DescriptionListRx"),colist:g.get("CalloutListRx")}));a.cdecl(g,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(g,"CellSpecStartRx",new RegExp("^"+g.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(g,"CellSpecEndRx",new RegExp(""+g.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(g,"GenericBlockMacroRx",new RegExp("^("+g.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(g,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(g,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(g,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+g.get("CC_ALPHA")+":_]["+g.get("CC_WORD")+
":.-]*)(?:,"+g.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(g,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+g.get("CC_WORD")+":]["+g.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(g,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+g.get("CG_WORD")+"["+g.get("CC_WORD")+".%+-]*@"+g.get("CG_ALNUM")+"["+g.get("CC_ALNUM")+".-]*\\."+g.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(g,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+g.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(g,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(g,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+g.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+g.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(g,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(g,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+g.get("CG_BLANK")+"*[^\\1])"));a.cdecl(g,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(g,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(g,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+g.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(g,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+g.get("CG_WORD")+"|"+g.get("CG_WORD")+".*?\\S)\\["+g.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(g,"MenuInlineRx",new RegExp('\\\\?"('+g.get("CG_WORD")+'[^"]*?'+g.get("CG_BLANK")+"*&gt;"+g.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(g,"PassInlineRx",
y(!1,["+","`",new RegExp("(^|[^"+g.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+g.get("CC_ALL")+"*?\\S)\\4)(?!"+g.get("CG_WORD")+")")],!0,["`",e,new RegExp("(^|[^`"+g.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+g.get("CC_ALL")+"*?\\S)\\4)(?![`"+g.get("CC_WORD")+"])")]));a.cdecl(g,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+g.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+g.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(g,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+g.get("CC_WORD")+'":.\\/]'+g.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+g.get("CC_WORD")+'":.\\/]'+g.get("CC_ALL")+"*?)\\[("+g.get("CC_ALL")+"*?)\\])"));g.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(g,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(g,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(g,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(g,"BlankLineRx",new RegExp("^"+g.get("CG_BLANK")+"*\\n"));a.cdecl(g,"DataDelimiterRx",
/,|;/);a.cdecl(g,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(g,"DoubleQuotedMultiRx",new RegExp('^("|)('+g.get("CC_ALL")+"*)\\1$"));a.cdecl(g,"TrailingDigitsRx",/\d+$/);a.cdecl(g,"EscapedSpaceRx",new RegExp("\\\\("+g.get("CG_BLANK")+")"));a.cdecl(g,"SpaceDelimiterRx",new RegExp("([^\\\\])"+g.get("CG_BLANK")+"+"));a.cdecl(g,"SubModifierSniffRx",/[+-]/);a.cdecl(g,"UnicodeCharScanRx",function(){g.get("RUBY_ENGINE")["$=="]("opal");return e}());a.cdecl(g,"UriSniffRx",new RegExp("^"+g.get("CG_ALPHA")+"["+
g.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(g,"UriTerminator",/[);:]$/);a.cdecl(g,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(g,"INTRINSIC_ATTRIBUTES",A("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));B=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+g.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+g.get("CC_ALL")+"*?\\S)\\*(?!"+g.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+
';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+g.get("CC_ALL")+'*?\\S)`"(?!'+g.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+g.get("CC_ALL")+"*?\\S)`'(?!"+g.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+g.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+g.get("CC_ALL")+"*?\\S)`(?!["+g.get("CC_WORD")+"\"'`])")],
["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+g.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+g.get("CC_ALL")+"*?\\S)_(?!"+g.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+g.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+g.get("CC_ALL")+"*?\\S)#(?!"+g.get("CG_WORD")+")")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];v=B.$dup();v["$[]="](2,["double","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+g.get("CC_ALL")+"*?\\S)''(?!"+g.get("CG_WORD")+")")]);v["$[]="](3,["single","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+g.get("CC_ALL")+"*?\\S)'(?!"+g.get("CG_WORD")+")")]);v["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
g.get("CC_ALL")+"+?)\\+\\+")]);v["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+g.get("CC_ALL")+"*?\\S)\\+(?!"+g.get("CG_WORD")+")")]);v.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+g.get("CC_ALL")+"*?\\S)'(?!"+g.get("CG_WORD")+")")]);a.cdecl(g,"QUOTE_SUBS",y(!1,B,!0,v));v=B=e;a.cdecl(g,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+g.get("CG_WORD")+")\\\\?--(?="+g.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+g.get("CG_ALNUM")+")\\\\?'(?="+g.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,
"","bounding"]]);(function(b){var c=b.$$scope;a.defn(b,"$load",function(b,f){var g,k,l,m,n,p,q,r,t,u=this,v=e,x=e,y=e,B=e,L=e,W=e,N=e,K=e,U=e,Z=e,ca=e,R=e,ea=e,X=e;null==f&&(f=A([],{}));try{f=f.$dup();(g=v=f["$[]"]("timings"))===e||g.$$is_boolean&&1!=g||v.$start("read");x=f["$[]="]("attributes",function(){if((g=(y=f["$[]"]("attributes"))["$!"]())===e||g.$$is_boolean&&1!=g){if((g=!1!==(k=a.get("Hash")["$==="](y))&&k!==e?k:(l=a.get("RUBY_ENGINE_JRUBY"),!1!==l&&l!==e?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](y):
l))===e||g.$$is_boolean&&1!=g){if((g=a.get("Array")["$==="](y))===e||g.$$is_boolean&&1!=g){if((g=a.get("String")["$==="](y))===e||g.$$is_boolean&&1!=g){if((g=(p=y["$respond_to?"]("keys"),!1!==p&&p!==e?y["$respond_to?"]("[]"):p))===e||g.$$is_boolean&&1!=g)return u.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+y.$class().$ancestors());L=y;y=A([],{});(g=(p=L.$keys()).$each,g.$$p=(q=function(a){null==a&&(a=e);return y["$[]="](a,L["$[]"](a))},q.$$s=u,q),g).call(p);return y}B="\\1";
y=y.$gsub(c.get("SpaceDelimiterRx"),""+B+c.get("NULL")).$gsub(c.get("EscapedSpaceRx"),B);return(g=(l=y.$split(c.get("NULL"))).$inject,g.$$p=(n=function(b,c){var d,f,g=e,h=e;null==b&&(b=e);null==c&&(c=e);f=c.$split("=",2);d=a.to_ary(f);g=null==d[0]?e:d[0];h=null==d[1]?e:d[1];f;b["$[]="](g,!1!==(d=h)&&d!==e?d:"");return b},n.$$s=u,n),g).call(l,A([],{}))}return(g=(k=y).$inject,g.$$p=(m=function(b,c){var d,f,g=e,h=e;null==b&&(b=e);null==c&&(c=e);f=c.$split("=",2);d=a.to_ary(f);g=null==d[0]?e:d[0];h=null==
d[1]?e:d[1];f;b["$[]="](g,!1!==(d=h)&&d!==e?d:"");return b},m.$$s=u,m),g).call(k,A([],{}))}return y.$dup()}return A([],{})}());W=e;if((g=a.get("File")["$==="](b))===e||g.$$is_boolean&&1!=g)if((g=b["$respond_to?"]("readlines"))===e||g.$$is_boolean&&1!=g)(g=a.get("String")["$==="](b))===e||g.$$is_boolean&&1!=g?(g=a.get("Array")["$==="](b))===e||g.$$is_boolean&&1!=g?u.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):W=b.$dup():W=b.$lines().$entries();else{try{b.$rewind()}catch(D){try{e}finally{a.gvars["!"]=
a.exceptions.pop()||a.nil}}W=b.$readlines()}else N=a.get("File").$expand_path(b.$path()),K=b.$mtime(),W=b.$readlines(),x["$[]="]("docfile",N),x["$[]="]("docdir",a.get("File").$dirname(N)),x["$[]="]("docname",c.get("Helpers").$basename(N,!0)),U=(g="docdate",r=x,!1!==(t=r["$[]"](g))&&t!==e?t:r["$[]="](g,K.$strftime("%Y-%m-%d"))),Z=(g="doctime",r=x,!1!==(t=r["$[]"](g))&&t!==e?t:r["$[]="](g,K.$strftime("%H:%M:%S %Z"))),x["$[]="]("docdatetime",""+U+" "+Z);!1!==v&&v!==e&&(v.$record("read"),v.$start("parse"));
ca=f["$[]"]("parse")["$=="](!1)?c.get("Document").$new(W,f):c.get("Document").$new(W,f).$parse();!1!==v&&v!==e&&v.$record("parse");return ca}catch(D){R=D;try{try{ea="asciidoctor: FAILED: "+(!1!==(g=x["$[]"]("docfile"))&&g!==e?g:"<stdin>")+": Failed to load AsciiDoc document",(g=R["$respond_to?"]("exception"))===e||g.$$is_boolean&&1!=g?(X=R.$class().$new(ea,R),g=[R.$stack_trace()],r=X,r["$stack_trace="].apply(r,g),g[g.length-1]):(X=R.$exception(""+ea+" - "+R.$message()),X.$set_backtrace(R.$backtrace()))}catch(fa){try{X=
R}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return u.$raise(X)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(b,"$load_file",function(b,c){null==c&&(c=A([],{}));return this.$load(a.get("File").$new(!1!==b&&b!==e?b:""),c)});a.defn(b,"$convert",function(b,f){var g,k,m,n,p,r,t,u=e,v=e,x=e,y=e,B=e,V=e,S=e,L=e,W=e,N=e,K=B=e,U=u=u=L=V=e,Z=V=v=e,ca=u=S=y=e,R=x=e;null==f&&(f=A([],{}));f=f.$dup();f.$delete("parse");u=f.$delete("to_file");v=f.$delete("to_dir");x=!1!==(g=f.$delete("mkdirs"))&&
g!==e?g:!1;y=f["$[]"]("timings");B=u;if((!0)["$==="](B)||e["$==="](B))V=(g=v["$!"](),!1!==g&&g!==e?a.get("File")["$==="](b):g),S=!1,L=v,u=e;else if((!1)["$==="](B))L=S=V=!1,u=e;else{if("/dev/null"["$==="](B))return this.$load(b,f);V=!1;S=u["$respond_to?"]("write");L=!1!==S&&S!==e?!1:u}if(((g=f["$key?"]("header_footer"))===e||g.$$is_boolean&&1!=g)&&(g=!1!==(k=V)&&k!==e?k:L)!==e&&(!g.$$is_boolean||1==g))f["$[]="]("header_footer",!0);if(!1!==V&&V!==e)W=a.get("File").$expand_path(b.$path()),f["$[]="]("to_dir",
N=a.get("File").$dirname(W));else if(!1!==L&&L!==e)if(!1!==v&&v!==e)if(!1!==u&&u!==e)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(v,u))));else f["$[]="]("to_dir",a.get("File").$expand_path(v));else{if(!1!==u&&u!==e)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(u)))}else f["$[]="]("to_dir",e);B=this.$load(b,f);if(!1!==V&&V!==e)K=a.get("File").$join(N,""+B.$attributes()["$[]"]("docname")+B.$outfilesuffix()),K["$=="](W)&&this.$raise(a.get("IOError"),
"input file and output file cannot be the same: "+K);else if(!1!==L&&L!==e){if(V=(g=f["$has_key?"]("base_dir"))===e||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(f["$[]"]("base_dir")),L=(g=q(B.$safe(),c.get("SafeMode").$$scope.get("SAFE")))===e||g.$$is_boolean&&1!=g?e:V,!1!==v&&v!==e?(N=B.$normalize_system_path(v,V,L,A(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==u&&u!==e?(K=B.$normalize_system_path(u,N,e,A(["target_name","recover"],
{target_name:"to_dir",recover:!1})),N=a.get("File").$dirname(K)):K=a.get("File").$join(N,""+B.$attributes()["$[]"]("docname")+B.$outfilesuffix())):!1!==u&&u!==e&&(K=B.$normalize_system_path(u,V,L,A(["target_name","recover"],{target_name:"to_dir",recover:!1})),N=a.get("File").$dirname(K)),(g=a.get("File")["$directory?"](N))===e||g.$$is_boolean&&1!=g)!1!==x&&x!==e?a.get("FileUtils").$mkdir_p(N):this.$raise(a.get("IOError"),"target directory does not exist: "+v)}else K=u,N=e;!1!==y&&y!==e&&y.$start("convert");
u=(g=(k=!1!==K&&K!==e)?S["$!"]():K)===e||g.$$is_boolean&&1!=g?A([],{}):A(["outfile","outdir"],{outfile:K,outdir:N});u=B.$convert(u);!1!==y&&y!==e&&y.$record("convert");return!1!==K&&K!==e?(!1!==y&&y!==e&&y.$start("write"),B.$write(u,K),!1!==y&&y!==e&&y.$record("write"),(g=(k=(m=(n=(p=(r=S["$!"](),!1!==r&&r!==e?l(B.$safe(),c.get("SafeMode").$$scope.get("SECURE")):r),!1!==p&&p!==e?B["$attr?"]("linkcss"):p),!1!==n&&n!==e?B["$attr?"]("copycss"):n),!1!==m&&m!==e?B["$attr?"]("basebackend-html"):m),!1!==
k&&k!==e?(m=U=B.$attr("stylesdir"),!1!==m&&m!==e?c.get("Helpers")["$uriish?"](U):m)["$!"]():k))===e||g.$$is_boolean&&1!=g||(V=v=!1,(g=Z=B.$attr("stylesheet"))===e||g.$$is_boolean&&1!=g||((g=c.get("DEFAULT_STYLESHEET_KEYS")["$include?"](Z))===e||g.$$is_boolean&&1!=g?(g=c.get("Helpers")["$uriish?"](Z)["$!"]())===e||g.$$is_boolean&&1!=g||(V=!0):v=!0),y=(g=B["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==e?B.$attr("coderay-css","class")["$=="]("class"):g),S=(g=B["$attr?"]("source-highlighter",
"pygments"),!1!==g&&g!==e?B.$attr("pygments-css","class")["$=="]("class"):g),(g=!1!==(k=!1!==(m=!1!==(n=v)&&n!==e?n:V)&&m!==e?m:y)&&k!==e?k:S)===e||g.$$is_boolean&&1!=g||(u=B.$normalize_system_path(U,N,(g=q(B.$safe(),c.get("SafeMode").$$scope.get("SAFE")))===e||g.$$is_boolean&&1!=g?e:N),!1!==x&&x!==e&&c.get("Helpers").$mkdir_p(u),!1!==v&&v!==e?c.get("Stylesheets").$instance().$write_primary_stylesheet(u):!1!==V&&V!==e&&(ca=(g=(ca=B.$attr("copycss"))["$empty?"]())===e||g.$$is_boolean&&1!=g?B.$normalize_system_path(ca):
B.$normalize_system_path(Z),x=B.$normalize_system_path(Z,u,(g=q(B.$safe(),c.get("SafeMode").$$scope.get("SAFE")))===e||g.$$is_boolean&&1!=g?e:N),((g=!1!==(k=ca["$=="](x))&&k!==e?k:(R=B.$read_asset(ca))["$nil?"]())===e||g.$$is_boolean&&1!=g)&&(g=(k=a.get("File")).$open,g.$$p=(t=function(a){null==a&&(a=e);return a.$write(R)},t.$$s=this,t),g).call(k,x,"w")),!1!==y&&y!==e?c.get("Stylesheets").$instance().$write_coderay_stylesheet(u):!1!==S&&S!==e&&c.get("Stylesheets").$instance().$write_pygments_stylesheet(u,
B.$attr("pygments-style")))),B):u});a.alias(b,"render","convert");a.defn(b,"$convert_file",function(b,c){null==c&&(c=A([],{}));return this.$convert(a.get("File").$new(!1!==b&&b!==e?b:""),c)});return a.alias(b,"render_file","convert_file")})(a.get_singleton_class(c));g.get("RUBY_ENGINE")["$=="]("opal")&&(c.$require("asciidoctor/version"),c.$require("asciidoctor/timings"))})(a.base);m.$require("asciidoctor/core_ext");m.$require("asciidoctor/helpers");m.$require("asciidoctor/substitutors");m.$require("asciidoctor/abstract_node");
m.$require("asciidoctor/abstract_block");m.$require("asciidoctor/attribute_list");m.$require("asciidoctor/block");m.$require("asciidoctor/callouts");m.$require("asciidoctor/converter");(g=a.get("RUBY_ENGINE_OPAL"))===e||g.$$is_boolean&&1!=g||m.$require("asciidoctor/converter/html5");m.$require("asciidoctor/document");m.$require("asciidoctor/inline");m.$require("asciidoctor/list");m.$require("asciidoctor/parser");m.$require("asciidoctor/path_resolver");m.$require("asciidoctor/reader");m.$require("asciidoctor/section");
m.$require("asciidoctor/stylesheets");return m.$require("asciidoctor/table")})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
(function(a){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var g=a.nil,m=a.breaker,e=a.slice,c=a.module,b=a.klass,A=a.hash2,x=a.range,y=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $is_a? $has_more_lines? $next_block $<< $each $define_method $send $insert $dup $call $attr_accessor $[] $option $=== $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $find $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(u){(function(p){p=c(p,"Extensions");var t=p.$$scope;(function(c,$super){function l(){}var m=l=b(c,$super,"Processor",l),n=m.$$scope,h,d,p;m.$$proto.config=g;(function(b){a.defn(b,"$config",function(){var a;null==this.config&&(this.config=g);return!1!==(a=this.config)&&a!==g?a:this.config=A([],{})});a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(b,"$use_dsl",function(){var a;return(a=this.$name()["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===
g||a.$$is_boolean&&1!=a?g:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:this.$include(this.$const_get("DSL"))});a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(m));m.$attr_reader("config");a.defn(m,"$initialize",function(a){null==a&&(a=A([],{}));return this.config=this.$class().$config().$merge(a)});a.defn(m,"$update_config",function(a){return this.config.$update(a)});a.defn(m,"$process",function(){var b=
g,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),b=0;b<c;b++)d[b]=arguments[b+0];return this.$raise(a.get("NotImplementedError"))});a.defn(m,"$create_block",function(a,b,c,d,e){null==e&&(e=A([],{}));return n.get("Block").$new(a,b,A(["source","attributes"],{source:c,attributes:d}).$merge(e))});a.defn(m,"$create_image_block",function(a,b,c){null==c&&(c=A([],{}));return this.$create_block(a,"image",g,b,c)});a.defn(m,"$create_inline",function(a,b,c,d){null==d&&(d=A([],{}));return n.get("Inline").$new(a,
b,c,d)});a.defn(m,"$parse_content",function(a,b,c){var d,e,f=g,h=g;null==c&&(c=A([],{}));for(f=(d=b["$is_a?"](n.get("Reader")))===g||d.$$is_boolean&&1!=d?n.get("Reader").$new(b):b;(e=f["$has_more_lines?"]())!==g&&(!e.$$is_boolean||1==e);)if(h=n.get("Parser").$next_block(f,a,c),!1!==h&&h!==g)a["$<<"](h);return g});return(h=(d=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block",
"pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,h.$$p=(p=function(b,c,d){var f=p.$$s||this,h,l;null==b&&(b=g);null==c&&(c=g);null==d&&(d=g);return(h=f.$define_method,h.$$p=(l=function(b){var f=l.$$s||this,g;b=e.call(arguments,0);return(g=f).$send.apply(g,[c].concat(a.to_a(b.$dup().$insert(1,d))))},l.$$s=f,l),h).call(f,b)},p.$$s=m,p),h).call(d)})(t.base,null);(function(b){b=c(b,"ProcessorDsl");
var e;a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(b,"$process",e=function(){var b,c=e.$$p||g,f=g;null==this.process_block&&(this.process_block=g);var h=arguments.length-0;0>h&&(h=0);for(var d=Array(h),f=0;f<h;f++)d[f]=arguments[f+0];e.$$p=null;return c!==g?this.process_block=c:(b=this.process_block)===g||b.$$is_boolean&&1!=b?this.$raise(a.get("NotImplementedError")):(b=this.process_block).$call.apply(b,a.to_a(d))});a.defn(b,"$process_block_given?",function(){var a;
return(a=this.process_block,null!=a&&a!==g)?"instance-variable":g})})(t.base);(function(c,$super){function e(){}var l=e=b(c,$super,"Preprocessor",e);return(a.defn(l,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(t.base,t.get("Processor"));a.casgn(t.get("Preprocessor"),"DSL",t.get("ProcessorDsl"));(function(c,$super){function e(){}var l=e=b(c,$super,"Treeprocessor",e);return(a.defn(l,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),
g)&&"process"})(t.base,t.get("Processor"));a.casgn(t.get("Treeprocessor"),"DSL",t.get("ProcessorDsl"));(function(c,$super){function e(){}var l=e=b(c,$super,"Postprocessor",e);return(a.defn(l,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(t.base,t.get("Processor"));a.casgn(t.get("Postprocessor"),"DSL",t.get("ProcessorDsl"));(function(c,$super){function e(){}var l=e=b(c,$super,"IncludeProcessor",e);a.defn(l,"$process",function(b,c,d,e){return this.$raise(a.get("NotImplementedError"))});
return(a.defn(l,"$handles?",function(a){return!0}),g)&&"handles?"})(t.base,t.get("Processor"));a.casgn(t.get("IncludeProcessor"),"DSL",t.get("ProcessorDsl"));(function(c,$super){function e(){}var l=e=b(c,$super,"DocinfoProcessor",e),m;l.$$proto.config=g;l.$attr_accessor("location");a.defn(l,"$initialize",m=function(b){var c,e;null==b&&(b=A([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[b]);return c=this.config,!1!==(e=c["$[]"]("location"))&&e!==g?e:c["$[]="]("location",
"head")});return(a.defn(l,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(t.base,t.get("Processor"));(function(b){b=c(b,"DocinfoProcessorDsl");b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",function(a){return this.$option("location",a)})})(t.base);a.casgn(t.get("DocinfoProcessor"),"DSL",t.get("DocinfoProcessorDsl"));(function(c,$super){function e(){}var l=e=b(c,$super,"BlockProcessor",e),m;l.$$proto.config=g;l.$attr_accessor("name");a.defn(l,
"$initialize",m=function(b,c){var e,f,l,n=g;null==b&&(b=g);null==c&&(c=A([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[c]);this.name=!1!==(e=b)&&e!==g?e:this.config["$[]"]("name");n=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](n))e="contexts",f=this.config,!1!==(l=f["$[]"](e))&&l!==g?l:f["$[]="](e,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](n))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",
this.config["$[]"]("contexts").$to_set());return e="content_model",f=this.config,!1!==(l=f["$[]"](e))&&l!==g?l:f["$[]="](e,"compound")});return(a.defn(l,"$process",function(b,c,e){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(t.base,t.get("Processor"));(function(b){b=c(b,"BlockProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))===g||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=
a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",function(){var a=g,b=arguments.length-0;0>b&&(b=0);for(var c=Array(b),a=0;a<b;a++)c[a]=arguments[a+0];return this.$option("contexts",c.$flatten())});a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=g,b=arguments.length-
0;0>b&&(b=0);for(var c=Array(b),a=0;a<b;a++)c[a]=arguments[a+0];return this.$option("pos_attrs",c.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(t.base);a.casgn(t.get("BlockProcessor"),"DSL",t.get("BlockProcessorDsl"));(function(c,$super){function e(){}
var l=e=b(c,$super,"MacroProcessor",e),m;l.$$proto.config=g;l.$attr_accessor("name");a.defn(l,"$initialize",m=function(b,c){var e,f,l;null==b&&(b=g);null==c&&(c=A([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[c]);this.name=!1!==(e=b)&&e!==g?e:this.config["$[]"]("name");return e="content_model",f=this.config,!1!==(l=f["$[]"](e))&&l!==g?l:f["$[]="](e,"attributes")});return(a.defn(l,"$process",function(b,c,e){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(t.base,
t.get("Processor"));(function(b){b=c(b,"MacroProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))===g||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=g,b=arguments.length-
0;0>b&&(b=0);for(var c=Array(b),a=0;a<b;a++)c[a]=arguments[a+0];return this.$option("pos_attrs",c.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(t.base);(function(a,$super){function c(){}c=b(a,$super,"BlockMacroProcessor",c);return g})(t.base,
t.get("MacroProcessor"));a.casgn(t.get("BlockMacroProcessor"),"DSL",t.get("MacroProcessorDsl"));(function(c,$super){function e(){}var l=e=b(c,$super,"InlineMacroProcessor",e),m=l.$$proto;m.config=m.name=g;a.defn(l,"$regexp",function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==g?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))});return(a.defn(l,"$resolve_regexp",function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):
new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),g)&&"resolve_regexp"})(t.base,t.get("MacroProcessor"));(function(b){b=c(b,"InlineMacroProcessorDsl");b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",function(a){return this.$option("format",a)});a.defn(b,"$match",function(a){return this.$option("regexp",a)})})(t.base);a.casgn(t.get("InlineMacroProcessor"),"DSL",t.get("InlineMacroProcessorDsl"));(function(c,$super){function e(){}var l=e=b(c,$super,"Extension",e);
l.$attr("kind");l.$attr("config");l.$attr("instance");return(a.defn(l,"$initialize",function(a,b,c){this.kind=a;this.instance=b;return this.config=c}),g)&&"initialize"})(t.base,null);(function(c,$super){function e(){}var l=e=b(c,$super,"ProcessorExtension",e),m;l.$attr("process_method");return(a.defn(l,"$initialize",m=function(b,c,e){var f;null==e&&(e=g);m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[b,c,c.$config()]);return this.process_method=!1!==(f=e)&&f!==g?f:c.$method("process")}),
g)&&"initialize"})(t.base,t.get("Extension"));(function(c,$super){function e(){}var l=e=b(c,$super,"Group",e);(function(b){var c=b.$$scope;return(a.defn(b,"$register",function(a){null==a&&(a=g);return c.get("Extensions").$register(a,this)}),g)&&"register"})(a.get_singleton_class(l));return(a.defn(l,"$activate",function(b){return this.$raise(a.get("NotImplementedError"))}),g)&&"activate"})(t.base,null);(function(c,$super){function e(){}var p=e=b(c,$super,"Registry",e),r=p.$$proto,h=p.$$scope,d,t,u,
y,P,z,O,Q,ba,F;r.groups=r.preprocessor_extensions=r.treeprocessor_extensions=r.postprocessor_extensions=r.include_processor_extensions=r.docinfo_processor_extensions=r.block_extensions=r.block_macro_extensions=r.inline_macro_extensions=g;p.$attr_reader("document");p.$attr_reader("groups");a.defn(p,"$initialize",function(a){null==a&&(a=A([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=
this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=g});a.defn(p,"$activate",function(b){var c,d,e;this.document=b;(c=(d=q(h.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(e=function(b){var c=e.$$s||this,d,f=g;null==b&&(b=g);f=b;a.get("Proc")["$==="](f)?(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](f)?b.$call(c):g):b=a.get("Class")["$==="](f)?b.$new().$activate(c):b.$activate(c);
return b},e.$$s=this,e),c).call(d);return this});a.defn(p,"$preprocessor",d=function(){var a,b=d.$$p||g,c=g,e=arguments.length-0;0>e&&(e=0);for(var f=Array(e),c=0;c<e;c++)f[c]=arguments[c+0];d.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"preprocessor",f)});a.defn(p,"$preprocessors?",function(){return this.preprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$preprocessors",function(){return this.preprocessor_extensions});a.defn(p,"$treeprocessor",t=function(){var a,
b=t.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];t.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"treeprocessor",e)});a.defn(p,"$treeprocessors?",function(){return this.treeprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$treeprocessors",function(){return this.treeprocessor_extensions});a.defn(p,"$postprocessor",u=function(){var a,b=u.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+
0];u.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"postprocessor",e)});a.defn(p,"$postprocessors?",function(){return this.postprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$postprocessors",function(){return this.postprocessor_extensions});a.defn(p,"$include_processor",y=function(){var a,b=y.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];y.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,
"include_processor",e)});a.defn(p,"$include_processors?",function(){return this.include_processor_extensions["$!"]()["$!"]()});a.defn(p,"$include_processors",function(){return this.include_processor_extensions});a.defn(p,"$docinfo_processor",P=function(){var a,b=P.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];P.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"docinfo_processor",e)});a.defn(p,"$docinfo_processors?",function(a){var b,
c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==g?(b=(c=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):!0});a.defn(p,"$docinfo_processors",function(a){var b,c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?g:!1!==a&&a!==g?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&
(b=g);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):this.docinfo_processor_extensions});a.defn(p,"$block",z=function(){var a,b=z.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];z.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block",e)});a.defn(p,"$blocks?",function(){return this.block_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_block?",function(a,b){var c,d=g;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===
g||c.$$is_boolean&&1!=c?!1:(c=d.$config()["$[]"]("contexts")["$include?"](b))===g||c.$$is_boolean&&1!=c?!1:d});a.defn(p,"$find_block_extension",function(a){return this.block_extensions["$[]"](a.$to_sym())});a.defn(p,"$block_macro",O=function(){var a,b=O.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];O.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block_macro",e)});a.defn(p,"$block_macros?",function(){return this.block_macro_extensions["$!"]()["$!"]()});
a.defn(p,"$registered_for_block_macro?",function(a){var b,c=g;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:c});a.defn(p,"$find_block_macro_extension",function(a){return this.block_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macro",Q=function(){var a,b=Q.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];Q.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"inline_macro",e)});
a.defn(p,"$inline_macros?",function(){return this.inline_macro_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_inline_macro?",function(a){var b,c=g;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:c});a.defn(p,"$find_inline_macro_extension",function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macros",function(){return this.inline_macro_extensions.$values()});p.$private();a.defn(p,"$add_document_processor",ba=function(b,
c){var d,e,f,l,m,p,q=this,r=ba.$$p||g,t=g,u=g,v=g,w=g,y=u=g,z=g,A=g,B=g;ba.$$p=null;t=b.$to_s().$tr("_"," ");u=(d=(e=t.$split(" ")).$map,d.$$p=(f=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](x(1,-1,!1))},f.$$s=q,f),d).call(e).$join().$to_sym();v=h.get("Extensions").$const_get(u);w=(d=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||d.$$is_boolean&&1!=d?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(u);u=!1!==(d=q.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&
d!==g?d:q.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);y=function(){if(r!==g)return z=q.$resolve_args(c,1),A=v.$new(z),(d=v.$constants().$grep("DSL"))===g||d.$$is_boolean&&1!=d||A.$extend(v.$const_get("DSL")),(d=(l=A).$instance_exec,d.$$p=r.$to_proc(),d).call(l),A.$freeze(),((d=A["$process_block_given?"]())===g||d.$$is_boolean&&1!=d)&&q.$raise(a.get("ArgumentError").$new("No block specified to process "+t+" extension at "+r.$source_location())),h.get("ProcessorExtension").$new(b,A);
m=q.$resolve_args(c,2);d=a.to_ary(m);A=null==d[0]?g:d[0];z=null==d[1]?g:d[1];m;if((d=!1!==(m=A["$is_a?"](a.get("Class")))&&m!==g?m:(p=A["$is_a?"](a.get("String")),!1!==p&&p!==g?A=h.get("Extensions").$class_for_name(A):p))===g||d.$$is_boolean&&1!=d){if((d=!1!==(m=A["$is_a?"](v))&&m!==g?m:(p=!1!==w&&w!==g)?A["$is_a?"](w):w)===g||d.$$is_boolean&&1!=d)return q.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+c));A.$update_config(z);A.$freeze();return h.get("ProcessorExtension").$new(b,
A)}((d=!1!==(m=n(A,v))&&m!==g?m:(p=!1!==w&&w!==g)?n(A,w):w)===g||d.$$is_boolean&&1!=d)&&q.$raise(a.get("ArgumentError").$new("Invalid type for "+t+" extension: "+A));B=A.$new(z);B.$freeze();return h.get("ProcessorExtension").$new(b,B)}();return y.$config()["$[]"]("position")["$=="](">>")?u.$unshift(y):u["$<<"](y)});a.defn(p,"$add_syntax_processor",F=function(b,c){var d,e,f,l,p;p=F.$$p||g;var q=g,r=g,t=g,u=r=g,v=t=g,w=g,y=g,r=g;F.$$p=null;q=b.$to_s().$tr("_"," ");r=(d=(e=q.$split(" ")).$map,d.$$p=
(f=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](x(1,-1,!1))},f.$$s=this,f),d).call(e).$join();t=(""+r+"Processor").$to_sym();r=h.get("Extensions").$const_get(t);u=(d=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||d.$$is_boolean&&1!=d?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(t);t=!1!==(d=this.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&d!==g?d:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),A([],{}));if(p!==g){l=this.$resolve_args(c,
2);d=a.to_ary(l);v=null==d[0]?g:d[0];w=null==d[1]?g:d[1];l;y=r.$new(this.$as_symbol(v),w);(d=r.$constants().$grep("DSL"))===g||d.$$is_boolean&&1!=d||y.$extend(r.$const_get("DSL"));if(p.$arity()["$=="](1)){if(a.yield1(p,y)===m)return m.$v}else(d=(l=y).$instance_exec,d.$$p=p.$to_proc(),d).call(l);((d=v=this.$as_symbol(y.$name()))===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+q+" extension at "+p.$source_location()));((d=y["$process_block_given?"]())===
g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+q+" extension at "+p.$source_location()));y.$freeze();return t["$[]="](v,h.get("ProcessorExtension").$new(b,y))}p=this.$resolve_args(c,3);d=a.to_ary(p);y=null==d[0]?g:d[0];v=null==d[1]?g:d[1];w=null==d[2]?g:d[2];p;if((d=!1!==(p=y["$is_a?"](a.get("Class")))&&p!==g?p:(l=y["$is_a?"](a.get("String")),!1!==l&&l!==g?y=h.get("Extensions").$class_for_name(y):l))===g||d.$$is_boolean&&1!=d){if((d=!1!==(p=y["$is_a?"](r))&&
p!==g?p:(l=!1!==u&&u!==g)?y["$is_a?"](u):u)===g||d.$$is_boolean&&1!=d)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+q+" extension: "+c));y.$update_config(w);((d=v=!1!==v&&v!==g?(p=[this.$as_symbol(v)],l=y,l["$name="].apply(l,p),p[p.length-1]):this.$as_symbol(y.$name()))===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+q+" extension: "+y));y.$freeze();return t["$[]="](v,h.get("ProcessorExtension").$new(b,y))}((d=
!1!==(p=n(y,r))&&p!==g?p:(l=!1!==u&&u!==g)?n(y,u):u)===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+q+" extension does not inherit from "+r+": "+y));r=y.$new(this.$as_symbol(v),w);((d=v=this.$as_symbol(r.$name()))===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+q+" extension: "+y));y.$freeze();return t["$[]="](v,h.get("ProcessorExtension").$new(b,r))});a.defn(p,"$resolve_args",function(b,c){var d,e=g,f=g,h=g,
e=(d=b["$[]"](-1)["$is_a?"](a.get("Hash")))===g||d.$$is_boolean&&1!=d?A([],{}):b.$pop();if(c["$=="](1))return e;var f=b.$size(),m=h=l(l(c,1),f);(d="number"===typeof m?0<m:m["$>"](0))===g||d.$$is_boolean&&1!=d?(d=n(h,0))===g||d.$$is_boolean&&1!=d||b.$pop(h["$-@"]()):b.$fill(g,f,h);b["$<<"](e);return b});return(a.defn(p,"$as_symbol",function(b){var c;return!1!==b&&b!==g?(c=b["$is_a?"](a.get("Symbol")))===g||c.$$is_boolean&&1!=c?b.$to_sym():b:g}),g)&&"as_symbol"})(t.base,null);(function(b){var c=b.$$scope,
e,l;a.defn(b,"$generate_name",function(){return"extgrp"+this.$next_auto_id()});a.defn(b,"$next_auto_id",function(){var a;null==this.auto_id&&(this.auto_id=g);!1!==(a=this.auto_id)&&a!==g?a:this.auto_id=-1;return this.auto_id=q(this.auto_id,1)});a.defn(b,"$groups",function(){var a;null==this.groups&&(this.groups=g);return!1!==(a=this.groups)&&a!==g?a:this.groups=A([],{})});a.defn(b,"$build_registry",e=function(a){var b,d=e.$$p||g;null==a&&(a=g);e.$$p=null;return d!==g?(!1!==(b=a)&&b!==g?b:a=this.$generate_name(),
c.get("Registry").$new(y(a,d))):c.get("Registry").$new()});a.defn(b,"$register",l=function(){var b,c=l.$$p||g,d=g,e=g,f=e=g,d=f=g,e=arguments.length-0;0>e&&(e=0);for(var k=Array(e),d=0;d<e;d++)k[d]=arguments[d+0];l.$$p=null;d=k.$length();c===g&&((b=(e=k.$pop())["$!"]())===g||b.$$is_boolean&&1!=b?(f=e,c=a.get("Class")["$==="](f)?e:a.get("String")["$==="](f)?this.$class_for_name(e):a.get("Symbol")["$==="](f)?this.$class_for_name(e.$to_s()):e):c=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));
e=c;f=!1!==(b=k.$pop())&&b!==g?b:this.$generate_name();((b=k["$empty?"]())===g||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+d+" for 1..2)"));return this.$groups()["$[]="](f,e)});a.defn(b,"$unregister_all",function(){return this.groups=A([],{})});a.defn(b,"$resolve_class",function(b){var c;return(c=b["$is_a?"](a.get("Class")))===g||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b});return(a.defn(b,"$class_for_name",function(b){var c,d,e,f=g,f=
a.get("Object");(c=(d=b.$split("::")).$each,c.$$p=(e=function(a){var c=e.$$s||this,d;null==a&&(a=g);return(d=a["$empty?"]())===g||d.$$is_boolean&&1!=d?(d=f["$const_defined?"](a))===g||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):f=f.$const_get(a):g},e.$$s=this,e),c).call(d);return f}),g)&&"class_for_name"})(a.get_singleton_class(p))})(c(u,"Asciidoctor").$$scope.base)}(a.base)})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);

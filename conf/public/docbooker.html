<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="js/asciidoctor-browser.js"></script>
    <script src="js/asciidoctor-docbook.js"></script>
</head>
<body>
<textarea id="input" cols="30" rows="10">

</textarea>
<textarea id="output" cols="30" rows="10"></textarea>
<button onclick="convert()">Convert</button>
<script>
    var docbookOpts = Opal.hash2(['attributes', 'header_footer'], {
        'attributes': ['backend=docbook5', 'doctype=book'],
        'header_footer': true
    });
    var asciidoctor = Asciidoctor({runtime: {platform: 'browser'}});

    function convert() {
        var input = document.querySelector("#input");
        var result = asciidoctor.$render(input.value, docbookOpts);
        input.value = result;
    }
</script>
</body>
</html>